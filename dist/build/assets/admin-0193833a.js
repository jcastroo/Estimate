import{g as r}from"./vform.es-21186655.js";import{n as o,f as n,d as i}from"./app-d7e169b8.js";import"./_commonjsHelpers-53f7dec1.js";const l={components:{},middleware:"admin",scrollToTop:false,mixins:[n],data:()=>({metaTitle:"Admin",form:new r({identifier:""}),loading:false}),methods:{async impersonate(){this.loading=true;this.$store.commit("auth/startImpersonating");i.get("/api/admin/impersonate/"+encodeURI(this.form.identifier)).then(async s=>{this.loading=false;this.$store.dispatch("auth/saveToken",{token:s.data.token,remember:false});await this.$store.dispatch("auth/fetchUser");this.$store.commit("open/workspaces/set",[]);this.$router.push({name:"home"})}).catch(s=>{this.alertError(s.response.data.message);this.loading=false})}}};var m=function s(){var e=this,t=e._self._c;return t("div",[t("h3",{staticClass:"font-semibold text-2xl text-gray-900"},[e._v("Admin settings")]),t("small",{staticClass:"text-gray-600"},[e._v("Manage settings.")]),t("h3",{staticClass:"mt-3 text-lg font-semibold mb-4"},[e._v(" Tools ")]),t("div",{staticClass:"flex flex-wrap mb-5"},[t("a",{attrs:{"href":"/stats"}},[t("v-button",{staticClass:"mx-1",attrs:{"color":"gray","shade":"lighter"}},[e._v(" Stats ")])],1),t("a",{attrs:{"href":"/horizon"}},[t("v-button",{staticClass:"mx-1",attrs:{"color":"gray","shade":"lighter"}},[e._v(" Horizon ")])],1)]),t("h3",{staticClass:"text-lg font-semibold mb-4"},[e._v(" Impersonate User ")]),t("form",{on:{"submit":function(a){a.preventDefault();return e.impersonate.apply(null,arguments)},"keydown":function(a){return e.form.onKeydown(a)}}},[t("text-input",{attrs:{"name":"identifier","form":e.form,"label":"Identifier","required":true,"help":"User Id, User Email or Form Slug"}}),t("v-button",{staticClass:"mt-4",attrs:{"loading":e.loading}},[e._v("Impersonate User")])],1)])};var d=[];var f=o(l,m,d,false,null,null,null,null);const u=f.exports;export{u as default};
