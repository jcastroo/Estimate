import{d as Un,n as Xs,f as Xn}from"./index-e0b9de87.js";import{P as Kn}from"./ProTag-1df65437.js";import"./_commonjsHelpers-53f7dec1.js";/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function ct(){}const qn=function(){let i=0;return function(){return i++}}();function R(i){return i===null||typeof i==="undefined"}function z(i){if(Array.isArray&&Array.isArray(i)){return true}const t=Object.prototype.toString.call(i);if(t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"){return true}return false}function A(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}const $=i=>(typeof i==="number"||i instanceof Number)&&isFinite(+i);function J(i,t){return $(i)?i:t}function P(i,t){return typeof i==="undefined"?t:i}const Gn=(i,t)=>typeof i==="string"&&i.endsWith("%")?parseFloat(i)/100:i/t;const Ks=(i,t)=>typeof i==="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function I(i,t,e){if(i&&typeof i.call==="function"){return i.apply(e,t)}}function E(i,t,e,s){let n,o,a;if(z(i)){o=i.length;if(s){for(n=o-1;n>=0;n--){t.call(e,i[n],n)}}else{for(n=0;n<o;n++){t.call(e,i[n],n)}}}else if(A(i)){a=Object.keys(i);o=a.length;for(n=0;n<o;n++){t.call(e,i[a[n]],a[n])}}}function Pe(i,t){let e,s,n,o;if(!i||!t||i.length!==t.length){return false}for(e=0,s=i.length;e<s;++e){n=i[e];o=t[e];if(n.datasetIndex!==o.datasetIndex||n.index!==o.index){return false}}return true}function De(i){if(z(i)){return i.map(De)}if(A(i)){const t=Object.create(null);const e=Object.keys(i);const s=e.length;let n=0;for(;n<s;++n){t[e[n]]=De(i[e[n]])}return t}return i}function qs(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Zn(i,t,e,s){if(!qs(i)){return}const n=t[i];const o=e[i];if(A(n)&&A(o)){te(n,o,s)}else{t[i]=De(o)}}function te(i,t,e){const s=z(t)?t:[t];const n=s.length;if(!A(i)){return i}e=e||{};const o=e.merger||Zn;for(let a=0;a<n;++a){t=s[a];if(!A(t)){continue}const r=Object.keys(t);for(let l=0,c=r.length;l<c;++l){o(r[l],i,t,e)}}return i}function qt(i,t){return te(i,t,{merger:Jn})}function Jn(i,t,e){if(!qs(i)){return}const s=t[i];const n=e[i];if(A(s)&&A(n)){qt(s,n)}else if(!Object.prototype.hasOwnProperty.call(t,i)){t[i]=De(n)}}const Wi={"":i=>i,x:i=>i.x,y:i=>i.y};function _t(i,t){const e=Wi[t]||(Wi[t]=Qn(t));return e(i)}function Qn(i){const t=to(i);return e=>{for(const s of t){if(s===""){break}e=e&&e[s]}return e}}function to(i){const t=i.split(".");const e=[];let s="";for(const n of t){s+=n;if(s.endsWith("\\")){s=s.slice(0,-1)+"."}else{e.push(s);s=""}}return e}function bi(i){return i.charAt(0).toUpperCase()+i.slice(1)}const et=i=>typeof i!=="undefined";const xt=i=>typeof i==="function";const Ni=(i,t)=>{if(i.size!==t.size){return false}for(const e of i){if(!t.has(e)){return false}}return true};function eo(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const B=Math.PI;const F=2*B;const io=F+B;const Oe=Number.POSITIVE_INFINITY;const so=B/180;const W=B/2;const Vt=B/4;const Vi=B*2/3;const Q=Math.log10;const lt=Math.sign;function Hi(i){const t=Math.round(i);i=Gt(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(Q(i)));const s=i/e;const n=s<=1?1:s<=2?2:s<=5?5:10;return n*e}function no(i){const t=[];const e=Math.sqrt(i);let s;for(s=1;s<e;s++){if(i%s===0){t.push(s);t.push(i/s)}}if(e===(e|0)){t.push(e)}t.sort((n,o)=>n-o).pop();return t}function zt(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Gt(i,t,e){return Math.abs(i-t)<e}function oo(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function Gs(i,t,e){let s,n,o;for(s=0,n=i.length;s<n;s++){o=i[s][e];if(!isNaN(o)){t.min=Math.min(t.min,o);t.max=Math.max(t.max,o)}}}function st(i){return i*(B/180)}function _i(i){return i*(180/B)}function ji(i){if(!$(i)){return}let t=1;let e=0;while(Math.round(i*t)/t!==i){t*=10;e++}return e}function Zs(i,t){const e=t.x-i.x;const s=t.y-i.y;const n=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);if(o<-.5*B){o+=F}return{angle:o,distance:n}}function ai(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function ao(i,t){return(i-t+io)%F-B}function it(i){return(i%F+F)%F}function ee(i,t,e,s){const n=it(i);const o=it(t);const a=it(e);const r=it(o-n);const l=it(a-n);const c=it(n-o);const h=it(n-a);return n===o||n===a||s&&o===a||r>l&&c<h}function U(i,t,e){return Math.max(t,Math.min(e,i))}function ro(i){return U(i,-32768,32767)}function gt(i,t,e,s=1e-6){return i>=Math.min(t,e)-s&&i<=Math.max(t,e)+s}function xi(i,t,e){e=e||(a=>i[a]<t);let s=i.length-1;let n=0;let o;while(s-n>1){o=n+s>>1;if(e(o)){n=o}else{s=o}}return{lo:n,hi:s}}const Ct=(i,t,e,s)=>xi(i,e,s?n=>i[n][t]<=e:n=>i[n][t]<e);const lo=(i,t,e)=>xi(i,e,s=>i[s][t]>=e);function co(i,t,e){let s=0;let n=i.length;while(s<n&&i[s]<t){s++}while(n>s&&i[n-1]>e){n--}return s>0||n<i.length?i.slice(s,n):i}const Js=["push","pop","shift","splice","unshift"];function ho(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:true,enumerable:false,value:{listeners:[t]}});Js.forEach(e=>{const s="_onData"+bi(e);const n=i[e];Object.defineProperty(i,e,{configurable:true,enumerable:false,value(...o){const a=n.apply(this,o);i._chartjs.listeners.forEach(r=>{if(typeof r[s]==="function"){r[s](...o)}});return a}})})}function $i(i,t){const e=i._chartjs;if(!e){return}const s=e.listeners;const n=s.indexOf(t);if(n!==-1){s.splice(n,1)}if(s.length>0){return}Js.forEach(o=>{delete i[o]});delete i._chartjs}function Qs(i){const t=new Set;let e,s;for(e=0,s=i.length;e<s;++e){t.add(i[e])}if(t.size===s){return i}return Array.from(t)}const tn=function(){if(typeof window==="undefined"){return function(i){return i()}}return window.requestAnimationFrame}();function en(i,t,e){const s=e||(a=>Array.prototype.slice.call(a));let n=false;let o=[];return function(...a){o=s(a);if(!n){n=true;tn.call(window,()=>{n=false;i.apply(t,o)})}}}function uo(i,t){let e;return function(...s){if(t){clearTimeout(e);e=setTimeout(i,t,s)}else{i.apply(this,s)}return t}}const yi=i=>i==="start"?"left":i==="end"?"right":"center";const Y=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2;const fo=(i,t,e,s)=>{const n=s?"left":"right";return i===n?e:i==="center"?(t+e)/2:t};function sn(i,t,e){const s=t.length;let n=0;let o=s;if(i._sorted){const{iScale:a,_parsed:r}=i;const l=a.axis;const{min:c,max:h,minDefined:d,maxDefined:u}=a.getUserBounds();if(d){n=U(Math.min(Ct(r,a.axis,c).lo,e?s:Ct(t,l,a.getPixelForValue(c)).lo),0,s-1)}if(u){o=U(Math.max(Ct(r,a.axis,h,true).hi+1,e?0:Ct(t,l,a.getPixelForValue(h),true).hi+1),n,s)-n}else{o=s-n}}return{start:n,count:o}}function nn(i){const{xScale:t,yScale:e,_scaleRanges:s}=i;const n={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s){i._scaleRanges=n;return true}const o=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;Object.assign(s,n);return o}const ue=i=>i===0||i===1;const Yi=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*F/e));const Ui=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*F/e)+1;const Zt={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*W)+1,easeOutSine:i=>Math.sin(i*W),easeInOutSine:i=>-.5*(Math.cos(B*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>ue(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>ue(i)?i:Yi(i,.075,.3),easeOutElastic:i=>ue(i)?i:Ui(i,.075,.3),easeInOutElastic(i){const t=.1125;const e=.45;return ue(i)?i:i<.5?.5*Yi(i*2,t,e):.5+.5*Ui(i*2-1,t,e)},easeInBack(i){const t=1.70158;return i*i*((t+1)*i-t)},easeOutBack(i){const t=1.70158;return(i-=1)*i*((t+1)*i+t)+1},easeInOutBack(i){let t=1.70158;if((i/=.5)<1){return .5*(i*i*(((t*=1.525)+1)*i-t))}return .5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Zt.easeOutBounce(1-i),easeOutBounce(i){const t=7.5625;const e=2.75;if(i<1/e){return t*i*i}if(i<2/e){return t*(i-=1.5/e)*i+.75}if(i<2.5/e){return t*(i-=2.25/e)*i+.9375}return t*(i-=2.625/e)*i+.984375},easeInOutBounce:i=>i<.5?Zt.easeInBounce(i*2)*.5:Zt.easeOutBounce(i*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function ae(i){return i+.5|0}const pt=(i,t,e)=>Math.max(Math.min(i,e),t);function Xt(i){return pt(ae(i*2.55),0,255)}function bt(i){return pt(ae(i*255),0,255)}function ut(i){return pt(ae(i/2.55)/100,0,1)}function Xi(i){return pt(ae(i*100),0,100)}const Z={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};const ri=[..."0123456789ABCDEF"];const go=i=>ri[i&15];const po=i=>ri[(i&240)>>4]+ri[i&15];const fe=i=>(i&240)>>4===(i&15);const mo=i=>fe(i.r)&&fe(i.g)&&fe(i.b)&&fe(i.a);function bo(i){var t=i.length;var e;if(i[0]==="#"){if(t===4||t===5){e={r:255&Z[i[1]]*17,g:255&Z[i[2]]*17,b:255&Z[i[3]]*17,a:t===5?Z[i[4]]*17:255}}else if(t===7||t===9){e={r:Z[i[1]]<<4|Z[i[2]],g:Z[i[3]]<<4|Z[i[4]],b:Z[i[5]]<<4|Z[i[6]],a:t===9?Z[i[7]]<<4|Z[i[8]]:255}}}return e}const _o=(i,t)=>i<255?t(i):"";function xo(i){var t=mo(i)?go:po;return i?"#"+t(i.r)+t(i.g)+t(i.b)+_o(i.a,t):void 0}const yo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function on(i,t,e){const s=t*Math.min(e,1-e);const n=(o,a=(o+i/30)%12)=>e-s*Math.max(Math.min(a-3,9-a,1),-1);return[n(0),n(8),n(4)]}function vo(i,t,e){const s=(n,o=(n+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function Mo(i,t,e){const s=on(i,1,.5);let n;if(t+e>1){n=1/(t+e);t*=n;e*=n}for(n=0;n<3;n++){s[n]*=1-t-e;s[n]+=t}return s}function ko(i,t,e,s,n){if(i===n){return(t-e)/s+(t<e?6:0)}if(t===n){return(e-i)/s+2}return(i-t)/s+4}function vi(i){const t=255;const e=i.r/t;const s=i.g/t;const n=i.b/t;const o=Math.max(e,s,n);const a=Math.min(e,s,n);const r=(o+a)/2;let l,c,h;if(o!==a){h=o-a;c=r>.5?h/(2-o-a):h/(o+a);l=ko(e,s,n,h,o);l=l*60+.5}return[l|0,c||0,r]}function Mi(i,t,e,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,s)).map(bt)}function ki(i,t,e){return Mi(on,i,t,e)}function wo(i,t,e){return Mi(Mo,i,t,e)}function So(i,t,e){return Mi(vo,i,t,e)}function an(i){return(i%360+360)%360}function Co(i){const t=yo.exec(i);let e=255;let s;if(!t){return}if(t[5]!==s){e=t[6]?Xt(+t[5]):bt(+t[5])}const n=an(+t[2]);const o=+t[3]/100;const a=+t[4]/100;if(t[1]==="hwb"){s=wo(n,o,a)}else if(t[1]==="hsv"){s=So(n,o,a)}else{s=ki(n,o,a)}return{r:s[0],g:s[1],b:s[2],a:e}}function Po(i,t){var e=vi(i);e[0]=an(e[0]+t);e=ki(e);i.r=e[0];i.g=e[1];i.b=e[2]}function Do(i){if(!i){return}const t=vi(i);const e=t[0];const s=Xi(t[1]);const n=Xi(t[2]);return i.a<255?`hsla(${e}, ${s}%, ${n}%, ${ut(i.a)})`:`hsl(${e}, ${s}%, ${n}%)`}const Ki={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"};const qi={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Oo(){const i={};const t=Object.keys(qi);const e=Object.keys(Ki);let s,n,o,a,r;for(s=0;s<t.length;s++){a=r=t[s];for(n=0;n<e.length;n++){o=e[n];r=r.replace(o,Ki[o])}o=parseInt(qi[a],16);i[r]=[o>>16&255,o>>8&255,o&255]}return i}let ge;function Ao(i){if(!ge){ge=Oo();ge.transparent=[0,0,0,0]}const t=ge[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Lo=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function To(i){const t=Lo.exec(i);let e=255;let s,n,o;if(!t){return}if(t[7]!==s){const a=+t[7];e=t[8]?Xt(a):pt(a*255,0,255)}s=+t[1];n=+t[3];o=+t[5];s=255&(t[2]?Xt(s):pt(s,0,255));n=255&(t[4]?Xt(n):pt(n,0,255));o=255&(t[6]?Xt(o):pt(o,0,255));return{r:s,g:n,b:o,a:e}}function Ro(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ut(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Ke=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055;const Et=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Eo(i,t,e){const s=Et(ut(i.r));const n=Et(ut(i.g));const o=Et(ut(i.b));return{r:bt(Ke(s+e*(Et(ut(t.r))-s))),g:bt(Ke(n+e*(Et(ut(t.g))-n))),b:bt(Ke(o+e*(Et(ut(t.b))-o))),a:i.a+e*(t.a-i.a)}}function pe(i,t,e){if(i){let s=vi(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1));s=ki(s);i.r=s[0];i.g=s[1];i.b=s[2]}}function rn(i,t){return i?Object.assign(t||{},i):i}function Gi(i){var t={r:0,g:0,b:0,a:255};if(Array.isArray(i)){if(i.length>=3){t={r:i[0],g:i[1],b:i[2],a:255};if(i.length>3){t.a=bt(i[3])}}}else{t=rn(i,{r:0,g:0,b:0,a:1});t.a=bt(t.a)}return t}function Fo(i){if(i.charAt(0)==="r"){return To(i)}return Co(i)}class Ae{constructor(t){if(t instanceof Ae){return t}const e=typeof t;let s;if(e==="object"){s=Gi(t)}else if(e==="string"){s=bo(t)||Ao(t)||Fo(t)}this._rgb=s;this._valid=!!s}get valid(){return this._valid}get rgb(){var t=rn(this._rgb);if(t){t.a=ut(t.a)}return t}set rgb(t){this._rgb=Gi(t)}rgbString(){return this._valid?Ro(this._rgb):void 0}hexString(){return this._valid?xo(this._rgb):void 0}hslString(){return this._valid?Do(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb;const n=t.rgb;let o;const a=e===o?.5:e;const r=2*a-1;const l=s.a-n.a;const c=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;o=1-c;s.r=255&c*s.r+o*n.r+.5;s.g=255&c*s.g+o*n.g+.5;s.b=255&c*s.b+o*n.b+.5;s.a=a*s.a+(1-a)*n.a;this.rgb=s}return this}interpolate(t,e){if(t){this._rgb=Eo(this._rgb,t._rgb,e)}return this}clone(){return new Ae(this.rgb)}alpha(t){this._rgb.a=bt(t);return this}clearer(t){const e=this._rgb;e.a*=1-t;return this}greyscale(){const t=this._rgb;const e=ae(t.r*.3+t.g*.59+t.b*.11);t.r=t.g=t.b=e;return this}opaquer(t){const e=this._rgb;e.a*=1+t;return this}negate(){const t=this._rgb;t.r=255-t.r;t.g=255-t.g;t.b=255-t.b;return this}lighten(t){pe(this._rgb,2,t);return this}darken(t){pe(this._rgb,2,-t);return this}saturate(t){pe(this._rgb,1,t);return this}desaturate(t){pe(this._rgb,1,-t);return this}rotate(t){Po(this._rgb,t);return this}}function ln(i){return new Ae(i)}function cn(i){if(i&&typeof i==="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return false}function Zi(i){return cn(i)?i:ln(i)}function qe(i){return cn(i)?i:ln(i).saturate(.5).darken(.1).hexString()}const Ot=Object.create(null);const li=Object.create(null);function Jt(i,t){if(!t){return i}const e=t.split(".");for(let s=0,n=e.length;s<n;++s){const o=e[s];i=i[o]||(i[o]=Object.create(null))}return i}function Ge(i,t,e){if(typeof t==="string"){return te(Jt(i,t),e)}return te(Jt(i,""),t)}class Io{constructor(t){this.animation=void 0;this.backgroundColor="rgba(0,0,0,0.1)";this.borderColor="rgba(0,0,0,0.1)";this.color="#666";this.datasets={};this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio();this.elements={};this.events=["mousemove","mouseout","click","touchstart","touchmove"];this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null};this.hover={};this.hoverBackgroundColor=(e,s)=>qe(s.backgroundColor);this.hoverBorderColor=(e,s)=>qe(s.borderColor);this.hoverColor=(e,s)=>qe(s.color);this.indexAxis="x";this.interaction={mode:"nearest",intersect:true,includeInvisible:false};this.maintainAspectRatio=true;this.onHover=null;this.onClick=null;this.parsing=true;this.plugins={};this.responsive=true;this.scale=void 0;this.scales={};this.showLine=true;this.drawActiveElementsOnTop=true;this.describe(t)}set(t,e){return Ge(this,t,e)}get(t){return Jt(this,t)}describe(t,e){return Ge(li,t,e)}override(t,e){return Ge(Ot,t,e)}route(t,e,s,n){const o=Jt(this,t);const a=Jt(this,s);const r="_"+e;Object.defineProperties(o,{[r]:{value:o[e],writable:true},[e]:{enumerable:true,get(){const l=this[r];const c=a[n];if(A(l)){return Object.assign({},c,l)}return P(l,c)},set(l){this[r]=l}}})}}var O=new Io({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:false,_indexable:false}});function zo(i){if(!i||R(i.size)||R(i.family)){return null}return(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Le(i,t,e,s,n){let o=t[n];if(!o){o=t[n]=i.measureText(n).width;e.push(n)}if(o>s){s=o}return s}function Bo(i,t,e,s){s=s||{};let n=s.data=s.data||{};let o=s.garbageCollect=s.garbageCollect||[];if(s.font!==t){n=s.data={};o=s.garbageCollect=[];s.font=t}i.save();i.font=t;let a=0;const r=e.length;let l,c,h,d,u;for(l=0;l<r;l++){d=e[l];if(d!==void 0&&d!==null&&z(d)!==true){a=Le(i,n,o,a,d)}else if(z(d)){for(c=0,h=d.length;c<h;c++){u=d[c];if(u!==void 0&&u!==null&&!z(u)){a=Le(i,n,o,a,u)}}}}i.restore();const f=o.length/2;if(f>e.length){for(l=0;l<f;l++){delete n[o[l]]}o.splice(0,f)}return a}function Mt(i,t,e){const s=i.currentDevicePixelRatio;const n=e!==0?Math.max(e/2,.5):0;return Math.round((t-n)*s)/s+n}function Ji(i,t){t=t||i.getContext("2d");t.save();t.resetTransform();t.clearRect(0,0,i.width,i.height);t.restore()}function ci(i,t,e,s){hn(i,t,e,s,null)}function hn(i,t,e,s,n){let o,a,r,l,c,h;const d=t.pointStyle;const u=t.rotation;const f=t.radius;let g=(u||0)*so;if(d&&typeof d==="object"){o=d.toString();if(o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"){i.save();i.translate(e,s);i.rotate(g);i.drawImage(d,-d.width/2,-d.height/2,d.width,d.height);i.restore();return}}if(isNaN(f)||f<=0){return}i.beginPath();switch(d){default:if(n){i.ellipse(e,s,n/2,f,0,0,F)}else{i.arc(e,s,f,0,F)}i.closePath();break;case"triangle":i.moveTo(e+Math.sin(g)*f,s-Math.cos(g)*f);g+=Vi;i.lineTo(e+Math.sin(g)*f,s-Math.cos(g)*f);g+=Vi;i.lineTo(e+Math.sin(g)*f,s-Math.cos(g)*f);i.closePath();break;case"rectRounded":c=f*.516;l=f-c;a=Math.cos(g+Vt)*l;r=Math.sin(g+Vt)*l;i.arc(e-a,s-r,c,g-B,g-W);i.arc(e+r,s-a,c,g-W,g);i.arc(e+a,s+r,c,g,g+W);i.arc(e-r,s+a,c,g+W,g+B);i.closePath();break;case"rect":if(!u){l=Math.SQRT1_2*f;h=n?n/2:l;i.rect(e-h,s-l,2*h,2*l);break}g+=Vt;case"rectRot":a=Math.cos(g)*f;r=Math.sin(g)*f;i.moveTo(e-a,s-r);i.lineTo(e+r,s-a);i.lineTo(e+a,s+r);i.lineTo(e-r,s+a);i.closePath();break;case"crossRot":g+=Vt;case"cross":a=Math.cos(g)*f;r=Math.sin(g)*f;i.moveTo(e-a,s-r);i.lineTo(e+a,s+r);i.moveTo(e+r,s-a);i.lineTo(e-r,s+a);break;case"star":a=Math.cos(g)*f;r=Math.sin(g)*f;i.moveTo(e-a,s-r);i.lineTo(e+a,s+r);i.moveTo(e+r,s-a);i.lineTo(e-r,s+a);g+=Vt;a=Math.cos(g)*f;r=Math.sin(g)*f;i.moveTo(e-a,s-r);i.lineTo(e+a,s+r);i.moveTo(e+r,s-a);i.lineTo(e-r,s+a);break;case"line":a=n?n/2:Math.cos(g)*f;r=Math.sin(g)*f;i.moveTo(e-a,s-r);i.lineTo(e+a,s+r);break;case"dash":i.moveTo(e,s);i.lineTo(e+Math.cos(g)*f,s+Math.sin(g)*f);break}i.fill();if(t.borderWidth>0){i.stroke()}}function ie(i,t,e){e=e||.5;return!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function wi(i,t){i.save();i.beginPath();i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top);i.clip()}function Si(i){i.restore()}function Wo(i,t,e,s,n){if(!t){return i.lineTo(e.x,e.y)}if(n==="middle"){const o=(t.x+e.x)/2;i.lineTo(o,t.y);i.lineTo(o,e.y)}else if(n==="after"!==!!s){i.lineTo(t.x,e.y)}else{i.lineTo(e.x,t.y)}i.lineTo(e.x,e.y)}function No(i,t,e,s){if(!t){return i.lineTo(e.x,e.y)}i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function At(i,t,e,s,n,o={}){const a=z(t)?t:[t];const r=o.strokeWidth>0&&o.strokeColor!=="";let l,c;i.save();i.font=n.string;Vo(i,o);for(l=0;l<a.length;++l){c=a[l];if(r){if(o.strokeColor){i.strokeStyle=o.strokeColor}if(!R(o.strokeWidth)){i.lineWidth=o.strokeWidth}i.strokeText(c,e,s,o.maxWidth)}i.fillText(c,e,s,o.maxWidth);Ho(i,e,s,c,o);s+=n.lineHeight}i.restore()}function Vo(i,t){if(t.translation){i.translate(t.translation[0],t.translation[1])}if(!R(t.rotation)){i.rotate(t.rotation)}if(t.color){i.fillStyle=t.color}if(t.textAlign){i.textAlign=t.textAlign}if(t.textBaseline){i.textBaseline=t.textBaseline}}function Ho(i,t,e,s,n){if(n.strikethrough||n.underline){const o=i.measureText(s);const a=t-o.actualBoundingBoxLeft;const r=t+o.actualBoundingBoxRight;const l=e-o.actualBoundingBoxAscent;const c=e+o.actualBoundingBoxDescent;const h=n.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle;i.beginPath();i.lineWidth=n.decorationWidth||2;i.moveTo(a,h);i.lineTo(r,h);i.stroke()}}function se(i,t){const{x:e,y:s,w:n,h:o,radius:a}=t;i.arc(e+a.topLeft,s+a.topLeft,a.topLeft,-W,B,true);i.lineTo(e,s+o-a.bottomLeft);i.arc(e+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,B,W,true);i.lineTo(e+n-a.bottomRight,s+o);i.arc(e+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,W,0,true);i.lineTo(e+n,s+a.topRight);i.arc(e+n-a.topRight,s+a.topRight,a.topRight,0,-W,true);i.lineTo(e+a.topLeft,s)}const jo=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);const $o=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Yo(i,t){const e=(""+i).match(jo);if(!e||e[1]==="normal"){return t*1.2}i=+e[2];switch(e[3]){case"px":return i;case"%":i/=100;break}return t*i}const Uo=i=>+i||0;function Ci(i,t){const e={};const s=A(t);const n=s?Object.keys(t):t;const o=A(i)?s?a=>P(i[a],i[t[a]]):a=>i[a]:()=>i;for(const a of n){e[a]=Uo(o(a))}return e}function dn(i){return Ci(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Pt(i){return Ci(i,["topLeft","topRight","bottomLeft","bottomRight"])}function X(i){const t=dn(i);t.width=t.left+t.right;t.height=t.top+t.bottom;return t}function j(i,t){i=i||{};t=t||O.font;let e=P(i.size,t.size);if(typeof e==="string"){e=parseInt(e,10)}let s=P(i.style,t.style);if(s&&!(""+s).match($o)){console.warn('Invalid font style specified: "'+s+'"');s=""}const n={family:P(i.family,t.family),lineHeight:Yo(P(i.lineHeight,t.lineHeight),e),size:e,style:s,weight:P(i.weight,t.weight),string:""};n.string=zo(n);return n}function me(i,t,e,s){let n=true;let o,a,r;for(o=0,a=i.length;o<a;++o){r=i[o];if(r===void 0){continue}if(t!==void 0&&typeof r==="function"){r=r(t);n=false}if(e!==void 0&&z(r)){r=r[e%r.length];n=false}if(r!==void 0){if(s&&!n){s.cacheable=false}return r}}}function Xo(i,t,e){const{min:s,max:n}=i;const o=Ks(t,(n-s)/2);const a=(r,l)=>e&&r===0?0:r+l;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function yt(i,t){return Object.assign(Object.create(i),t)}function Pi(i,t=[""],e=i,s,n=()=>i[0]){if(!et(s)){s=pn("_fallback",i)}const o={[Symbol.toStringTag]:"Object",_cacheable:true,_scopes:i,_rootScopes:e,_fallback:s,_getTarget:n,override:a=>Pi([a,...i],t,e,s)};return new Proxy(o,{deleteProperty(a,r){delete a[r];delete a._keys;delete i[0][r];return true},get(a,r){return fn(a,r,()=>ea(r,t,i,a))},getOwnPropertyDescriptor(a,r){return Reflect.getOwnPropertyDescriptor(a._scopes[0],r)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,r){return ts(a).includes(r)},ownKeys(a){return ts(a)},set(a,r,l){const c=a._storage||(a._storage=n());a[r]=c[r]=l;delete a._keys;return true}})}function Bt(i,t,e,s){const n={_cacheable:false,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:un(i,s),setContext:o=>Bt(i,o,e,s),override:o=>Bt(i.override(o),t,e,s)};return new Proxy(n,{deleteProperty(o,a){delete o[a];delete i[a];return true},get(o,a,r){return fn(o,a,()=>qo(o,a,r))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(i,a)?{enumerable:true,configurable:true}:void 0:Reflect.getOwnPropertyDescriptor(i,a)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,a){return Reflect.has(i,a)},ownKeys(){return Reflect.ownKeys(i)},set(o,a,r){i[a]=r;delete o[a];return true}})}function un(i,t={scriptable:true,indexable:true}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=i;return{allKeys:n,scriptable:e,indexable:s,isScriptable:xt(e)?e:()=>e,isIndexable:xt(s)?s:()=>s}}const Ko=(i,t)=>i?i+bi(t):t;const Di=(i,t)=>A(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function fn(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)){return i[t]}const s=e();i[t]=s;return s}function qo(i,t,e){const{_proxy:s,_context:n,_subProxy:o,_descriptors:a}=i;let r=s[t];if(xt(r)&&a.isScriptable(t)){r=Go(t,r,i,e)}if(z(r)&&r.length){r=Zo(t,r,i,a.isIndexable)}if(Di(t,r)){r=Bt(r,n,o&&o[t],a)}return r}function Go(i,t,e,s){const{_proxy:n,_context:o,_subProxy:a,_stack:r}=e;if(r.has(i)){throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+i)}r.add(i);t=t(o,a||s);r.delete(i);if(Di(i,t)){t=Oi(n._scopes,n,i,t)}return t}function Zo(i,t,e,s){const{_proxy:n,_context:o,_subProxy:a,_descriptors:r}=e;if(et(o.index)&&s(i)){t=t[o.index%t.length]}else if(A(t[0])){const l=t;const c=n._scopes.filter(h=>h!==l);t=[];for(const h of l){const d=Oi(c,n,i,h);t.push(Bt(d,o,a&&a[i],r))}}return t}function gn(i,t,e){return xt(i)?i(t,e):i}const Jo=(i,t)=>i===true?t:typeof i==="string"?_t(t,i):void 0;function Qo(i,t,e,s,n){for(const o of t){const a=Jo(e,o);if(a){i.add(a);const r=gn(a._fallback,e,n);if(et(r)&&r!==e&&r!==s){return r}}else if(a===false&&et(s)&&e!==s){return null}}return false}function Oi(i,t,e,s){const n=t._rootScopes;const o=gn(t._fallback,e,s);const a=[...i,...n];const r=new Set;r.add(s);let l=Qi(r,a,e,o||e,s);if(l===null){return false}if(et(o)&&o!==e){l=Qi(r,a,o,l,s);if(l===null){return false}}return Pi(Array.from(r),[""],n,o,()=>ta(t,e,s))}function Qi(i,t,e,s,n){while(e){e=Qo(i,t,e,s,n)}return e}function ta(i,t,e){const s=i._getTarget();if(!(t in s)){s[t]={}}const n=s[t];if(z(n)&&A(e)){return e}return n}function ea(i,t,e,s){let n;for(const o of t){n=pn(Ko(o,i),e);if(et(n)){return Di(i,n)?Oi(e,s,i,n):n}}}function pn(i,t){for(const e of t){if(!e){continue}const s=e[i];if(et(s)){return s}}}function ts(i){let t=i._keys;if(!t){t=i._keys=ia(i._scopes)}return t}function ia(i){const t=new Set;for(const e of i){for(const s of Object.keys(e).filter(n=>!n.startsWith("_"))){t.add(s)}}return Array.from(t)}function mn(i,t,e,s){const{iScale:n}=i;const{key:o="r"}=this._parsing;const a=new Array(s);let r,l,c,h;for(r=0,l=s;r<l;++r){c=r+e;h=t[c];a[r]={r:n.parse(_t(h,o),c)}}return a}const sa=Number.EPSILON||1e-14;const Wt=(i,t)=>t<i.length&&!i[t].skip&&i[t];const bn=i=>i==="x"?"y":"x";function na(i,t,e,s){const n=i.skip?t:i;const o=t;const a=e.skip?t:e;const r=ai(o,n);const l=ai(a,o);let c=r/(r+l);let h=l/(r+l);c=isNaN(c)?0:c;h=isNaN(h)?0:h;const d=s*c;const u=s*h;return{previous:{x:o.x-d*(a.x-n.x),y:o.y-d*(a.y-n.y)},next:{x:o.x+u*(a.x-n.x),y:o.y+u*(a.y-n.y)}}}function oa(i,t,e){const s=i.length;let n,o,a,r,l;let c=Wt(i,0);for(let h=0;h<s-1;++h){l=c;c=Wt(i,h+1);if(!l||!c){continue}if(Gt(t[h],0,sa)){e[h]=e[h+1]=0;continue}n=e[h]/t[h];o=e[h+1]/t[h];r=Math.pow(n,2)+Math.pow(o,2);if(r<=9){continue}a=3/Math.sqrt(r);e[h]=n*a*t[h];e[h+1]=o*a*t[h]}}function aa(i,t,e="x"){const s=bn(e);const n=i.length;let o,a,r;let l=Wt(i,0);for(let c=0;c<n;++c){a=r;r=l;l=Wt(i,c+1);if(!r){continue}const h=r[e];const d=r[s];if(a){o=(h-a[e])/3;r[`cp1${e}`]=h-o;r[`cp1${s}`]=d-o*t[c]}if(l){o=(l[e]-h)/3;r[`cp2${e}`]=h+o;r[`cp2${s}`]=d+o*t[c]}}}function ra(i,t="x"){const e=bn(t);const s=i.length;const n=Array(s).fill(0);const o=Array(s);let a,r,l;let c=Wt(i,0);for(a=0;a<s;++a){r=l;l=c;c=Wt(i,a+1);if(!l){continue}if(c){const h=c[t]-l[t];n[a]=h!==0?(c[e]-l[e])/h:0}o[a]=!r?n[a]:!c?n[a-1]:lt(n[a-1])!==lt(n[a])?0:(n[a-1]+n[a])/2}oa(i,n,o);aa(i,o,t)}function be(i,t,e){return Math.max(Math.min(i,e),t)}function la(i,t){let e,s,n,o,a;let r=ie(i[0],t);for(e=0,s=i.length;e<s;++e){a=o;o=r;r=e<s-1&&ie(i[e+1],t);if(!o){continue}n=i[e];if(a){n.cp1x=be(n.cp1x,t.left,t.right);n.cp1y=be(n.cp1y,t.top,t.bottom)}if(r){n.cp2x=be(n.cp2x,t.left,t.right);n.cp2y=be(n.cp2y,t.top,t.bottom)}}}function ca(i,t,e,s,n){let o,a,r,l;if(t.spanGaps){i=i.filter(c=>!c.skip)}if(t.cubicInterpolationMode==="monotone"){ra(i,n)}else{let c=s?i[i.length-1]:i[0];for(o=0,a=i.length;o<a;++o){r=i[o];l=na(c,r,i[Math.min(o+1,a-(s?0:1))%a],t.tension);r.cp1x=l.previous.x;r.cp1y=l.previous.y;r.cp2x=l.next.x;r.cp2y=l.next.y;c=r}}if(t.capBezierPoints){la(i,e)}}function _n(){return typeof window!=="undefined"&&typeof document!=="undefined"}function Ai(i){let t=i.parentNode;if(t&&t.toString()==="[object ShadowRoot]"){t=t.host}return t}function Te(i,t,e){let s;if(typeof i==="string"){s=parseInt(i,10);if(i.indexOf("%")!==-1){s=s/100*t.parentNode[e]}}else{s=i}return s}const ze=i=>window.getComputedStyle(i,null);function ha(i,t){return ze(i).getPropertyValue(t)}const da=["top","right","bottom","left"];function Dt(i,t,e){const s={};e=e?"-"+e:"";for(let n=0;n<4;n++){const o=da[n];s[o]=parseFloat(i[t+"-"+o+e])||0}s.width=s.left+s.right;s.height=s.top+s.bottom;return s}const ua=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function fa(i,t){const e=i.touches;const s=e&&e.length?e[0]:i;const{offsetX:n,offsetY:o}=s;let a=false;let r,l;if(ua(n,o,i.target)){r=n;l=o}else{const c=t.getBoundingClientRect();r=s.clientX-c.left;l=s.clientY-c.top;a=true}return{x:r,y:l,box:a}}function wt(i,t){if("native"in i){return i}const{canvas:e,currentDevicePixelRatio:s}=t;const n=ze(e);const o=n.boxSizing==="border-box";const a=Dt(n,"padding");const r=Dt(n,"border","width");const{x:l,y:c,box:h}=fa(i,e);const d=a.left+(h&&r.left);const u=a.top+(h&&r.top);let{width:f,height:g}=t;if(o){f-=a.width+r.width;g-=a.height+r.height}return{x:Math.round((l-d)/f*e.width/s),y:Math.round((c-u)/g*e.height/s)}}function ga(i,t,e){let s,n;if(t===void 0||e===void 0){const o=Ai(i);if(!o){t=i.clientWidth;e=i.clientHeight}else{const a=o.getBoundingClientRect();const r=ze(o);const l=Dt(r,"border","width");const c=Dt(r,"padding");t=a.width-c.width-l.width;e=a.height-c.height-l.height;s=Te(r.maxWidth,o,"clientWidth");n=Te(r.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:s||Oe,maxHeight:n||Oe}}const Ze=i=>Math.round(i*10)/10;function pa(i,t,e,s){const n=ze(i);const o=Dt(n,"margin");const a=Te(n.maxWidth,i,"clientWidth")||Oe;const r=Te(n.maxHeight,i,"clientHeight")||Oe;const l=ga(i,t,e);let{width:c,height:h}=l;if(n.boxSizing==="content-box"){const d=Dt(n,"border","width");const u=Dt(n,"padding");c-=u.width+d.width;h-=u.height+d.height}c=Math.max(0,c-o.width);h=Math.max(0,s?Math.floor(c/s):h-o.height);c=Ze(Math.min(c,a,l.maxWidth));h=Ze(Math.min(h,r,l.maxHeight));if(c&&!h){h=Ze(c/2)}return{width:c,height:h}}function es(i,t,e){const s=t||1;const n=Math.floor(i.height*s);const o=Math.floor(i.width*s);i.height=n/s;i.width=o/s;const a=i.canvas;if(a.style&&(e||!a.style.height&&!a.style.width)){a.style.height=`${i.height}px`;a.style.width=`${i.width}px`}if(i.currentDevicePixelRatio!==s||a.height!==n||a.width!==o){i.currentDevicePixelRatio=s;a.height=n;a.width=o;i.ctx.setTransform(s,0,0,s,0,0);return true}return false}const ma=function(){let i=false;try{const t={get passive(){i=true;return false}};window.addEventListener("test",null,t);window.removeEventListener("test",null,t)}catch(t){}return i}();function is(i,t){const e=ha(i,t);const s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function St(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function ba(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:s==="middle"?e<.5?i.y:t.y:s==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function _a(i,t,e,s){const n={x:i.cp2x,y:i.cp2y};const o={x:t.cp1x,y:t.cp1y};const a=St(i,n,e);const r=St(n,o,e);const l=St(o,t,e);const c=St(a,r,e);const h=St(r,l,e);return St(c,h,e)}const ss=new Map;function xa(i,t){t=t||{};const e=i+JSON.stringify(t);let s=ss.get(e);if(!s){s=new Intl.NumberFormat(i,t);ss.set(e,s)}return s}function re(i,t,e){return xa(t,e).format(i)}const ya=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){if(e==="center"){return e}return e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}};const va=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function It(i,t,e){return i?ya(t,e):va()}function xn(i,t){let e,s;if(t==="ltr"||t==="rtl"){e=i.canvas.style;s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")];e.setProperty("direction",t,"important");i.prevTextDirection=s}}function yn(i,t){if(t!==void 0){delete i.prevTextDirection;i.canvas.style.setProperty("direction",t[0],t[1])}}function vn(i){if(i==="angle"){return{between:ee,compare:ao,normalize:it}}return{between:gt,compare:(t,e)=>t-e,normalize:t=>t}}function ns({start:i,end:t,count:e,loop:s,style:n}){return{start:i%e,end:t%e,loop:s&&(t-i+1)%e===0,style:n}}function Ma(i,t,e){const{property:s,start:n,end:o}=e;const{between:a,normalize:r}=vn(s);const l=t.length;let{start:c,end:h,loop:d}=i;let u,f;if(d){c+=l;h+=l;for(u=0,f=l;u<f;++u){if(!a(r(t[c%l][s]),n,o)){break}c--;h--}c%=l;h%=l}if(h<c){h+=l}return{start:c,end:h,loop:d,style:i.style}}function ka(i,t,e){if(!e){return[i]}const{property:s,start:n,end:o}=e;const a=t.length;const{compare:r,between:l,normalize:c}=vn(s);const{start:h,end:d,loop:u,style:f}=Ma(i,t,e);const g=[];let p=false;let m=null;let b,_,y;const v=()=>l(n,y,b)&&r(n,y)!==0;const x=()=>r(o,b)===0||l(o,y,b);const k=()=>p||v();const M=()=>!p||x();for(let S=h,w=h;S<=d;++S){_=t[S%a];if(_.skip){continue}b=c(_[s]);if(b===y){continue}p=l(b,n,o);if(m===null&&k()){m=r(b,n)===0?S:w}if(m!==null&&M()){g.push(ns({start:m,end:S,loop:u,count:a,style:f}));m=null}w=S;y=b}if(m!==null){g.push(ns({start:m,end:d,loop:u,count:a,style:f}))}return g}function wa(i,t){const e=[];const s=i.segments;for(let n=0;n<s.length;n++){const o=ka(s[n],i.points,t);if(o.length){e.push(...o)}}return e}function Sa(i,t,e,s){let n=0;let o=t-1;if(e&&!s){while(n<t&&!i[n].skip){n++}}while(n<t&&i[n].skip){n++}n%=t;if(e){o+=n}while(o>n&&i[o%t].skip){o--}o%=t;return{start:n,end:o}}function Ca(i,t,e,s){const n=i.length;const o=[];let a=t;let r=i[t];let l;for(l=t+1;l<=e;++l){const c=i[l%n];if(c.skip||c.stop){if(!r.skip){s=false;o.push({start:t%n,end:(l-1)%n,loop:s});t=a=c.stop?l:null}}else{a=l;if(r.skip){t=l}}r=c}if(a!==null){o.push({start:t%n,end:a%n,loop:s})}return o}function Pa(i,t){const e=i.points;const s=i.options.spanGaps;const n=e.length;if(!n){return[]}const o=!!i._loop;const{start:a,end:r}=Sa(e,n,o,s);if(s===true){return os(i,[{start:a,end:r,loop:o}],e,t)}const l=r<a?r+n:r;const c=!!i._fullLoop&&a===0&&r===n-1;return os(i,Ca(e,a,l,c),e,t)}function os(i,t,e,s){if(!s||!s.setContext||!e){return t}return Da(i,t,e,s)}function Da(i,t,e,s){const n=i._chart.getContext();const o=as(i.options);const{_datasetIndex:a,options:{spanGaps:r}}=i;const l=e.length;const c=[];let h=o;let d=t[0].start;let u=d;function f(g,p,m,b){const _=r?-1:1;if(g===p){return}g+=l;while(e[g%l].skip){g-=_}while(e[p%l].skip){p+=_}if(g%l!==p%l){c.push({start:g%l,end:p%l,loop:m,style:b});h=b;d=p%l}}for(const g of t){d=r?d:g.start;let p=e[d%l];let m;for(u=d+1;u<=g.end;u++){const b=e[u%l];m=as(s.setContext(yt(n,{type:"segment",p0:p,p1:b,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a})));if(Oa(m,h)){f(d,u-1,g.loop,h)}p=b;h=m}if(d<u-1){f(d,u-1,g.loop,h)}}return c}function as(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Oa(i,t){return t&&JSON.stringify(i)!==JSON.stringify(t)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Aa{constructor(){this._request=null;this._charts=new Map;this._running=false;this._lastDate=void 0}_notify(t,e,s,n){const o=e.listeners[n];const a=e.duration;o.forEach(r=>r({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(s-e.start,a)}))}_refresh(){if(this._request){return}this._running=true;this._request=tn.call(window,()=>{this._update();this._request=null;if(this._running){this._refresh()}})}_update(t=Date.now()){let e=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length){return}const o=s.items;let a=o.length-1;let r=false;let l;for(;a>=0;--a){l=o[a];if(l._active){if(l._total>s.duration){s.duration=l._total}l.tick(t);r=true}else{o[a]=o[o.length-1];o.pop()}}if(r){n.draw();this._notify(n,s,t,"progress")}if(!o.length){s.running=false;this._notify(n,s,t,"complete");s.initial=false}e+=o.length});this._lastDate=t;if(e===0){this._running=false}}_getAnims(t){const e=this._charts;let s=e.get(t);if(!s){s={running:false,initial:true,items:[],listeners:{complete:[],progress:[]}};e.set(t,s)}return s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){if(!e||!e.length){return}this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);if(!e){return}e.running=true;e.start=Date.now();e.duration=e.items.reduce((s,n)=>Math.max(s,n._duration),0);this._refresh()}running(t){if(!this._running){return false}const e=this._charts.get(t);if(!e||!e.running||!e.items.length){return false}return true}stop(t){const e=this._charts.get(t);if(!e||!e.items.length){return}const s=e.items;let n=s.length-1;for(;n>=0;--n){s[n].cancel()}e.items=[];this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ht=new Aa;const rs="transparent";const La={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const s=Zi(i||rs);const n=s.valid&&Zi(t||rs);return n&&n.valid?n.mix(s,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class Ta{constructor(t,e,s,n){const o=e[s];n=me([t.to,n,o,t.from]);const a=me([t.from,o,n]);this._active=true;this._fn=t.fn||La[t.type||typeof a];this._easing=Zt[t.easing]||Zt.linear;this._start=Math.floor(Date.now()+(t.delay||0));this._duration=this._total=Math.floor(t.duration);this._loop=!!t.loop;this._target=e;this._prop=s;this._from=a;this._to=n;this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(false);const n=this._target[this._prop];const o=s-this._start;const a=this._duration-o;this._start=s;this._duration=Math.floor(Math.max(a,t.duration));this._total+=o;this._loop=!!t.loop;this._to=me([t.to,e,n,t.from]);this._from=me([t.from,n,e])}}cancel(){if(this._active){this.tick(Date.now());this._active=false;this._notify(false)}}tick(t){const e=t-this._start;const s=this._duration;const n=this._prop;const o=this._from;const a=this._loop;const r=this._to;let l;this._active=o!==r&&(a||e<s);if(!this._active){this._target[n]=r;this._notify(true);return}if(e<0){this._target[n]=o;return}l=e/s%2;l=a&&l>1?2-l:l;l=this._easing(Math.min(1,Math.max(0,l)));this._target[n]=this._fn(o,r,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej";const s=this._promises||[];for(let n=0;n<s.length;n++){s[n][e]()}}}const Ra=["x","y","borderWidth","radius","tension"];const Ea=["color","borderColor","backgroundColor"];O.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Fa=Object.keys(O.animation);O.describe("animation",{_fallback:false,_indexable:false,_scriptable:i=>i!=="onProgress"&&i!=="onComplete"&&i!=="fn"});O.set("animations",{colors:{type:"color",properties:Ea},numbers:{type:"number",properties:Ra}});O.describe("animations",{_fallback:"animation"});O.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>i|0}}}});class Mn{constructor(t,e){this._chart=t;this._properties=new Map;this.configure(e)}configure(t){if(!A(t)){return}const e=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const n=t[s];if(!A(n)){return}const o={};for(const a of Fa){o[a]=n[a]}(z(n.properties)&&n.properties||[s]).forEach(a=>{if(a===s||!e.has(a)){e.set(a,o)}})})}_animateOptions(t,e){const s=e.options;const n=za(t,s);if(!n){return[]}const o=this._createAnimations(n,s);if(s.$shared){Ia(t.options.$animations,s).then(()=>{t.options=s},()=>{})}return o}_createAnimations(t,e){const s=this._properties;const n=[];const o=t.$animations||(t.$animations={});const a=Object.keys(e);const r=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$"){continue}if(c==="options"){n.push(...this._animateOptions(t,e));continue}const h=e[c];let d=o[c];const u=s.get(c);if(d){if(u&&d.active()){d.update(u,h,r);continue}else{d.cancel()}}if(!u||!u.duration){t[c]=h;continue}o[c]=d=new Ta(u,t,c,h);n.push(d)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length){ht.add(this._chart,s);return true}}}function Ia(i,t){const e=[];const s=Object.keys(t);for(let n=0;n<s.length;n++){const o=i[s[n]];if(o&&o.active()){e.push(o.wait())}}return Promise.all(e)}function za(i,t){if(!t){return}let e=i.options;if(!e){i.options=t;return}if(e.$shared){i.options=e=Object.assign({},e,{$shared:false,$animations:{}})}return e}function ls(i,t){const e=i&&i.options||{};const s=e.reverse;const n=e.min===void 0?t:0;const o=e.max===void 0?t:0;return{start:s?o:n,end:s?n:o}}function Ba(i,t,e){if(e===false){return false}const s=ls(i,e);const n=ls(t,e);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}function Wa(i){let t,e,s,n;if(A(i)){t=i.top;e=i.right;s=i.bottom;n=i.left}else{t=e=s=n=i}return{top:t,right:e,bottom:s,left:n,disabled:i===false}}function kn(i,t){const e=[];const s=i._getSortedDatasetMetas(t);let n,o;for(n=0,o=s.length;n<o;++n){e.push(s[n].index)}return e}function cs(i,t,e,s={}){const n=i.keys;const o=s.mode==="single";let a,r,l,c;if(t===null){return}for(a=0,r=n.length;a<r;++a){l=+n[a];if(l===e){if(s.all){continue}break}c=i.values[l];if($(c)&&(o||(t===0||lt(t)===lt(c)))){t+=c}}return t}function Na(i){const t=Object.keys(i);const e=new Array(t.length);let s,n,o;for(s=0,n=t.length;s<n;++s){o=t[s];e[s]={x:o,y:i[o]}}return e}function hs(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function Va(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Ha(i){const{min:t,max:e,minDefined:s,maxDefined:n}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function ja(i,t,e){const s=i[t]||(i[t]={});return s[e]||(s[e]={})}function ds(i,t,e,s){for(const n of t.getMatchingVisibleMetas(s).reverse()){const o=i[n.index];if(e&&o>0||!e&&o<0){return n.index}}return null}function us(i,t){const{chart:e,_cachedMeta:s}=i;const n=e._stacks||(e._stacks={});const{iScale:o,vScale:a,index:r}=s;const l=o.axis;const c=a.axis;const h=Va(o,a,s);const d=t.length;let u;for(let f=0;f<d;++f){const g=t[f];const{[l]:p,[c]:m}=g;const b=g._stacks||(g._stacks={});u=b[c]=ja(n,h,p);u[r]=m;u._top=ds(u,a,true,s.type);u._bottom=ds(u,a,false,s.type)}}function Je(i,t){const e=i.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function $a(i,t){return yt(i,{active:false,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ya(i,t,e){return yt(i,{active:false,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ht(i,t){const e=i.controller.index;const s=i.vScale&&i.vScale.axis;if(!s){return}t=t||i._parsed;for(const n of t){const o=n._stacks;if(!o||o[s]===void 0||o[s][e]===void 0){return}delete o[s][e]}}const Qe=i=>i==="reset"||i==="none";const fs=(i,t)=>t?i:Object.assign({},i);const Ua=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:kn(e,true),values:null};class nt{constructor(t,e){this.chart=t;this._ctx=t.ctx;this.index=e;this._cachedDataOpts={};this._cachedMeta=this.getMeta();this._type=this._cachedMeta.type;this.options=void 0;this._parsing=false;this._data=void 0;this._objectData=void 0;this._sharedOptions=void 0;this._drawStart=void 0;this._drawCount=void 0;this.enableOptionSharing=false;this.supportsDecimation=false;this.$context=void 0;this._syncList=[];this.initialize()}initialize(){const t=this._cachedMeta;this.configure();this.linkScales();t._stacked=hs(t.vScale,t);this.addElements()}updateIndex(t){if(this.index!==t){Ht(this._cachedMeta)}this.index=t}linkScales(){const t=this.chart;const e=this._cachedMeta;const s=this.getDataset();const n=(d,u,f,g)=>d==="x"?u:d==="r"?g:f;const o=e.xAxisID=P(s.xAxisID,Je(t,"x"));const a=e.yAxisID=P(s.yAxisID,Je(t,"y"));const r=e.rAxisID=P(s.rAxisID,Je(t,"r"));const l=e.indexAxis;const c=e.iAxisID=n(l,o,a,r);const h=e.vAxisID=n(l,a,o,r);e.xScale=this.getScaleForId(o);e.yScale=this.getScaleForId(a);e.rScale=this.getScaleForId(r);e.iScale=this.getScaleForId(c);e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;if(this._data){$i(this._data,this)}if(t._stacked){Ht(t)}}_dataCheck(){const t=this.getDataset();const e=t.data||(t.data=[]);const s=this._data;if(A(e)){this._data=Na(e)}else if(s!==e){if(s){$i(s,this);const n=this._cachedMeta;Ht(n);n._parsed=[]}if(e&&Object.isExtensible(e)){ho(e,this)}this._syncList=[];this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck();if(this.datasetElementType){t.dataset=new this.datasetElementType}}buildOrUpdateElements(t){const e=this._cachedMeta;const s=this.getDataset();let n=false;this._dataCheck();const o=e._stacked;e._stacked=hs(e.vScale,e);if(e.stack!==s.stack){n=true;Ht(e);e.stack=s.stack}this._resyncElements(t);if(n||o!==e._stacked){us(this,e._parsed)}}configure(){const t=this.chart.config;const e=t.datasetScopeKeys(this._type);const s=t.getOptionScopes(this.getDataset(),e,true);this.options=t.createResolver(s,this.getContext());this._parsing=this.options.parsing;this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:n}=this;const{iScale:o,_stacked:a}=s;const r=o.axis;let l=t===0&&e===n.length?true:s._sorted;let c=t>0&&s._parsed[t-1];let h,d,u;if(this._parsing===false){s._parsed=n;s._sorted=true;u=n}else{if(z(n[t])){u=this.parseArrayData(s,n,t,e)}else if(A(n[t])){u=this.parseObjectData(s,n,t,e)}else{u=this.parsePrimitiveData(s,n,t,e)}const f=()=>d[r]===null||c&&d[r]<c[r];for(h=0;h<e;++h){s._parsed[h+t]=d=u[h];if(l){if(f()){l=false}c=d}}s._sorted=l}if(a){us(this,u)}}parsePrimitiveData(t,e,s,n){const{iScale:o,vScale:a}=t;const r=o.axis;const l=a.axis;const c=o.getLabels();const h=o===a;const d=new Array(n);let u,f,g;for(u=0,f=n;u<f;++u){g=u+s;d[u]={[r]:h||o.parse(c[g],g),[l]:a.parse(e[g],g)}}return d}parseArrayData(t,e,s,n){const{xScale:o,yScale:a}=t;const r=new Array(n);let l,c,h,d;for(l=0,c=n;l<c;++l){h=l+s;d=e[h];r[l]={x:o.parse(d[0],h),y:a.parse(d[1],h)}}return r}parseObjectData(t,e,s,n){const{xScale:o,yScale:a}=t;const{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing;const c=new Array(n);let h,d,u,f;for(h=0,d=n;h<d;++h){u=h+s;f=e[u];c[h]={x:o.parse(_t(f,r),u),y:a.parse(_t(f,l),u)}}return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const n=this.chart;const o=this._cachedMeta;const a=e[t.axis];const r={keys:kn(n,true),values:e._stacks[t.axis]};return cs(r,a,o.index,{mode:s})}updateRangeFromParsed(t,e,s,n){const o=s[e.axis];let a=o===null?NaN:o;const r=n&&s._stacks[e.axis];if(n&&r){n.values=r;a=cs(n,o,this._cachedMeta.index)}t.min=Math.min(t.min,a);t.max=Math.max(t.max,a)}getMinMax(t,e){const s=this._cachedMeta;const n=s._parsed;const o=s._sorted&&t===s.iScale;const a=n.length;const r=this._getOtherScale(t);const l=Ua(e,s,this.chart);const c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};const{min:h,max:d}=Ha(r);let u,f;function g(){f=n[u];const p=f[r.axis];return!$(f[t.axis])||h>p||d<p}for(u=0;u<a;++u){if(g()){continue}this.updateRangeFromParsed(c,t,f,l);if(o){break}}if(o){for(u=a-1;u>=0;--u){if(g()){continue}this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed;const s=[];let n,o,a;for(n=0,o=e.length;n<o;++n){a=e[n][t.axis];if($(a)){s.push(a)}}return s}getMaxOverflow(){return false}getLabelAndValue(t){const e=this._cachedMeta;const s=e.iScale;const n=e.vScale;const o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:n?""+n.getLabelForValue(o[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default");e._clip=Wa(P(this.options.clip,Ba(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx;const e=this.chart;const s=this._cachedMeta;const n=s.data||[];const o=e.chartArea;const a=[];const r=this._drawStart||0;const l=this._drawCount||n.length-r;const c=this.options.drawActiveElementsOnTop;let h;if(s.dataset){s.dataset.draw(t,o,r,l)}for(h=r;h<r+l;++h){const d=n[h];if(d.hidden){continue}if(d.active&&c){a.push(d)}else{d.draw(t,o)}}for(h=0;h<a.length;++h){a[h].draw(t,o)}}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const n=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=Ya(this.getContext(),t,a));o.parsed=this.getParsed(t);o.raw=n.data[t];o.index=o.dataIndex=t}else{o=this.$context||(this.$context=$a(this.chart.getContext(),this.index));o.dataset=n;o.index=o.datasetIndex=this.index}o.active=!!e;o.mode=s;return o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const n=e==="active";const o=this._cachedDataOpts;const a=t+"-"+e;const r=o[a];const l=this.enableOptionSharing&&et(s);if(r){return fs(r,l)}const c=this.chart.config;const h=c.datasetElementScopeKeys(this._type,t);const d=n?[`${t}Hover`,"hover",t,""]:[t,""];const u=c.getOptionScopes(this.getDataset(),h);const f=Object.keys(O.elements[t]);const g=()=>this.getContext(s,n);const p=c.resolveNamedOptions(u,f,g,d);if(p.$shared){p.$shared=l;o[a]=Object.freeze(fs(p,l))}return p}_resolveAnimations(t,e,s){const n=this.chart;const o=this._cachedDataOpts;const a=`animation-${e}`;const r=o[a];if(r){return r}let l;if(n.options.animation!==false){const h=this.chart.config;const d=h.datasetAnimationScopeKeys(this._type,e);const u=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(u,this.getContext(t,s,e))}const c=new Mn(n,l&&l.animations);if(l&&l._cacheable){o[a]=Object.freeze(c)}return c}getSharedOptions(t){if(!t.$shared){return}return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Qe(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e);const n=this._sharedOptions;const o=this.getSharedOptions(s);const a=this.includeOptions(e,o)||o!==n;this.updateSharedOptions(o,e,s);return{sharedOptions:o,includeOptions:a}}updateElement(t,e,s,n){if(Qe(n)){Object.assign(t,s)}else{this._resolveAnimations(e,n).update(t,s)}}updateSharedOptions(t,e,s){if(t&&!Qe(e)){this._resolveAnimations(void 0,e).update(t,s)}}_setStyle(t,e,s,n){t.active=n;const o=this.getStyle(e,n);this._resolveAnimations(e,s,n).update(t,{options:!n&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",false)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",true)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;if(t){this._setStyle(t,void 0,"active",false)}}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;if(t){this._setStyle(t,void 0,"active",true)}}_resyncElements(t){const e=this._data;const s=this._cachedMeta.data;for(const[r,l,c]of this._syncList){this[r](l,c)}this._syncList=[];const n=s.length;const o=e.length;const a=Math.min(o,n);if(a){this.parse(0,a)}if(o>n){this._insertElements(n,o-n,t)}else if(o<n){this._removeElements(o,n-o)}}_insertElements(t,e,s=true){const n=this._cachedMeta;const o=n.data;const a=t+e;let r;const l=c=>{c.length+=e;for(r=c.length-1;r>=a;r--){c[r]=c[r-e]}};l(o);for(r=t;r<a;++r){o[r]=new this.dataElementType}if(this._parsing){l(n._parsed)}this.parse(t,e);if(s){this.updateElements(o,t,e,"reset")}}updateElements(t,e,s,n){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(t,e);if(s._stacked){Ht(s,n)}}s.data.splice(t,e)}_sync(t){if(this._parsing){this._syncList.push(t)}else{const[e,s,n]=t;this[e](s,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){if(e){this._sync(["_removeElements",t,e])}const s=arguments.length-2;if(s){this._sync(["_insertElements",t,s])}}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}nt.defaults={};nt.prototype.datasetElementType=null;nt.prototype.dataElementType=null;function Xa(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let s=[];for(let n=0,o=e.length;n<o;n++){s=s.concat(e[n].controller.getAllParsedValues(i))}i._cache.$bar=Qs(s.sort((n,o)=>n-o))}return i._cache.$bar}function Ka(i){const t=i.iScale;const e=Xa(t,i.type);let s=t._length;let n,o,a,r;const l=()=>{if(a===32767||a===-32768){return}if(et(r)){s=Math.min(s,Math.abs(a-r)||s)}r=a};for(n=0,o=e.length;n<o;++n){a=t.getPixelForValue(e[n]);l()}r=void 0;for(n=0,o=t.ticks.length;n<o;++n){a=t.getPixelForTick(n);l()}return s}function qa(i,t,e,s){const n=e.barThickness;let o,a;if(R(n)){o=t.min*e.categoryPercentage;a=e.barPercentage}else{o=n*s;a=1}return{chunk:o/s,ratio:a,start:t.pixels[i]-o/2}}function Ga(i,t,e,s){const n=t.pixels;const o=n[i];let a=i>0?n[i-1]:null;let r=i<n.length-1?n[i+1]:null;const l=e.categoryPercentage;if(a===null){a=o-(r===null?t.end-t.start:r-o)}if(r===null){r=o+o-a}const c=o-(o-Math.min(a,r))/2*l;const h=Math.abs(r-a)/2*l;return{chunk:h/s,ratio:e.barPercentage,start:c}}function Za(i,t,e,s){const n=e.parse(i[0],s);const o=e.parse(i[1],s);const a=Math.min(n,o);const r=Math.max(n,o);let l=a;let c=r;if(Math.abs(a)>Math.abs(r)){l=r;c=a}t[e.axis]=c;t._custom={barStart:l,barEnd:c,start:n,end:o,min:a,max:r}}function wn(i,t,e,s){if(z(i)){Za(i,t,e,s)}else{t[e.axis]=e.parse(i,s)}return t}function gs(i,t,e,s){const n=i.iScale;const o=i.vScale;const a=n.getLabels();const r=n===o;const l=[];let c,h,d,u;for(c=e,h=e+s;c<h;++c){u=t[c];d={};d[n.axis]=r||n.parse(a[c],c);l.push(wn(u,d,o,c))}return l}function ti(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Ja(i,t,e){if(i!==0){return lt(i)}return(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Qa(i){let t,e,s,n,o;if(i.horizontal){t=i.base>i.x;e="left";s="right"}else{t=i.base<i.y;e="bottom";s="top"}if(t){n="end";o="start"}else{n="start";o="end"}return{start:e,end:s,reverse:t,top:n,bottom:o}}function tr(i,t,e,s){let n=t.borderSkipped;const o={};if(!n){i.borderSkipped=o;return}if(n===true){i.borderSkipped={top:true,right:true,bottom:true,left:true};return}const{start:a,end:r,reverse:l,top:c,bottom:h}=Qa(i);if(n==="middle"&&e){i.enableBorderRadius=true;if((e._top||0)===s){n=c}else if((e._bottom||0)===s){n=h}else{o[ps(h,a,r,l)]=true;n=c}}o[ps(n,a,r,l)]=true;i.borderSkipped=o}function ps(i,t,e,s){if(s){i=er(i,t,e);i=ms(i,e,t)}else{i=ms(i,t,e)}return i}function er(i,t,e){return i===t?e:i===e?t:i}function ms(i,t,e){return i==="start"?t:i==="end"?e:i}function ir(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class Li extends nt{parsePrimitiveData(t,e,s,n){return gs(t,e,s,n)}parseArrayData(t,e,s,n){return gs(t,e,s,n)}parseObjectData(t,e,s,n){const{iScale:o,vScale:a}=t;const{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing;const c=o.axis==="x"?r:l;const h=a.axis==="x"?r:l;const d=[];let u,f,g,p;for(u=s,f=s+n;u<f;++u){p=e[u];g={};g[o.axis]=o.parse(_t(p,c),u);d.push(wn(_t(p,h),g,a,u))}return d}updateRangeFromParsed(t,e,s,n){super.updateRangeFromParsed(t,e,s,n);const o=s._custom;if(o&&e===this._cachedMeta.vScale){t.min=Math.min(t.min,o.min);t.max=Math.max(t.max,o.max)}}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta;const{iScale:s,vScale:n}=e;const o=this.getParsed(t);const a=o._custom;const r=ti(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(o[n.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:r}}initialize(){this.enableOptionSharing=true;super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,n){const o=n==="reset";const{index:a,_cachedMeta:{vScale:r}}=this;const l=r.getBasePixel();const c=r.isHorizontal();const h=this._getRuler();const{sharedOptions:d,includeOptions:u}=this._getSharedOptions(e,n);for(let f=e;f<e+s;f++){const g=this.getParsed(f);const p=o||R(g[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(f);const m=this._calculateBarIndexPixels(f,h);const b=(g._stacks||{})[r.axis];const _={horizontal:c,base:p.base,enableBorderRadius:!b||ti(g._custom)||(a===b._top||a===b._bottom),x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};if(u){_.options=d||this.resolveDataElementOptions(f,t[f].active?"active":n)}const y=_.options||t[f].options;tr(_,y,b,a);ir(_,y,h.ratio);this.updateElement(t[f],f,_,n)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta;const n=s.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped);const o=s.options.stacked;const a=[];const r=l=>{const c=l.controller.getParsed(e);const h=c&&c[l.vScale.axis];if(R(h)||isNaN(h)){return true}};for(const l of n){if(e!==void 0&&r(l)){continue}if(o===false||a.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0){a.push(l.stack)}if(l.index===t){break}}if(!a.length){a.push(void 0)}return a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,s){const n=this._getStacks(t,s);const o=e!==void 0?n.indexOf(e):-1;return o===-1?n.length-1:o}_getRuler(){const t=this.options;const e=this._cachedMeta;const s=e.iScale;const n=[];let o,a;for(o=0,a=e.data.length;o<a;++o){n.push(s.getPixelForValue(this.getParsed(o)[s.axis],o))}const r=t.barThickness;const l=r||Ka(e);return{min:l,pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:r?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s},options:{base:n,minBarLength:o}}=this;const a=n||0;const r=this.getParsed(t);const l=r._custom;const c=ti(l);let h=r[e.axis];let d=0;let u=s?this.applyStack(e,r,s):h;let f,g;if(u!==h){d=u-h;u=h}if(c){h=l.barStart;u=l.barEnd-l.barStart;if(h!==0&&lt(h)!==lt(l.barEnd)){d=0}d+=h}const p=!R(n)&&!c?n:d;let m=e.getPixelForValue(p);if(this.chart.getDataVisibility(t)){f=e.getPixelForValue(d+u)}else{f=m}g=f-m;if(Math.abs(g)<o){g=Ja(g,e,a)*o;if(h===a){m-=g/2}const b=e.getPixelForDecimal(0);const _=e.getPixelForDecimal(1);const y=Math.min(b,_);const v=Math.max(b,_);m=Math.max(Math.min(m,v),y);f=m+g}if(m===e.getPixelForValue(a)){const b=lt(g)*e.getLineWidthForValue(a)/2;m+=b;g-=b}return{size:g,base:m,head:f,center:f+g/2}}_calculateBarIndexPixels(t,e){const s=e.scale;const n=this.options;const o=n.skipNull;const a=P(n.maxBarThickness,Infinity);let r,l;if(e.grouped){const c=o?this._getStackCount(t):e.stackCount;const h=n.barThickness==="flex"?Ga(t,e,n,c):qa(t,e,n,c);const d=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);r=h.start+h.chunk*d+h.chunk/2;l=Math.min(a,h.chunk*h.ratio)}else{r=s.getPixelForValue(this.getParsed(t)[s.axis],t);l=Math.min(a,e.min*e.ratio)}return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){const t=this._cachedMeta;const e=t.vScale;const s=t.data;const n=s.length;let o=0;for(;o<n;++o){if(this.getParsed(o)[e.axis]!==null){s[o].draw(this._ctx)}}}}Li.id="bar";Li.defaults={datasetElementType:false,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:true,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Li.overrides={scales:{_index_:{type:"category",offset:true,grid:{offset:true}},_value_:{type:"linear",beginAtZero:true}}};class Ti extends nt{initialize(){this.enableOptionSharing=true;super.initialize()}parsePrimitiveData(t,e,s,n){const o=super.parsePrimitiveData(t,e,s,n);for(let a=0;a<o.length;a++){o[a]._custom=this.resolveDataElementOptions(a+s).radius}return o}parseArrayData(t,e,s,n){const o=super.parseArrayData(t,e,s,n);for(let a=0;a<o.length;a++){const r=e[s+a];o[a]._custom=P(r[2],this.resolveDataElementOptions(a+s).radius)}return o}parseObjectData(t,e,s,n){const o=super.parseObjectData(t,e,s,n);for(let a=0;a<o.length;a++){const r=e[s+a];o[a]._custom=P(r&&r.r&&+r.r,this.resolveDataElementOptions(a+s).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let s=t.length-1;s>=0;--s){e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2)}return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta;const{xScale:s,yScale:n}=e;const o=this.getParsed(t);const a=s.getLabelForValue(o.x);const r=n.getLabelForValue(o.y);const l=o._custom;return{label:e.label,value:"("+a+", "+r+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,s,n){const o=n==="reset";const{iScale:a,vScale:r}=this._cachedMeta;const{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,n);const h=a.axis;const d=r.axis;for(let u=e;u<e+s;u++){const f=t[u];const g=!o&&this.getParsed(u);const p={};const m=p[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[h]);const b=p[d]=o?r.getBasePixel():r.getPixelForValue(g[d]);p.skip=isNaN(m)||isNaN(b);if(c){p.options=l||this.resolveDataElementOptions(u,f.active?"active":n);if(o){p.options.radius=0}}this.updateElement(f,u,p,n)}}resolveDataElementOptions(t,e){const s=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);if(n.$shared){n=Object.assign({},n,{$shared:false})}const o=n.radius;if(e!=="active"){n.radius=0}n.radius+=P(s&&s._custom,o);return n}}Ti.id="bubble";Ti.defaults={datasetElementType:false,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Ti.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function sr(i,t,e){let s=1;let n=1;let o=0;let a=0;if(t<F){const r=i;const l=r+t;const c=Math.cos(r);const h=Math.sin(r);const d=Math.cos(l);const u=Math.sin(l);const f=(y,v,x)=>ee(y,r,l,true)?1:Math.max(v,v*e,x,x*e);const g=(y,v,x)=>ee(y,r,l,true)?-1:Math.min(v,v*e,x,x*e);const p=f(0,c,d);const m=f(W,h,u);const b=g(B,c,d);const _=g(B+W,h,u);s=(p-b)/2;n=(m-_)/2;o=-(p+b)/2;a=-(m+_)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}class le extends nt{constructor(t,e){super(t,e);this.enableOptionSharing=true;this.innerRadius=void 0;this.outerRadius=void 0;this.offsetX=void 0;this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data;const n=this._cachedMeta;if(this._parsing===false){n._parsed=s}else{let o=l=>+s[l];if(A(s[t])){const{key:l="value"}=this._parsing;o=c=>+_t(s[c],l)}let a,r;for(a=t,r=t+e;a<r;++a){n._parsed[a]=o(a)}}}_getRotation(){return st(this.options.rotation-90)}_getCircumference(){return st(this.options.circumference)}_getRotationExtents(){let t=F;let e=-F;for(let s=0;s<this.chart.data.datasets.length;++s){if(this.chart.isDatasetVisible(s)){const n=this.chart.getDatasetMeta(s).controller;const o=n._getRotation();const a=n._getCircumference();t=Math.min(t,o);e=Math.max(e,o+a)}}return{rotation:t,circumference:e-t}}update(t){const e=this.chart;const{chartArea:s}=e;const n=this._cachedMeta;const o=n.data;const a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing;const r=Math.max((Math.min(s.width,s.height)-a)/2,0);const l=Math.min(Gn(this.options.cutout,r),1);const c=this._getRingWeight(this.index);const{circumference:h,rotation:d}=this._getRotationExtents();const{ratioX:u,ratioY:f,offsetX:g,offsetY:p}=sr(d,h,l);const m=(s.width-a)/u;const b=(s.height-a)/f;const _=Math.max(Math.min(m,b)/2,0);const y=Ks(this.options.radius,_);const v=Math.max(y*l,0);const x=(y-v)/this._getVisibleDatasetWeightTotal();this.offsetX=g*y;this.offsetY=p*y;n.total=this.calculateTotal();this.outerRadius=y-x*this._getRingWeightOffset(this.index);this.innerRadius=Math.max(this.outerRadius-x*c,0);this.updateElements(o,0,o.length,t)}_circumference(t,e){const s=this.options;const n=this._cachedMeta;const o=this._getCircumference();if(e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden){return 0}return this.calculateCircumference(n._parsed[t]*o/F)}updateElements(t,e,s,n){const o=n==="reset";const a=this.chart;const r=a.chartArea;const l=a.options;const c=l.animation;const h=(r.left+r.right)/2;const d=(r.top+r.bottom)/2;const u=o&&c.animateScale;const f=u?0:this.innerRadius;const g=u?0:this.outerRadius;const{sharedOptions:p,includeOptions:m}=this._getSharedOptions(e,n);let b=this._getRotation();let _;for(_=0;_<e;++_){b+=this._circumference(_,o)}for(_=e;_<e+s;++_){const y=this._circumference(_,o);const v=t[_];const x={x:h+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+y,circumference:y,outerRadius:g,innerRadius:f};if(m){x.options=p||this.resolveDataElementOptions(_,v.active?"active":n)}b+=y;this.updateElement(v,_,x,n)}}calculateTotal(){const t=this._cachedMeta;const e=t.data;let s=0;let n;for(n=0;n<e.length;n++){const o=t._parsed[n];if(o!==null&&!isNaN(o)&&this.chart.getDataVisibility(n)&&!e[n].hidden){s+=Math.abs(o)}}return s}calculateCircumference(t){const e=this._cachedMeta.total;if(e>0&&!isNaN(t)){return F*(Math.abs(t)/e)}return 0}getLabelAndValue(t){const e=this._cachedMeta;const s=this.chart;const n=s.data.labels||[];const o=re(e._parsed[t],s.options.locale);return{label:n[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const s=this.chart;let n,o,a,r,l;if(!t){for(n=0,o=s.data.datasets.length;n<o;++n){if(s.isDatasetVisible(n)){a=s.getDatasetMeta(n);t=a.data;r=a.controller;break}}}if(!t){return 0}for(n=0,o=t.length;n<o;++n){l=r.resolveDataElementOptions(n);if(l.borderAlign!=="inner"){e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0)}}return e}getMaxOffset(t){let e=0;for(let s=0,n=t.length;s<n;++s){const o=this.resolveDataElementOptions(s);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s){if(this.chart.isDatasetVisible(s)){e+=this._getRingWeight(s)}}return e}_getRingWeight(t){return Math.max(P(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}le.id="doughnut";le.defaults={datasetElementType:false,dataElementType:"arc",animation:{animateRotate:true,animateScale:false},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};le.descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"};le.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const t=i.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=i.legend.options;return t.labels.map((s,n)=>{const o=i.getDatasetMeta(0);const a=o.controller.getStyle(n);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:e,hidden:!i.getDataVisibility(n),index:n}})}return[]}},onClick(i,t,e){e.chart.toggleDataVisibility(t.index);e.chart.update()}},tooltip:{callbacks:{title(){return""},label(i){let t=i.label;const e=": "+i.formattedValue;if(z(t)){t=t.slice();t[0]+=e}else{t+=e}return t}}}}};class Be extends nt{initialize(){this.enableOptionSharing=true;this.supportsDecimation=true;super.initialize()}update(t){const e=this._cachedMeta;const{dataset:s,data:n=[],_dataset:o}=e;const a=this.chart._animationsDisabled;let{start:r,count:l}=sn(e,n,a);this._drawStart=r;this._drawCount=l;if(nn(e)){r=0;l=n.length}s._chart=this.chart;s._datasetIndex=this.index;s._decimated=!!o._decimated;s.points=n;const c=this.resolveDatasetElementOptions(t);if(!this.options.showLine){c.borderWidth=0}c.segment=this.options.segment;this.updateElement(s,void 0,{animated:!a,options:c},t);this.updateElements(n,r,l,t)}updateElements(t,e,s,n){const o=n==="reset";const{iScale:a,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta;const{sharedOptions:h,includeOptions:d}=this._getSharedOptions(e,n);const u=a.axis;const f=r.axis;const{spanGaps:g,segment:p}=this.options;const m=zt(g)?g:Number.POSITIVE_INFINITY;const b=this.chart._animationsDisabled||o||n==="none";let _=e>0&&this.getParsed(e-1);for(let y=e;y<e+s;++y){const v=t[y];const x=this.getParsed(y);const k=b?v:{};const M=R(x[f]);const S=k[u]=a.getPixelForValue(x[u],y);const w=k[f]=o||M?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,x,l):x[f],y);k.skip=isNaN(S)||isNaN(w)||M;k.stop=y>0&&Math.abs(x[u]-_[u])>m;if(p){k.parsed=x;k.raw=c.data[y]}if(d){k.options=h||this.resolveDataElementOptions(y,v.active?"active":n)}if(!b){this.updateElement(v,y,k,n)}_=x}}getMaxOverflow(){const t=this._cachedMeta;const e=t.dataset;const s=e.options&&e.options.borderWidth||0;const n=t.data||[];if(!n.length){return s}const o=n[0].size(this.resolveDataElementOptions(0));const a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis);super.draw()}}Be.id="line";Be.defaults={datasetElementType:"line",dataElementType:"point",showLine:true,spanGaps:false};Be.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Ri extends nt{constructor(t,e){super(t,e);this.innerRadius=void 0;this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta;const s=this.chart;const n=s.data.labels||[];const o=re(e._parsed[t].r,s.options.locale);return{label:n[t]||"",value:o}}parseObjectData(t,e,s,n){return mn.bind(this)(t,e,s,n)}update(t){const e=this._cachedMeta.data;this._updateRadius();this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta;const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};t.data.forEach((s,n)=>{const o=this.getParsed(n).r;if(!isNaN(o)&&this.chart.getDataVisibility(n)){if(o<e.min){e.min=o}if(o>e.max){e.max=o}}});return e}_updateRadius(){const t=this.chart;const e=t.chartArea;const s=t.options;const n=Math.min(e.right-e.left,e.bottom-e.top);const o=Math.max(n/2,0);const a=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0);const r=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-r*this.index;this.innerRadius=this.outerRadius-r}updateElements(t,e,s,n){const o=n==="reset";const a=this.chart;const r=a.options;const l=r.animation;const c=this._cachedMeta.rScale;const h=c.xCenter;const d=c.yCenter;const u=c.getIndexAngle(0)-.5*B;let f=u;let g;const p=360/this.countVisibleElements();for(g=0;g<e;++g){f+=this._computeAngle(g,n,p)}for(g=e;g<e+s;g++){const m=t[g];let b=f;let _=f+this._computeAngle(g,n,p);let y=a.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=_;if(o){if(l.animateScale){y=0}if(l.animateRotate){b=_=u}}const v={x:h,y:d,innerRadius:0,outerRadius:y,startAngle:b,endAngle:_,options:this.resolveDataElementOptions(g,m.active?"active":n)};this.updateElement(m,g,v,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;t.data.forEach((s,n)=>{if(!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)){e++}});return e}_computeAngle(t,e,s){return this.chart.getDataVisibility(t)?st(this.resolveDataElementOptions(t,e).angle||s):0}}Ri.id="polarArea";Ri.defaults={dataElementType:"arc",animation:{animateRotate:true,animateScale:true},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Ri.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const t=i.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=i.legend.options;return t.labels.map((s,n)=>{const o=i.getDatasetMeta(0);const a=o.controller.getStyle(n);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:e,hidden:!i.getDataVisibility(n),index:n}})}return[]}},onClick(i,t,e){e.chart.toggleDataVisibility(t.index);e.chart.update()}},tooltip:{callbacks:{title(){return""},label(i){return i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:false},beginAtZero:true,grid:{circular:true},pointLabels:{display:false},startAngle:0}}};class Sn extends le{}Sn.id="pie";Sn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ei extends nt{getLabelAndValue(t){const e=this._cachedMeta.vScale;const s=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(s[e.axis])}}parseObjectData(t,e,s,n){return mn.bind(this)(t,e,s,n)}update(t){const e=this._cachedMeta;const s=e.dataset;const n=e.data||[];const o=e.iScale.getLabels();s.points=n;if(t!=="resize"){const a=this.resolveDatasetElementOptions(t);if(!this.options.showLine){a.borderWidth=0}const r={_loop:true,_fullLoop:o.length===n.length,options:a};this.updateElement(s,void 0,r,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,s,n){const o=this._cachedMeta.rScale;const a=n==="reset";for(let r=e;r<e+s;r++){const l=t[r];const c=this.resolveDataElementOptions(r,l.active?"active":n);const h=o.getPointPositionForValue(r,this.getParsed(r).r);const d=a?o.xCenter:h.x;const u=a?o.yCenter:h.y;const f={x:d,y:u,angle:h.angle,skip:isNaN(d)||isNaN(u),options:c};this.updateElement(l,r,f,n)}}}Ei.id="radar";Ei.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:true,elements:{line:{fill:"start"}}};Ei.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ot{constructor(){this.x=void 0;this.y=void 0;this.active=false;this.options=void 0;this.$animations=void 0}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return zt(this.x)&&zt(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s){return this}const n={};t.forEach(o=>{n[o]=s[o]&&s[o].active()?s[o]._to:this[o]});return n}}ot.defaults={};ot.defaultRoutes=void 0;const Cn={values(i){return z(i)?i:""+i},numeric(i,t,e){if(i===0){return"0"}const s=this.chart.options.locale;let n;let o=i;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));if(c<1e-4||c>1e15){n="scientific"}o=nr(i,e)}const a=Q(Math.abs(o));const r=Math.max(Math.min(-1*Math.floor(a),20),0);const l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};Object.assign(l,this.options.ticks.format);return re(i,s,l)},logarithmic(i,t,e){if(i===0){return"0"}const s=i/Math.pow(10,Math.floor(Q(i)));if(s===1||s===2||s===5){return Cn.numeric.call(this,i,t,e)}return""}};function nr(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;if(Math.abs(e)>=1&&i!==Math.floor(i)){e=i-Math.floor(i)}return e}var We={formatters:Cn};O.set("scale",{display:true,offset:false,reverse:false,beginAtZero:false,bounds:"ticks",grace:0,grid:{display:true,lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickLength:8,tickWidth:(i,t)=>t.lineWidth,tickColor:(i,t)=>t.color,offset:false,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:false,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:false,textStrokeWidth:0,textStrokeColor:"",padding:3,display:true,autoSkip:true,autoSkipPadding:3,labelOffset:0,callback:We.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:false,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});O.route("scale.ticks","color","","color");O.route("scale.grid","color","","borderColor");O.route("scale.grid","borderColor","","borderColor");O.route("scale.title","color","","color");O.describe("scale",{_fallback:false,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&i!=="callback"&&i!=="parser",_indexable:i=>i!=="borderDash"&&i!=="tickBorderDash"});O.describe("scales",{_fallback:"scale"});O.describe("scale.ticks",{_scriptable:i=>i!=="backdropPadding"&&i!=="callback",_indexable:i=>i!=="backdropPadding"});function or(i,t){const e=i.options.ticks;const s=e.maxTicksLimit||ar(i);const n=e.major.enabled?lr(t):[];const o=n.length;const a=n[0];const r=n[o-1];const l=[];if(o>s){cr(t,l,n,o/s);return l}const c=rr(n,t,s);if(o>0){let h,d;const u=o>1?Math.round((r-a)/(o-1)):null;_e(t,l,c,R(u)?0:a-u,a);for(h=0,d=o-1;h<d;h++){_e(t,l,c,n[h],n[h+1])}_e(t,l,c,r,R(u)?t.length:r+u);return l}_e(t,l,c);return l}function ar(i){const t=i.options.offset;const e=i._tickSize();const s=i._length/e+(t?0:1);const n=i._maxLength/e;return Math.floor(Math.min(s,n))}function rr(i,t,e){const s=hr(i);const n=t.length/e;if(!s){return Math.max(n,1)}const o=no(s);for(let a=0,r=o.length-1;a<r;a++){const l=o[a];if(l>n){return l}}return Math.max(n,1)}function lr(i){const t=[];let e,s;for(e=0,s=i.length;e<s;e++){if(i[e].major){t.push(e)}}return t}function cr(i,t,e,s){let n=0;let o=e[0];let a;s=Math.ceil(s);for(a=0;a<i.length;a++){if(a===o){t.push(i[a]);n++;o=e[n*s]}}}function _e(i,t,e,s,n){const o=P(s,0);const a=Math.min(P(n,i.length),i.length);let r=0;let l,c,h;e=Math.ceil(e);if(n){l=n-s;e=l/Math.floor(l/e)}h=o;while(h<0){r++;h=Math.round(o+r*e)}for(c=Math.max(o,0);c<a;c++){if(c===h){t.push(i[c]);r++;h=Math.round(o+r*e)}}}function hr(i){const t=i.length;let e,s;if(t<2){return false}for(s=i[0],e=1;e<t;++e){if(i[e]-i[e-1]!==s){return false}}return s}const dr=i=>i==="left"?"right":i==="right"?"left":i;const bs=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e;function _s(i,t){const e=[];const s=i.length/t;const n=i.length;let o=0;for(;o<n;o+=s){e.push(i[Math.floor(o)])}return e}function ur(i,t,e){const s=i.ticks.length;const n=Math.min(t,s-1);const o=i._startPixel;const a=i._endPixel;const r=1e-6;let l=i.getPixelForTick(n);let c;if(e){if(s===1){c=Math.max(l-o,a-l)}else if(t===0){c=(i.getPixelForTick(1)-l)/2}else{c=(l-i.getPixelForTick(n-1))/2}l+=n<t?c:-c;if(l<o-r||l>a+r){return}}return l}function fr(i,t){E(i,e=>{const s=e.gc;const n=s.length/2;let o;if(n>t){for(o=0;o<n;++o){delete e.data[s[o]]}s.splice(0,n)}})}function jt(i){return i.drawTicks?i.tickLength:0}function xs(i,t){if(!i.display){return 0}const e=j(i.font,t);const s=X(i.padding);const n=z(i.text)?i.text.length:1;return n*e.lineHeight+s.height}function gr(i,t){return yt(i,{scale:t,type:"scale"})}function pr(i,t,e){return yt(i,{tick:e,index:t,type:"tick"})}function mr(i,t,e){let s=yi(i);if(e&&t!=="right"||!e&&t==="right"){s=dr(s)}return s}function br(i,t,e,s){const{top:n,left:o,bottom:a,right:r,chart:l}=i;const{chartArea:c,scales:h}=l;let d=0;let u,f,g;const p=a-n;const m=r-o;if(i.isHorizontal()){f=Y(s,o,r);if(A(e)){const b=Object.keys(e)[0];const _=e[b];g=h[b].getPixelForValue(_)+p-t}else if(e==="center"){g=(c.bottom+c.top)/2+p-t}else{g=bs(i,e,t)}u=r-o}else{if(A(e)){const b=Object.keys(e)[0];const _=e[b];f=h[b].getPixelForValue(_)-m+t}else if(e==="center"){f=(c.left+c.right)/2-m+t}else{f=bs(i,e,t)}g=Y(s,a,n);d=e==="left"?-W:W}return{titleX:f,titleY:g,maxWidth:u,rotation:d}}class Lt extends ot{constructor(t){super();this.id=t.id;this.type=t.type;this.options=void 0;this.ctx=t.ctx;this.chart=t.chart;this.top=void 0;this.bottom=void 0;this.left=void 0;this.right=void 0;this.width=void 0;this.height=void 0;this._margins={left:0,right:0,top:0,bottom:0};this.maxWidth=void 0;this.maxHeight=void 0;this.paddingTop=void 0;this.paddingBottom=void 0;this.paddingLeft=void 0;this.paddingRight=void 0;this.axis=void 0;this.labelRotation=void 0;this.min=void 0;this.max=void 0;this._range=void 0;this.ticks=[];this._gridLineItems=null;this._labelItems=null;this._labelSizes=null;this._length=0;this._maxLength=0;this._longestTextCache={};this._startPixel=void 0;this._endPixel=void 0;this._reversePixels=false;this._userMax=void 0;this._userMin=void 0;this._suggestedMax=void 0;this._suggestedMin=void 0;this._ticksLength=0;this._borderValue=0;this._cache={};this._dataLimitsCached=false;this.$context=void 0}init(t){this.options=t.setContext(this.getContext());this.axis=t.axis;this._userMin=this.parse(t.min);this._userMax=this.parse(t.max);this._suggestedMin=this.parse(t.suggestedMin);this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:n}=this;t=J(t,Number.POSITIVE_INFINITY);e=J(e,Number.NEGATIVE_INFINITY);s=J(s,Number.POSITIVE_INFINITY);n=J(n,Number.NEGATIVE_INFINITY);return{min:J(t,s),max:J(e,n),minDefined:$(t),maxDefined:$(e)}}getMinMax(t){let{min:e,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();let a;if(n&&o){return{min:e,max:s}}const r=this.getMatchingVisibleMetas();for(let l=0,c=r.length;l<c;++l){a=r[l].controller.getMinMax(this,t);if(!n){e=Math.min(e,a.min)}if(!o){s=Math.max(s,a.max)}}e=o&&e>s?s:e;s=n&&e>s?e:s;return{min:J(e,J(s,e)),max:J(s,J(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={};this._dataLimitsCached=false}beforeUpdate(){I(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:n,grace:o,ticks:a}=this.options;const r=a.sampleSize;this.beforeUpdate();this.maxWidth=t;this.maxHeight=e;this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s);this.ticks=null;this._labelSizes=null;this._gridLineItems=null;this._labelItems=null;this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom;if(!this._dataLimitsCached){this.beforeDataLimits();this.determineDataLimits();this.afterDataLimits();this._range=Xo(this,o,n);this._dataLimitsCached=true}this.beforeBuildTicks();this.ticks=this.buildTicks()||[];this.afterBuildTicks();const l=r<this.ticks.length;this._convertTicksToLabels(l?_s(this.ticks,r):this.ticks);this.configure();this.beforeCalculateLabelRotation();this.calculateLabelRotation();this.afterCalculateLabelRotation();if(a.display&&(a.autoSkip||a.source==="auto")){this.ticks=or(this,this.ticks);this._labelSizes=null;this.afterAutoSkip()}if(l){this._convertTicksToLabels(this.ticks)}this.beforeFit();this.fit();this.afterFit();this.afterUpdate()}configure(){let t=this.options.reverse;let e,s;if(this.isHorizontal()){e=this.left;s=this.right}else{e=this.top;s=this.bottom;t=!t}this._startPixel=e;this._endPixel=s;this._reversePixels=t;this._length=s-e;this._alignToPixels=this.options.alignToPixels}afterUpdate(){I(this.options.afterUpdate,[this])}beforeSetDimensions(){I(this.options.beforeSetDimensions,[this])}setDimensions(){if(this.isHorizontal()){this.width=this.maxWidth;this.left=0;this.right=this.width}else{this.height=this.maxHeight;this.top=0;this.bottom=this.height}this.paddingLeft=0;this.paddingTop=0;this.paddingRight=0;this.paddingBottom=0}afterSetDimensions(){I(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext());I(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){I(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,n,o;for(s=0,n=t.length;s<n;s++){o=t[s];o.label=I(e.callback,[o.value,s,t],this)}}afterTickToLabelConversion(){I(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){I(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options;const e=t.ticks;const s=this.ticks.length;const n=e.minRotation||0;const o=e.maxRotation;let a=n;let r,l,c;if(!this._isVisible()||!e.display||n>=o||s<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes();const d=h.widest.width;const u=h.highest.height;const f=U(this.chart.width-d,0,this.maxWidth);r=t.offset?this.maxWidth/s:f/(s-1);if(d+6>r){r=f/(s-(t.offset?.5:1));l=this.maxHeight-jt(t.grid)-e.padding-xs(t.title,this.chart.options.font);c=Math.sqrt(d*d+u*u);a=_i(Math.min(Math.asin(U((h.highest.height+6)/r,-1,1)),Math.asin(U(l/c,-1,1))-Math.asin(U(u/c,-1,1))));a=Math.max(n,Math.min(o,a))}this.labelRotation=a}afterCalculateLabelRotation(){I(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){I(this.options.beforeFit,[this])}fit(){const t={width:0,height:0};const{chart:e,options:{ticks:s,title:n,grid:o}}=this;const a=this._isVisible();const r=this.isHorizontal();if(a){const l=xs(n,e.options.font);if(r){t.width=this.maxWidth;t.height=jt(o)+l}else{t.height=this.maxHeight;t.width=jt(o)+l}if(s.display&&this.ticks.length){const{first:c,last:h,widest:d,highest:u}=this._getLabelSizes();const f=s.padding*2;const g=st(this.labelRotation);const p=Math.cos(g);const m=Math.sin(g);if(r){const b=s.mirror?0:m*d.width+p*u.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{const b=s.mirror?0:p*d.width+m*u.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,h,m,p)}}this._handleMargins();if(r){this.width=this._length=e.width-this._margins.left-this._margins.right;this.height=t.height}else{this.width=t.width;this.height=this._length=e.height-this._margins.top-this._margins.bottom}}_calculatePadding(t,e,s,n){const{ticks:{align:o,padding:a},position:r}=this.options;const l=this.labelRotation!==0;const c=r!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left;const d=this.right-this.getPixelForTick(this.ticks.length-1);let u=0;let f=0;if(l){if(c){u=n*t.width;f=s*e.height}else{u=s*t.height;f=n*e.width}}else if(o==="start"){f=e.width}else if(o==="end"){u=t.width}else if(o!=="inner"){u=t.width/2;f=e.width/2}this.paddingLeft=Math.max((u-h+a)*this.width/(this.width-h),0);this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let h=e.height/2;let d=t.height/2;if(o==="start"){h=0;d=t.height}else if(o==="end"){h=e.height;d=0}this.paddingTop=h+a;this.paddingBottom=d+a}}_handleMargins(){if(this._margins){this._margins.left=Math.max(this.paddingLeft,this._margins.left);this._margins.top=Math.max(this.paddingTop,this._margins.top);this._margins.right=Math.max(this.paddingRight,this._margins.right);this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom)}}afterFit(){I(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion();this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++){if(R(t[e].label)){t.splice(e,1);s--;e--}}this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;if(e<s.length){s=_s(s,e)}this._labelSizes=t=this._computeLabelSizes(s,s.length)}return t}_computeLabelSizes(t,e){const{ctx:s,_longestTextCache:n}=this;const o=[];const a=[];let r=0;let l=0;let c,h,d,u,f,g,p,m,b,_,y;for(c=0;c<e;++c){u=t[c].label;f=this._resolveTickFontOptions(c);s.font=g=f.string;p=n[g]=n[g]||{data:{},gc:[]};m=f.lineHeight;b=_=0;if(!R(u)&&!z(u)){b=Le(s,p.data,p.gc,b,u);_=m}else if(z(u)){for(h=0,d=u.length;h<d;++h){y=u[h];if(!R(y)&&!z(y)){b=Le(s,p.data,p.gc,b,y);_+=m}}}o.push(b);a.push(_);r=Math.max(b,r);l=Math.max(_,l)}fr(n,e);const v=o.indexOf(r);const x=a.indexOf(l);const k=M=>({width:o[M]||0,height:a[M]||0});return{first:k(0),last:k(e-1),widest:k(v),highest:k(x),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;if(t<0||t>e.length-1){return null}return this.getPixelForValue(e[t].value)}getPixelForDecimal(t){if(this._reversePixels){t=1-t}const e=this._startPixel+t*this._length;return ro(this._alignToPixels?Mt(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=pr(this.getContext(),t,s))}return this.$context||(this.$context=gr(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks;const e=st(this.labelRotation);const s=Math.abs(Math.cos(e));const n=Math.abs(Math.sin(e));const o=this._getLabelSizes();const a=t.autoSkipPadding||0;const r=o?o.widest.width+a:0;const l=o?o.highest.height+a:0;return this.isHorizontal()?l*s>r*n?r/s:l/n:l*n<r*s?l/s:r/n}_isVisible(){const t=this.options.display;if(t!=="auto"){return!!t}return this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis;const s=this.chart;const n=this.options;const{grid:o,position:a}=n;const r=o.offset;const l=this.isHorizontal();const c=this.ticks;const h=c.length+(r?1:0);const d=jt(o);const u=[];const f=o.setContext(this.getContext());const g=f.drawBorder?f.borderWidth:0;const p=g/2;const m=function(C){return Mt(s,C,g)};let b,_,y,v;let x,k,M,S,w,L,T,D;if(a==="top"){b=m(this.bottom);k=this.bottom-d;S=b-p;L=m(t.top)+p;D=t.bottom}else if(a==="bottom"){b=m(this.top);L=t.top;D=m(t.bottom)-p;k=b+p;S=this.top+d}else if(a==="left"){b=m(this.right);x=this.right-d;M=b-p;w=m(t.left)+p;T=t.right}else if(a==="right"){b=m(this.left);w=t.left;T=m(t.right)-p;x=b+p;M=this.left+d}else if(e==="x"){if(a==="center"){b=m((t.top+t.bottom)/2+.5)}else if(A(a)){const C=Object.keys(a)[0];const H=a[C];b=m(this.chart.scales[C].getPixelForValue(H))}L=t.top;D=t.bottom;k=b+p;S=k+d}else if(e==="y"){if(a==="center"){b=m((t.left+t.right)/2)}else if(A(a)){const C=Object.keys(a)[0];const H=a[C];b=m(this.chart.scales[C].getPixelForValue(H))}x=b-p;M=x-d;w=t.left;T=t.right}const V=P(n.ticks.maxTicksLimit,h);const K=Math.max(1,Math.ceil(h/V));for(_=0;_<h;_+=K){const C=o.setContext(this.getContext(_));const H=C.lineWidth;const N=C.color;const vt=C.borderDash||[];const $e=C.borderDashOffset;const Tt=C.tickWidth;const de=C.tickColor;const Rt=C.tickBorderDash||[];const Nt=C.tickBorderDashOffset;y=ur(this,_,r);if(y===void 0){continue}v=Mt(s,y,H);if(l){x=M=w=T=v}else{k=S=L=D=v}u.push({tx1:x,ty1:k,tx2:M,ty2:S,x1:w,y1:L,x2:T,y2:D,width:H,color:N,borderDash:vt,borderDashOffset:$e,tickWidth:Tt,tickColor:de,tickBorderDash:Rt,tickBorderDashOffset:Nt})}this._ticksLength=h;this._borderValue=b;return u}_computeLabelItems(t){const e=this.axis;const s=this.options;const{position:n,ticks:o}=s;const a=this.isHorizontal();const r=this.ticks;const{align:l,crossAlign:c,padding:h,mirror:d}=o;const u=jt(s.grid);const f=u+h;const g=d?-h:f;const p=-st(this.labelRotation);const m=[];let b,_,y,v,x,k,M,S,w,L,T,D;let V="middle";if(n==="top"){k=this.bottom-g;M=this._getXAxisLabelAlignment()}else if(n==="bottom"){k=this.top+g;M=this._getXAxisLabelAlignment()}else if(n==="left"){const C=this._getYAxisLabelAlignment(u);M=C.textAlign;x=C.x}else if(n==="right"){const C=this._getYAxisLabelAlignment(u);M=C.textAlign;x=C.x}else if(e==="x"){if(n==="center"){k=(t.top+t.bottom)/2+f}else if(A(n)){const C=Object.keys(n)[0];const H=n[C];k=this.chart.scales[C].getPixelForValue(H)+f}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center"){x=(t.left+t.right)/2-f}else if(A(n)){const C=Object.keys(n)[0];const H=n[C];x=this.chart.scales[C].getPixelForValue(H)}M=this._getYAxisLabelAlignment(u).textAlign}if(e==="y"){if(l==="start"){V="top"}else if(l==="end"){V="bottom"}}const K=this._getLabelSizes();for(b=0,_=r.length;b<_;++b){y=r[b];v=y.label;const C=o.setContext(this.getContext(b));S=this.getPixelForTick(b)+o.labelOffset;w=this._resolveTickFontOptions(b);L=w.lineHeight;T=z(v)?v.length:1;const H=T/2;const N=C.color;const vt=C.textStrokeColor;const $e=C.textStrokeWidth;let Tt=M;if(a){x=S;if(M==="inner"){if(b===_-1){Tt=!this.options.reverse?"right":"left"}else if(b===0){Tt=!this.options.reverse?"left":"right"}else{Tt="center"}}if(n==="top"){if(c==="near"||p!==0){D=-T*L+L/2}else if(c==="center"){D=-K.highest.height/2-H*L+L}else{D=-K.highest.height+L/2}}else{if(c==="near"||p!==0){D=L/2}else if(c==="center"){D=K.highest.height/2-H*L}else{D=K.highest.height-T*L}}if(d){D*=-1}}else{k=S;D=(1-T)*L/2}let de;if(C.showLabelBackdrop){const Rt=X(C.backdropPadding);const Nt=K.heights[b];const Ye=K.widths[b];let Ue=k+D-Rt.top;let Xe=x-Rt.left;switch(V){case"middle":Ue-=Nt/2;break;case"bottom":Ue-=Nt;break}switch(M){case"center":Xe-=Ye/2;break;case"right":Xe-=Ye;break}de={left:Xe,top:Ue,width:Ye+Rt.width,height:Nt+Rt.height,color:C.backdropColor}}m.push({rotation:p,label:v,font:w,color:N,strokeColor:vt,strokeWidth:$e,textOffset:D,textAlign:Tt,textBaseline:V,translation:[x,k],backdrop:de})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;const s=-st(this.labelRotation);if(s){return t==="top"?"left":"right"}let n="center";if(e.align==="start"){n="left"}else if(e.align==="end"){n="right"}else if(e.align==="inner"){n="inner"}return n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:n,padding:o}}=this.options;const a=this._getLabelSizes();const r=t+o;const l=a.widest.width;let c;let h;if(e==="left"){if(n){h=this.right+o;if(s==="near"){c="left"}else if(s==="center"){c="center";h+=l/2}else{c="right";h+=l}}else{h=this.right-r;if(s==="near"){c="right"}else if(s==="center"){c="center";h-=l/2}else{c="left";h=this.left}}}else if(e==="right"){if(n){h=this.left+o;if(s==="near"){c="right"}else if(s==="center"){c="center";h-=l/2}else{c="left";h-=l}}else{h=this.left+r;if(s==="near"){c="left"}else if(s==="center"){c="center";h+=l/2}else{c="right";h=this.right}}}else{c="right"}return{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror){return}const t=this.chart;const e=this.options.position;if(e==="left"||e==="right"){return{top:0,left:this.left,bottom:t.height,right:this.right}}if(e==="top"||e==="bottom"){return{top:this.top,left:0,bottom:this.bottom,right:t.width}}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:n,width:o,height:a}=this;if(e){t.save();t.fillStyle=e;t.fillRect(s,n,o,a);t.restore()}}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display){return 0}const s=this.ticks;const n=s.findIndex(o=>o.value===t);if(n>=0){const o=e.setContext(this.getContext(n));return o.lineWidth}return 0}drawGrid(t){const e=this.options.grid;const s=this.ctx;const n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const r=(l,c,h)=>{if(!h.width||!h.color){return}s.save();s.lineWidth=h.width;s.strokeStyle=h.color;s.setLineDash(h.borderDash||[]);s.lineDashOffset=h.borderDashOffset;s.beginPath();s.moveTo(l.x,l.y);s.lineTo(c.x,c.y);s.stroke();s.restore()};if(e.display){for(o=0,a=n.length;o<a;++o){const l=n[o];if(e.drawOnChartArea){r({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l)}if(e.drawTicks){r({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}}}drawBorder(){const{chart:t,ctx:e,options:{grid:s}}=this;const n=s.setContext(this.getContext());const o=s.drawBorder?n.borderWidth:0;if(!o){return}const a=s.setContext(this.getContext(0)).lineWidth;const r=this._borderValue;let l,c,h,d;if(this.isHorizontal()){l=Mt(t,this.left,o)-o/2;c=Mt(t,this.right,a)+a/2;h=d=r}else{h=Mt(t,this.top,o)-o/2;d=Mt(t,this.bottom,a)+a/2;l=c=r}e.save();e.lineWidth=n.borderWidth;e.strokeStyle=n.borderColor;e.beginPath();e.moveTo(l,h);e.lineTo(c,d);e.stroke();e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display){return}const s=this.ctx;const n=this._computeLabelArea();if(n){wi(s,n)}const o=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,r;for(a=0,r=o.length;a<r;++a){const l=o[a];const c=l.font;const h=l.label;if(l.backdrop){s.fillStyle=l.backdrop.color;s.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height)}let d=l.textOffset;At(s,h,0,d,c,l)}if(n){Si(s)}}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:n}}=this;if(!s.display){return}const o=j(s.font);const a=X(s.padding);const r=s.align;let l=o.lineHeight/2;if(e==="bottom"||e==="center"||A(e)){l+=a.bottom;if(z(s.text)){l+=o.lineHeight*(s.text.length-1)}}else{l+=a.top}const{titleX:c,titleY:h,maxWidth:d,rotation:u}=br(this,l,e,r);At(t,s.text,0,0,o,{color:s.color,maxWidth:d,rotation:u,textAlign:mr(r,e,n),textBaseline:"middle",translation:[c,h]})}draw(t){if(!this._isVisible()){return}this.drawBackground();this.drawGrid(t);this.drawBorder();this.drawTitle();this.drawLabels(t)}_layers(){const t=this.options;const e=t.ticks&&t.ticks.z||0;const s=P(t.grid&&t.grid.z,-1);if(!this._isVisible()||this.draw!==Lt.prototype.draw){return[{z:e,draw:n=>{this.draw(n)}}]}return[{z:s,draw:n=>{this.drawBackground();this.drawGrid(n);this.drawTitle()}},{z:s+1,draw:()=>{this.drawBorder()}},{z:e,draw:n=>{this.drawLabels(n)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas();const s=this.axis+"AxisID";const n=[];let o,a;for(o=0,a=e.length;o<a;++o){const r=e[o];if(r[s]===this.id&&(!t||r.type===t)){n.push(r)}}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return j(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class xe{constructor(t,e,s){this.type=t;this.scope=e;this.override=s;this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;if(yr(e)){s=this.register(e)}const n=this.items;const o=t.id;const a=this.scope+"."+o;if(!o){throw new Error("class does not have id: "+t)}if(o in n){return a}n[o]=t;_r(t,a,s);if(this.override){O.override(t.id,t.overrides)}return a}get(t){return this.items[t]}unregister(t){const e=this.items;const s=t.id;const n=this.scope;if(s in e){delete e[s]}if(n&&s in O[n]){delete O[n][s];if(this.override){delete Ot[s]}}}}function _r(i,t,e){const s=te(Object.create(null),[e?O.get(e):{},O.get(t),i.defaults]);O.set(t,s);if(i.defaultRoutes){xr(t,i.defaultRoutes)}if(i.descriptors){O.describe(t,i.descriptors)}}function xr(i,t){Object.keys(t).forEach(e=>{const s=e.split(".");const n=s.pop();const o=[i].concat(s).join(".");const a=t[e].split(".");const r=a.pop();const l=a.join(".");O.route(o,n,l,r)})}function yr(i){return"id"in i&&"defaults"in i}class vr{constructor(){this.controllers=new xe(nt,"datasets",true);this.elements=new xe(ot,"elements");this.plugins=new xe(Object,"plugins");this.scales=new xe(Lt,"scales");this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(n=>{const o=s||this._getRegistryForType(n);if(s||o.isForType(n)||o===this.plugins&&n.id){this._exec(t,o,n)}else{E(n,a=>{const r=s||this._getRegistryForType(a);this._exec(t,r,a)})}})}_exec(t,e,s){const n=bi(t);I(s["before"+n],[],s);e[t](s);I(s["after"+n],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t)){return s}}return this.plugins}_get(t,e,s){const n=e.get(t);if(n===void 0){throw new Error('"'+t+'" is not a registered '+s+".")}return n}}var rt=new vr;class Fi extends nt{update(t){const e=this._cachedMeta;const{data:s=[]}=e;const n=this.chart._animationsDisabled;let{start:o,count:a}=sn(e,s,n);this._drawStart=o;this._drawCount=a;if(nn(e)){o=0;a=s.length}if(this.options.showLine){const{dataset:r,_dataset:l}=e;r._chart=this.chart;r._datasetIndex=this.index;r._decimated=!!l._decimated;r.points=s;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment;this.updateElement(r,void 0,{animated:!n,options:c},t)}this.updateElements(s,o,a,t)}addElements(){const{showLine:t}=this.options;if(!this.datasetElementType&&t){this.datasetElementType=rt.getElement("line")}super.addElements()}updateElements(t,e,s,n){const o=n==="reset";const{iScale:a,vScale:r,_stacked:l,_dataset:c}=this._cachedMeta;const h=this.resolveDataElementOptions(e,n);const d=this.getSharedOptions(h);const u=this.includeOptions(n,d);const f=a.axis;const g=r.axis;const{spanGaps:p,segment:m}=this.options;const b=zt(p)?p:Number.POSITIVE_INFINITY;const _=this.chart._animationsDisabled||o||n==="none";let y=e>0&&this.getParsed(e-1);for(let v=e;v<e+s;++v){const x=t[v];const k=this.getParsed(v);const M=_?x:{};const S=R(k[g]);const w=M[f]=a.getPixelForValue(k[f],v);const L=M[g]=o||S?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,k,l):k[g],v);M.skip=isNaN(w)||isNaN(L)||S;M.stop=v>0&&Math.abs(k[f]-y[f])>b;if(m){M.parsed=k;M.raw=c.data[v]}if(u){M.options=d||this.resolveDataElementOptions(v,x.active?"active":n)}if(!_){this.updateElement(x,v,M,n)}y=k}this.updateSharedOptions(d,n,h)}getMaxOverflow(){const t=this._cachedMeta;const e=t.data||[];if(!this.options.showLine){let r=0;for(let l=e.length-1;l>=0;--l){r=Math.max(r,e[l].size(this.resolveDataElementOptions(l))/2)}return r>0&&r}const s=t.dataset;const n=s.options&&s.options.borderWidth||0;if(!e.length){return n}const o=e[0].size(this.resolveDataElementOptions(0));const a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,o,a)/2}}Fi.id="scatter";Fi.defaults={datasetElementType:false,dataElementType:"point",showLine:false,fill:false};Fi.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(i){return"("+i.label+", "+i.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function kt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hi{constructor(t){this.options=t||{}}init(t){}formats(){return kt()}parse(t,e){return kt()}format(t,e){return kt()}add(t,e,s){return kt()}diff(t,e,s){return kt()}startOf(t,e,s){return kt()}endOf(t,e){return kt()}}hi.override=function(i){Object.assign(hi.prototype,i)};var Mr={_date:hi};function kr(i,t,e,s){const{controller:n,data:o,_sorted:a}=i;const r=n._cachedMeta.iScale;if(r&&t===r.axis&&t!=="r"&&a&&o.length){const l=r._reversePixels?lo:Ct;if(!s){return l(o,t,e)}else if(n._sharedOptions){const c=o[0];const h=typeof c.getRange==="function"&&c.getRange(t);if(h){const d=l(o,t,e-h);const u=l(o,t,e+h);return{lo:d.lo,hi:u.hi}}}}return{lo:0,hi:o.length-1}}function ce(i,t,e,s,n){const o=i.getSortedVisibleDatasetMetas();const a=e[t];for(let r=0,l=o.length;r<l;++r){const{index:c,data:h}=o[r];const{lo:d,hi:u}=kr(o[r],t,a,n);for(let f=d;f<=u;++f){const g=h[f];if(!g.skip){s(g,c,f)}}}}function wr(i){const t=i.indexOf("x")!==-1;const e=i.indexOf("y")!==-1;return function(s,n){const o=t?Math.abs(s.x-n.x):0;const a=e?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function ei(i,t,e,s,n){const o=[];if(!n&&!i.isPointInArea(t)){return o}const a=function(r,l,c){if(!n&&!ie(r,i.chartArea,0)){return}if(r.inRange(t.x,t.y,s)){o.push({element:r,datasetIndex:l,index:c})}};ce(i,e,t,a,true);return o}function Sr(i,t,e,s){let n=[];function o(a,r,l){const{startAngle:c,endAngle:h}=a.getProps(["startAngle","endAngle"],s);const{angle:d}=Zs(a,{x:t.x,y:t.y});if(ee(d,c,h)){n.push({element:a,datasetIndex:r,index:l})}}ce(i,e,t,o);return n}function Cr(i,t,e,s,n,o){let a=[];const r=wr(e);let l=Number.POSITIVE_INFINITY;function c(h,d,u){const f=h.inRange(t.x,t.y,n);if(s&&!f){return}const g=h.getCenterPoint(n);const p=!!o||i.isPointInArea(g);if(!p&&!f){return}const m=r(t,g);if(m<l){a=[{element:h,datasetIndex:d,index:u}];l=m}else if(m===l){a.push({element:h,datasetIndex:d,index:u})}}ce(i,e,t,c);return a}function ii(i,t,e,s,n,o){if(!o&&!i.isPointInArea(t)){return[]}return e==="r"&&!s?Sr(i,t,e,n):Cr(i,t,e,s,n,o)}function ys(i,t,e,s,n){const o=[];const a=e==="x"?"inXRange":"inYRange";let r=false;ce(i,e,t,(l,c,h)=>{if(l[a](t[e],n)){o.push({element:l,datasetIndex:c,index:h});r=r||l.inRange(t.x,t.y,n)}});if(s&&!r){return[]}return o}var Pr={evaluateInteractionItems:ce,modes:{index(i,t,e,s){const n=wt(t,i);const o=e.axis||"x";const a=e.includeInvisible||false;const r=e.intersect?ei(i,n,o,s,a):ii(i,n,o,false,s,a);const l=[];if(!r.length){return[]}i.getSortedVisibleDatasetMetas().forEach(c=>{const h=r[0].index;const d=c.data[h];if(d&&!d.skip){l.push({element:d,datasetIndex:c.index,index:h})}});return l},dataset(i,t,e,s){const n=wt(t,i);const o=e.axis||"xy";const a=e.includeInvisible||false;let r=e.intersect?ei(i,n,o,s,a):ii(i,n,o,false,s,a);if(r.length>0){const l=r[0].datasetIndex;const c=i.getDatasetMeta(l).data;r=[];for(let h=0;h<c.length;++h){r.push({element:c[h],datasetIndex:l,index:h})}}return r},point(i,t,e,s){const n=wt(t,i);const o=e.axis||"xy";const a=e.includeInvisible||false;return ei(i,n,o,s,a)},nearest(i,t,e,s){const n=wt(t,i);const o=e.axis||"xy";const a=e.includeInvisible||false;return ii(i,n,o,e.intersect,s,a)},x(i,t,e,s){const n=wt(t,i);return ys(i,n,"x",e.intersect,s)},y(i,t,e,s){const n=wt(t,i);return ys(i,n,"y",e.intersect,s)}}};const Pn=["left","top","right","bottom"];function $t(i,t){return i.filter(e=>e.pos===t)}function vs(i,t){return i.filter(e=>Pn.indexOf(e.pos)===-1&&e.box.axis===t)}function Yt(i,t){return i.sort((e,s)=>{const n=t?s:e;const o=t?e:s;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function Dr(i){const t=[];let e,s,n,o,a,r;for(e=0,s=(i||[]).length;e<s;++e){n=i[e];({position:o,options:{stack:a,stackWeight:r=1}}=n);t.push({index:e,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r})}return t}function Or(i){const t={};for(const e of i){const{stack:s,pos:n,stackWeight:o}=e;if(!s||!Pn.includes(n)){continue}const a=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});a.count++;a.weight+=o}return t}function Ar(i,t){const e=Or(i);const{vBoxMaxWidth:s,hBoxMaxHeight:n}=t;let o,a,r;for(o=0,a=i.length;o<a;++o){r=i[o];const{fullSize:l}=r.box;const c=e[r.stack];const h=c&&r.stackWeight/c.weight;if(r.horizontal){r.width=h?h*s:l&&t.availableWidth;r.height=n}else{r.width=s;r.height=h?h*n:l&&t.availableHeight}}return e}function Lr(i){const t=Dr(i);const e=Yt(t.filter(c=>c.box.fullSize),true);const s=Yt($t(t,"left"),true);const n=Yt($t(t,"right"));const o=Yt($t(t,"top"),true);const a=Yt($t(t,"bottom"));const r=vs(t,"x");const l=vs(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:$t(t,"chartArea"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}function Ms(i,t,e,s){return Math.max(i[e],t[e])+Math.max(i[s],t[s])}function Dn(i,t){i.top=Math.max(i.top,t.top);i.left=Math.max(i.left,t.left);i.bottom=Math.max(i.bottom,t.bottom);i.right=Math.max(i.right,t.right)}function Tr(i,t,e,s){const{pos:n,box:o}=e;const a=i.maxPadding;if(!A(n)){if(e.size){i[n]-=e.size}const d=s[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?o.height:o.width);e.size=d.size/d.count;i[n]+=e.size}if(o.getPadding){Dn(a,o.getPadding())}const r=Math.max(0,t.outerWidth-Ms(a,i,"left","right"));const l=Math.max(0,t.outerHeight-Ms(a,i,"top","bottom"));const c=r!==i.w;const h=l!==i.h;i.w=r;i.h=l;return e.horizontal?{same:c,other:h}:{same:h,other:c}}function Rr(i){const t=i.maxPadding;function e(s){const n=Math.max(t[s]-i[s],0);i[s]+=n;return n}i.y+=e("top");i.x+=e("left");e("right");e("bottom")}function Er(i,t){const e=t.maxPadding;function s(n){const o={left:0,top:0,right:0,bottom:0};n.forEach(a=>{o[a]=Math.max(t[a],e[a])});return o}return i?s(["left","right"]):s(["top","bottom"])}function Kt(i,t,e,s){const n=[];let o,a,r,l,c,h;for(o=0,a=i.length,c=0;o<a;++o){r=i[o];l=r.box;l.update(r.width||t.w,r.height||t.h,Er(r.horizontal,t));const{same:d,other:u}=Tr(t,e,r,s);c|=d&&n.length;h=h||u;if(!l.fullSize){n.push(r)}}return c&&Kt(n,t,e,s)||h}function ye(i,t,e,s,n){i.top=e;i.left=t;i.right=t+s;i.bottom=e+n;i.width=s;i.height=n}function ks(i,t,e,s){const n=e.padding;let{x:o,y:a}=t;for(const r of i){const l=r.box;const c=s[r.stack]||{count:1,placed:0,weight:1};const h=r.stackWeight/c.weight||1;if(r.horizontal){const d=t.w*h;const u=c.size||l.height;if(et(c.start)){a=c.start}if(l.fullSize){ye(l,n.left,a,e.outerWidth-n.right-n.left,u)}else{ye(l,t.left+c.placed,a,d,u)}c.start=a;c.placed+=d;a=l.bottom}else{const d=t.h*h;const u=c.size||l.width;if(et(c.start)){o=c.start}if(l.fullSize){ye(l,o,n.top,u,e.outerHeight-n.bottom-n.top)}else{ye(l,o,t.top+c.placed,u,d)}c.start=o;c.placed+=d;o=l.right}}t.x=o;t.y=a}O.set("layout",{autoPadding:true,padding:{top:0,right:0,bottom:0,left:0}});var tt={addBox(i,t){if(!i.boxes){i.boxes=[]}t.fullSize=t.fullSize||false;t.position=t.position||"top";t.weight=t.weight||0;t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]};i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;if(e!==-1){i.boxes.splice(e,1)}},configure(i,t,e){t.fullSize=e.fullSize;t.position=e.position;t.weight=e.weight},update(i,t,e,s){if(!i){return}const n=X(i.options.layout.padding);const o=Math.max(t-n.width,0);const a=Math.max(e-n.height,0);const r=Lr(i.boxes);const l=r.vertical;const c=r.horizontal;E(i.boxes,p=>{if(typeof p.beforeLayout==="function"){p.beforeLayout()}});const h=l.reduce((p,m)=>m.box.options&&m.box.options.display===false?p:p+1,0)||1;const d=Object.freeze({outerWidth:t,outerHeight:e,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/h,hBoxMaxHeight:a/2});const u=Object.assign({},n);Dn(u,X(s));const f=Object.assign({maxPadding:u,w:o,h:a,x:n.left,y:n.top},n);const g=Ar(l.concat(c),d);Kt(r.fullSize,f,d,g);Kt(l,f,d,g);if(Kt(c,f,d,g)){Kt(l,f,d,g)}Rr(f);ks(r.leftAndTop,f,d,g);f.x+=f.w;f.y+=f.h;ks(r.rightAndBottom,f,d,g);i.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w};E(r.chartArea,p=>{const m=p.box;Object.assign(m,i.chartArea);m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class On{acquireContext(t,e){}releaseContext(t){return false}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,n){e=Math.max(0,e||t.width);s=s||t.height;return{width:e,height:Math.max(0,n?Math.floor(e/n):s)}}isAttached(t){return true}updateConfig(t){}}class Fr extends On{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=false}}const Ce="$chartjs";const Ir={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};const ws=i=>i===null||i==="";function zr(i,t){const e=i.style;const s=i.getAttribute("height");const n=i.getAttribute("width");i[Ce]={initial:{height:s,width:n,style:{display:e.display,height:e.height,width:e.width}}};e.display=e.display||"block";e.boxSizing=e.boxSizing||"border-box";if(ws(n)){const o=is(i,"width");if(o!==void 0){i.width=o}}if(ws(s)){if(i.style.height===""){i.height=i.width/(t||2)}else{const o=is(i,"height");if(o!==void 0){i.height=o}}}return i}const An=ma?{passive:true}:false;function Br(i,t,e){i.addEventListener(t,e,An)}function Wr(i,t,e){i.canvas.removeEventListener(t,e,An)}function Nr(i,t){const e=Ir[i.type]||i.type;const{x:s,y:n}=wt(i,t);return{type:e,chart:t,native:i,x:s!==void 0?s:null,y:n!==void 0?n:null}}function Re(i,t){for(const e of i){if(e===t||e.contains(t)){return true}}}function Vr(i,t,e){const s=i.canvas;const n=new MutationObserver(o=>{let a=false;for(const r of o){a=a||Re(r.addedNodes,s);a=a&&!Re(r.removedNodes,s)}if(a){e()}});n.observe(document,{childList:true,subtree:true});return n}function Hr(i,t,e){const s=i.canvas;const n=new MutationObserver(o=>{let a=false;for(const r of o){a=a||Re(r.removedNodes,s);a=a&&!Re(r.addedNodes,s)}if(a){e()}});n.observe(document,{childList:true,subtree:true});return n}const ne=new Map;let Ss=0;function Ln(){const i=window.devicePixelRatio;if(i===Ss){return}Ss=i;ne.forEach((t,e)=>{if(e.currentDevicePixelRatio!==i){t()}})}function jr(i,t){if(!ne.size){window.addEventListener("resize",Ln)}ne.set(i,t)}function $r(i){ne.delete(i);if(!ne.size){window.removeEventListener("resize",Ln)}}function Yr(i,t,e){const s=i.canvas;const n=s&&Ai(s);if(!n){return}const o=en((r,l)=>{const c=n.clientWidth;e(r,l);if(c<n.clientWidth){e()}},window);const a=new ResizeObserver(r=>{const l=r[0];const c=l.contentRect.width;const h=l.contentRect.height;if(c===0&&h===0){return}o(c,h)});a.observe(n);jr(i,o);return a}function si(i,t,e){if(e){e.disconnect()}if(t==="resize"){$r(i)}}function Ur(i,t,e){const s=i.canvas;const n=en(o=>{if(i.ctx!==null){e(Nr(o,i))}},i,o=>{const a=o[0];return[a,a.offsetX,a.offsetY]});Br(s,t,n);return n}class Xr extends On{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");if(s&&s.canvas===t){zr(t,e);return s}return null}releaseContext(t){const e=t.canvas;if(!e[Ce]){return false}const s=e[Ce].initial;["height","width"].forEach(o=>{const a=s[o];if(R(a)){e.removeAttribute(o)}else{e.setAttribute(o,a)}});const n=s.style||{};Object.keys(n).forEach(o=>{e.style[o]=n[o]});e.width=e.width;delete e[Ce];return true}addEventListener(t,e,s){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={});const o={attach:Vr,detach:Hr,resize:Yr};const a=o[e]||Ur;n[e]=a(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={});const n=s[e];if(!n){return}const o={attach:si,detach:si,resize:si};const a=o[e]||Wr;a(t,e,n);s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,n){return pa(t,e,s,n)}isAttached(t){const e=Ai(t);return!!(e&&e.isConnected)}}function Kr(i){if(!_n()||typeof OffscreenCanvas!=="undefined"&&i instanceof OffscreenCanvas){return Fr}return Xr}class qr{constructor(){this._init=[]}notify(t,e,s,n){if(e==="beforeInit"){this._init=this._createDescriptors(t,true);this._notify(this._init,t,"install")}const o=n?this._descriptors(t).filter(n):this._descriptors(t);const a=this._notify(o,t,e,s);if(e==="afterDestroy"){this._notify(o,t,"stop");this._notify(this._init,t,"uninstall")}return a}_notify(t,e,s,n){n=n||{};for(const o of t){const a=o.plugin;const r=a[s];const l=[e,n,o.options];if(I(r,l,a)===false&&n.cancelable){return false}}return true}invalidate(){if(!R(this._cache)){this._oldCache=this._cache;this._cache=void 0}}_descriptors(t){if(this._cache){return this._cache}const e=this._cache=this._createDescriptors(t);this._notifyStateChanges(t);return e}_createDescriptors(t,e){const s=t&&t.config;const n=P(s.options&&s.options.plugins,{});const o=Gr(s);return n===false&&!e?[]:Jr(t,o,n,e)}_notifyStateChanges(t){const e=this._oldCache||[];const s=this._cache;const n=(o,a)=>o.filter(r=>!a.some(l=>r.plugin.id===l.plugin.id));this._notify(n(e,s),t,"stop");this._notify(n(s,e),t,"start")}}function Gr(i){const t={};const e=[];const s=Object.keys(rt.plugins.items);for(let o=0;o<s.length;o++){e.push(rt.getPlugin(s[o]))}const n=i.plugins||[];for(let o=0;o<n.length;o++){const a=n[o];if(e.indexOf(a)===-1){e.push(a);t[a.id]=true}}return{plugins:e,localIds:t}}function Zr(i,t){if(!t&&i===false){return null}if(i===true){return{}}return i}function Jr(i,{plugins:t,localIds:e},s,n){const o=[];const a=i.getContext();for(const r of t){const l=r.id;const c=Zr(s[l],n);if(c===null){continue}o.push({plugin:r,options:Qr(i.config,{plugin:r,local:e[l]},c,a)})}return o}function Qr(i,{plugin:t,local:e},s,n){const o=i.pluginScopeKeys(t);const a=i.getOptionScopes(s,o);if(e&&t.defaults){a.push(t.defaults)}return i.createResolver(a,n,[""],{scriptable:false,indexable:false,allKeys:true})}function di(i,t){const e=O.datasets[i]||{};const s=(t.datasets||{})[i]||{};return s.indexAxis||t.indexAxis||e.indexAxis||"x"}function tl(i,t){let e=i;if(i==="_index_"){e=t}else if(i==="_value_"){e=t==="x"?"y":"x"}return e}function el(i,t){return i===t?"_index_":"_value_"}function il(i){if(i==="top"||i==="bottom"){return"x"}if(i==="left"||i==="right"){return"y"}}function ui(i,t){if(i==="x"||i==="y"){return i}return t.axis||il(t.position)||i.charAt(0).toLowerCase()}function sl(i,t){const e=Ot[i.type]||{scales:{}};const s=t.scales||{};const n=di(i.type,t);const o=Object.create(null);const a=Object.create(null);Object.keys(s).forEach(r=>{const l=s[r];if(!A(l)){return console.error(`Invalid scale configuration for scale: ${r}`)}if(l._proxy){return console.warn(`Ignoring resolver passed as options for scale: ${r}`)}const c=ui(r,l);const h=el(c,n);const d=e.scales||{};o[c]=o[c]||r;a[r]=qt(Object.create(null),[{axis:c},l,d[c],d[h]])});i.data.datasets.forEach(r=>{const l=r.type||i.type;const c=r.indexAxis||di(l,t);const h=Ot[l]||{};const d=h.scales||{};Object.keys(d).forEach(u=>{const f=tl(u,c);const g=r[f+"AxisID"]||o[f]||f;a[g]=a[g]||Object.create(null);qt(a[g],[{axis:f},s[g],d[u]])})});Object.keys(a).forEach(r=>{const l=a[r];qt(l,[O.scales[l.type],O.scale])});return a}function Tn(i){const t=i.options||(i.options={});t.plugins=P(t.plugins,{});t.scales=sl(i,t)}function Rn(i){i=i||{};i.datasets=i.datasets||[];i.labels=i.labels||[];return i}function nl(i){i=i||{};i.data=Rn(i.data);Tn(i);return i}const Cs=new Map;const En=new Set;function ve(i,t){let e=Cs.get(i);if(!e){e=t();Cs.set(i,e);En.add(e)}return e}const Ut=(i,t,e)=>{const s=_t(t,e);if(s!==void 0){i.add(s)}};class ol{constructor(t){this._config=nl(t);this._scopeCache=new Map;this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Rn(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache();Tn(t)}clearCache(){this._scopeCache.clear();this._resolverCache.clear()}datasetScopeKeys(t){return ve(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ve(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ve(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;const s=this.type;return ve(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let n=s.get(t);if(!n||e){n=new Map;s.set(t,n)}return n}getOptionScopes(t,e,s){const{options:n,type:o}=this;const a=this._cachedScopes(t,s);const r=a.get(e);if(r){return r}const l=new Set;e.forEach(h=>{if(t){l.add(t);h.forEach(d=>Ut(l,t,d))}h.forEach(d=>Ut(l,n,d));h.forEach(d=>Ut(l,Ot[o]||{},d));h.forEach(d=>Ut(l,O,d));h.forEach(d=>Ut(l,li,d))});const c=Array.from(l);if(c.length===0){c.push(Object.create(null))}if(En.has(e)){a.set(e,c)}return c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ot[e]||{},O.datasets[e]||{},{type:e},O,li]}resolveNamedOptions(t,e,s,n=[""]){const o={$shared:true};const{resolver:a,subPrefixes:r}=Ps(this._resolverCache,t,n);let l=a;if(rl(a,e)){o.$shared=false;s=xt(s)?s():s;const c=this.createResolver(t,s,r);l=Bt(a,s,c)}for(const c of e){o[c]=l[c]}return o}createResolver(t,e,s=[""],n){const{resolver:o}=Ps(this._resolverCache,t,s);return A(e)?Bt(o,e,void 0,n):o}}function Ps(i,t,e){let s=i.get(t);if(!s){s=new Map;i.set(t,s)}const n=e.join();let o=s.get(n);if(!o){const a=Pi(t,e);o={resolver:a,subPrefixes:e.filter(r=>!r.toLowerCase().includes("hover"))};s.set(n,o)}return o}const al=i=>A(i)&&Object.getOwnPropertyNames(i).reduce((t,e)=>t||xt(i[e]),false);function rl(i,t){const{isScriptable:e,isIndexable:s}=un(i);for(const n of t){const o=e(n);const a=s(n);const r=(a||o)&&i[n];if(o&&(xt(r)||al(r))||a&&z(r)){return true}}return false}var ll="3.9.1";const cl=["top","bottom","left","right","chartArea"];function Ds(i,t){return i==="top"||i==="bottom"||cl.indexOf(i)===-1&&t==="x"}function Os(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function As(i){const t=i.chart;const e=t.options.animation;t.notifyPlugins("afterRender");I(e&&e.onComplete,[i],t)}function hl(i){const t=i.chart;const e=t.options.animation;I(e&&e.onProgress,[i],t)}function Fn(i){if(_n()&&typeof i==="string"){i=document.getElementById(i)}else if(i&&i.length){i=i[0]}if(i&&i.canvas){i=i.canvas}return i}const Ee={};const In=i=>{const t=Fn(i);return Object.values(Ee).filter(e=>e.canvas===t).pop()};function dl(i,t,e){const s=Object.keys(i);for(const n of s){const o=+n;if(o>=t){const a=i[n];delete i[n];if(e>0||o>t){i[o+e]=a}}}}function ul(i,t,e,s){if(!e||i.type==="mouseout"){return null}if(s){return t}return i}class oe{constructor(t,e){const s=this.config=new ol(e);const n=Fn(t);const o=In(n);if(o){throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.")}const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Kr(n));this.platform.updateConfig(s);const r=this.platform.acquireContext(n,a.aspectRatio);const l=r&&r.canvas;const c=l&&l.height;const h=l&&l.width;this.id=qn();this.ctx=r;this.canvas=l;this.width=h;this.height=c;this._options=a;this._aspectRatio=this.aspectRatio;this._layers=[];this._metasets=[];this._stacks=void 0;this.boxes=[];this.currentDevicePixelRatio=void 0;this.chartArea=void 0;this._active=[];this._lastEvent=void 0;this._listeners={};this._responsiveListeners=void 0;this._sortedMetasets=[];this.scales={};this._plugins=new qr;this.$proxies={};this._hiddenIndices={};this.attached=false;this._animationsDisabled=void 0;this.$context=void 0;this._doResize=uo(d=>this.update(d),a.resizeDelay||0);this._dataChanges=[];Ee[this.id]=this;if(!r||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ht.listen(this,"complete",As);ht.listen(this,"progress",hl);this._initialize();if(this.attached){this.update()}}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:n,_aspectRatio:o}=this;if(!R(t)){return t}if(e&&o){return o}return n?s/n:null}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){this.notifyPlugins("beforeInit");if(this.options.responsive){this.resize()}else{es(this,this.options.devicePixelRatio)}this.bindEvents();this.notifyPlugins("afterInit");return this}clear(){Ji(this.canvas,this.ctx);return this}stop(){ht.stop(this);return this}resize(t,e){if(!ht.running(this)){this._resize(t,e)}else{this._resizeBeforeDraw={width:t,height:e}}}_resize(t,e){const s=this.options;const n=this.canvas;const o=s.maintainAspectRatio&&this.aspectRatio;const a=this.platform.getMaximumSize(n,t,e,o);const r=s.devicePixelRatio||this.platform.getDevicePixelRatio();const l=this.width?"resize":"attach";this.width=a.width;this.height=a.height;this._aspectRatio=this.aspectRatio;if(!es(this,r,true)){return}this.notifyPlugins("resize",{size:a});I(s.onResize,[this,a],this);if(this.attached){if(this._doResize(l)){this.render()}}}ensureScalesHaveIDs(){const t=this.options;const e=t.scales||{};E(e,(s,n)=>{s.id=n})}buildOrUpdateScales(){const t=this.options;const e=t.scales;const s=this.scales;const n=Object.keys(s).reduce((a,r)=>{a[r]=false;return a},{});let o=[];if(e){o=o.concat(Object.keys(e).map(a=>{const r=e[a];const l=ui(a,r);const c=l==="r";const h=l==="x";return{options:r,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))}E(o,a=>{const r=a.options;const l=r.id;const c=ui(l,r);const h=P(r.type,a.dtype);if(r.position===void 0||Ds(r.position,c)!==Ds(a.dposition)){r.position=a.dposition}n[l]=true;let d=null;if(l in s&&s[l].type===h){d=s[l]}else{const u=rt.getScale(h);d=new u({id:l,type:h,ctx:this.ctx,chart:this});s[d.id]=d}d.init(r,t)});E(n,(a,r)=>{if(!a){delete s[r]}});E(s,a=>{tt.configure(this,a,a.options);tt.addBox(this,a)})}_updateMetasets(){const t=this._metasets;const e=this.data.datasets.length;const s=t.length;t.sort((n,o)=>n.index-o.index);if(s>e){for(let n=e;n<s;++n){this._destroyDatasetMeta(n)}t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Os("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;if(t.length>e.length){delete this._stacks}t.forEach((s,n)=>{if(e.filter(o=>o===s._dataset).length===0){this._destroyDatasetMeta(n)}})}buildOrUpdateControllers(){const t=[];const e=this.data.datasets;let s,n;this._removeUnreferencedMetasets();for(s=0,n=e.length;s<n;s++){const o=e[s];let a=this.getDatasetMeta(s);const r=o.type||this.config.type;if(a.type&&a.type!==r){this._destroyDatasetMeta(s);a=this.getDatasetMeta(s)}a.type=r;a.indexAxis=o.indexAxis||di(r,this.options);a.order=o.order||0;a.index=s;a.label=""+o.label;a.visible=this.isDatasetVisible(s);if(a.controller){a.controller.updateIndex(s);a.controller.linkScales()}else{const l=rt.getController(r);const{datasetElementType:c,dataElementType:h}=O.datasets[r];Object.assign(l.prototype,{dataElementType:rt.getElement(h),datasetElementType:c&&rt.getElement(c)});a.controller=new l(this,s);t.push(a.controller)}}this._updateMetasets();return t}_resetElements(){E(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements();this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext());const n=this._animationsDisabled=!s.animation;this._updateScales();this._checkEventBindings();this._updateHiddenIndices();this._plugins.invalidate();if(this.notifyPlugins("beforeUpdate",{mode:t,cancelable:true})===false){return}const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:d}=this.getDatasetMeta(c);const u=!n&&o.indexOf(d)===-1;d.buildOrUpdateElements(u);a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0;this._updateLayout(a);if(!n){E(o,c=>{c.reset()})}this._updateDatasets(t);this.notifyPlugins("afterUpdate",{mode:t});this._layers.sort(Os("z","_idx"));const{_active:r,_lastEvent:l}=this;if(l){this._eventHandler(l,true)}else if(r.length){this._updateHoverStyles(r,r,true)}this.render()}_updateScales(){E(this.scales,t=>{tt.removeBox(this,t)});this.ensureScalesHaveIDs();this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options;const e=new Set(Object.keys(this._listeners));const s=new Set(t.events);if(!Ni(e,s)||!!this._responsiveListeners!==t.responsive){this.unbindEvents();this.bindEvents()}}_updateHiddenIndices(){const{_hiddenIndices:t}=this;const e=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:o}of e){const a=s==="_removeElements"?-o:o;dl(t,n,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length){return}this._dataChanges=[];const e=this.data.datasets.length;const s=o=>new Set(t.filter(a=>a[0]===o).map((a,r)=>r+","+a.splice(1).join(",")));const n=s(0);for(let o=1;o<e;o++){if(!Ni(n,s(o))){return}}return Array.from(n).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:true})===false){return}tt.update(this,this.width,this.height,t);const e=this.chartArea;const s=e.width<=0||e.height<=0;this._layers=[];E(this.boxes,n=>{if(s&&n.position==="chartArea"){return}if(n.configure){n.configure()}this._layers.push(...n._layers())},this);this._layers.forEach((n,o)=>{n._idx=o});this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:true})===false){return}for(let e=0,s=this.data.datasets.length;e<s;++e){this.getDatasetMeta(e).controller.configure()}for(let e=0,s=this.data.datasets.length;e<s;++e){this._updateDataset(e,xt(t)?t({datasetIndex:e}):t)}this.notifyPlugins("afterDatasetsUpdate",{mode:t})}_updateDataset(t,e){const s=this.getDatasetMeta(t);const n={meta:s,index:t,mode:e,cancelable:true};if(this.notifyPlugins("beforeDatasetUpdate",n)===false){return}s.controller._update(e);n.cancelable=false;this.notifyPlugins("afterDatasetUpdate",n)}render(){if(this.notifyPlugins("beforeRender",{cancelable:true})===false){return}if(ht.has(this)){if(this.attached&&!ht.running(this)){ht.start(this)}}else{this.draw();As({chart:this})}}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:n}=this._resizeBeforeDraw;this._resize(s,n);this._resizeBeforeDraw=null}this.clear();if(this.width<=0||this.height<=0){return}if(this.notifyPlugins("beforeDraw",{cancelable:true})===false){return}const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t){e[t].draw(this.chartArea)}this._drawDatasets();for(;t<e.length;++t){e[t].draw(this.chartArea)}this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets;const s=[];let n,o;for(n=0,o=e.length;n<o;++n){const a=e[n];if(!t||a.visible){s.push(a)}}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(true)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:true})===false){return}const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e){this._drawDataset(t[e])}this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx;const s=t._clip;const n=!s.disabled;const o=this.chartArea;const a={meta:t,index:t.index,cancelable:true};if(this.notifyPlugins("beforeDatasetDraw",a)===false){return}if(n){wi(e,{left:s.left===false?0:o.left-s.left,right:s.right===false?this.width:o.right+s.right,top:s.top===false?0:o.top-s.top,bottom:s.bottom===false?this.height:o.bottom+s.bottom})}t.controller.draw();if(n){Si(e)}a.cancelable=false;this.notifyPlugins("afterDatasetDraw",a)}isPointInArea(t){return ie(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,n){const o=Pr.modes[e];if(typeof o==="function"){return o(this,t,s,n)}return[]}getDatasetMeta(t){const e=this.data.datasets[t];const s=this._metasets;let n=s.filter(o=>o&&o._dataset===e).pop();if(!n){n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:false};s.push(n)}return n}getContext(){return this.$context||(this.$context=yt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e){return false}const s=this.getDatasetMeta(t);return typeof s.hidden==="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const n=s?"show":"hide";const o=this.getDatasetMeta(t);const a=o.controller._resolveAnimations(void 0,n);if(et(e)){o.data[e].hidden=!s;this.update()}else{this.setDatasetVisibility(t,s);a.update(o,{visible:s});this.update(r=>r.datasetIndex===t?n:void 0)}}hide(t,e){this._updateVisibility(t,e,false)}show(t,e){this._updateVisibility(t,e,true)}_destroyDatasetMeta(t){const e=this._metasets[t];if(e&&e.controller){e.controller._destroy()}delete this._metasets[t]}_stop(){let t,e;this.stop();ht.remove(this);for(t=0,e=this.data.datasets.length;t<e;++t){this._destroyDatasetMeta(t)}}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop();this.config.clearCache();if(t){this.unbindEvents();Ji(t,e);this.platform.releaseContext(e);this.canvas=null;this.ctx=null}this.notifyPlugins("destroy");delete Ee[this.id];this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents();if(this.options.responsive){this.bindResponsiveEvents()}else{this.attached=true}}bindUserEvents(){const t=this._listeners;const e=this.platform;const s=(o,a)=>{e.addEventListener(this,o,a);t[o]=a};const n=(o,a,r)=>{o.offsetX=a;o.offsetY=r;this._eventHandler(o)};E(this.options.events,o=>s(o,n))}bindResponsiveEvents(){if(!this._responsiveListeners){this._responsiveListeners={}}const t=this._responsiveListeners;const e=this.platform;const s=(l,c)=>{e.addEventListener(this,l,c);t[l]=c};const n=(l,c)=>{if(t[l]){e.removeEventListener(this,l,c);delete t[l]}};const o=(l,c)=>{if(this.canvas){this.resize(l,c)}};let a;const r=()=>{n("attach",r);this.attached=true;this.resize();s("resize",o);s("detach",a)};a=()=>{this.attached=false;n("resize",o);this._stop();this._resize(0,0);s("attach",r)};if(e.isAttached(this.canvas)){r()}else{a()}}unbindEvents(){E(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)});this._listeners={};E(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)});this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const n=s?"set":"remove";let o,a,r,l;if(e==="dataset"){o=this.getDatasetMeta(t[0].datasetIndex);o.controller["_"+n+"DatasetHoverStyle"]()}for(r=0,l=t.length;r<l;++r){a=t[r];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;if(c){c[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[];const s=t.map(({datasetIndex:o,index:a})=>{const r=this.getDatasetMeta(o);if(!r){throw new Error("No dataset found at index "+o)}return{datasetIndex:o,element:r.data[a],index:a}});const n=!Pe(s,e);if(n){this._active=s;this._lastEvent=null;this._updateHoverStyles(s,e)}}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}_updateHoverStyles(t,e,s){const n=this.options.hover;const o=(l,c)=>l.filter(h=>!c.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index));const a=o(e,t);const r=s?t:o(t,e);if(a.length){this.updateHoverStyle(a,n.mode,false)}if(r.length&&n.mode){this.updateHoverStyle(r,n.mode,true)}}_eventHandler(t,e){const s={event:t,replay:e,cancelable:true,inChartArea:this.isPointInArea(t)};const n=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===false){return}const o=this._handleEvent(t,e,s.inChartArea);s.cancelable=false;this.notifyPlugins("afterEvent",s,n);if(o||s.changed){this.render()}return this}_handleEvent(t,e,s){const{_active:n=[],options:o}=this;const a=e;const r=this._getActiveElements(t,n,s,a);const l=eo(t);const c=ul(t,this._lastEvent,s,l);if(s){this._lastEvent=null;I(o.onHover,[t,r,this],this);if(l){I(o.onClick,[t,r,this],this)}}const h=!Pe(r,n);if(h||e){this._active=r;this._updateHoverStyles(r,n,e)}this._lastEvent=c;return h}_getActiveElements(t,e,s,n){if(t.type==="mouseout"){return[]}if(!s){return e}const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,n)}}const Ls=()=>E(oe.instances,i=>i._plugins.invalidate());const ft=true;Object.defineProperties(oe,{defaults:{enumerable:ft,value:O},instances:{enumerable:ft,value:Ee},overrides:{enumerable:ft,value:Ot},registry:{enumerable:ft,value:rt},version:{enumerable:ft,value:ll},getChart:{enumerable:ft,value:In},register:{enumerable:ft,value:(...i)=>{rt.add(...i);Ls()}},unregister:{enumerable:ft,value:(...i)=>{rt.remove(...i);Ls()}}});function zn(i,t,e){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=t;let c=n/r;i.beginPath();i.arc(o,a,r,s-c,e+c);if(l>n){c=n/l;i.arc(o,a,l,e+c,s-c,true)}else{i.arc(o,a,n,e+W,s-W)}i.closePath();i.clip()}function fl(i){return Ci(i,["outerStart","outerEnd","innerStart","innerEnd"])}function gl(i,t,e,s){const n=fl(i.options.borderRadius);const o=(e-t)/2;const a=Math.min(o,s*t/2);const r=l=>{const c=(e-Math.min(o,l))*s/2;return U(l,0,Math.min(o,c))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:U(n.innerStart,0,a),innerEnd:U(n.innerEnd,0,a)}}function Ft(i,t,e,s){return{x:e+i*Math.cos(t),y:s+i*Math.sin(t)}}function fi(i,t,e,s,n,o){const{x:a,y:r,startAngle:l,pixelMargin:c,innerRadius:h}=t;const d=Math.max(t.outerRadius+s+e-c,0);const u=h>0?h+s+e+c:0;let f=0;const g=n-l;if(s){const C=h>0?h-s:0;const H=d>0?d-s:0;const N=(C+H)/2;const vt=N!==0?g*N/(N+s):g;f=(g-vt)/2}const p=Math.max(.001,g*d-e/B)/d;const m=(g-p)/2;const b=l+m+f;const _=n-m-f;const{outerStart:y,outerEnd:v,innerStart:x,innerEnd:k}=gl(t,u,d,_-b);const M=d-y;const S=d-v;const w=b+y/M;const L=_-v/S;const T=u+x;const D=u+k;const V=b+x/T;const K=_-k/D;i.beginPath();if(o){i.arc(a,r,d,w,L);if(v>0){const N=Ft(S,L,a,r);i.arc(N.x,N.y,v,L,_+W)}const C=Ft(D,_,a,r);i.lineTo(C.x,C.y);if(k>0){const N=Ft(D,K,a,r);i.arc(N.x,N.y,k,_+W,K+Math.PI)}i.arc(a,r,u,_-k/u,b+x/u,true);if(x>0){const N=Ft(T,V,a,r);i.arc(N.x,N.y,x,V+Math.PI,b-W)}const H=Ft(M,b,a,r);i.lineTo(H.x,H.y);if(y>0){const N=Ft(M,w,a,r);i.arc(N.x,N.y,y,b-W,w)}}else{i.moveTo(a,r);const C=Math.cos(w)*d+a;const H=Math.sin(w)*d+r;i.lineTo(C,H);const N=Math.cos(L)*d+a;const vt=Math.sin(L)*d+r;i.lineTo(N,vt)}i.closePath()}function pl(i,t,e,s,n){const{fullCircles:o,startAngle:a,circumference:r}=t;let l=t.endAngle;if(o){fi(i,t,e,s,a+F,n);for(let c=0;c<o;++c){i.fill()}if(!isNaN(r)){l=a+r%F;if(r%F===0){l+=F}}}fi(i,t,e,s,l,n);i.fill();return l}function ml(i,t,e){const{x:s,y:n,startAngle:o,pixelMargin:a,fullCircles:r}=t;const l=Math.max(t.outerRadius-a,0);const c=t.innerRadius+a;let h;if(e){zn(i,t,o+F)}i.beginPath();i.arc(s,n,c,o+F,o,true);for(h=0;h<r;++h){i.stroke()}i.beginPath();i.arc(s,n,l,o,o+F);for(h=0;h<r;++h){i.stroke()}}function bl(i,t,e,s,n,o){const{options:a}=t;const{borderWidth:r,borderJoinStyle:l}=a;const c=a.borderAlign==="inner";if(!r){return}if(c){i.lineWidth=r*2;i.lineJoin=l||"round"}else{i.lineWidth=r;i.lineJoin=l||"bevel"}if(t.fullCircles){ml(i,t,c)}if(c){zn(i,t,n)}fi(i,t,e,s,n,o);i.stroke()}class Ii extends ot{constructor(t){super();this.options=void 0;this.circumference=void 0;this.startAngle=void 0;this.endAngle=void 0;this.innerRadius=void 0;this.outerRadius=void 0;this.pixelMargin=0;this.fullCircles=0;if(t){Object.assign(this,t)}}inRange(t,e,s){const n=this.getProps(["x","y"],s);const{angle:o,distance:a}=Zs(n,{x:t,y:e});const{startAngle:r,endAngle:l,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s);const u=this.options.spacing/2;const f=P(d,l-r);const g=f>=F||ee(o,r,l);const p=gt(a,c+u,h+u);return g&&p}getCenterPoint(t){const{x:e,y:s,startAngle:n,endAngle:o,innerRadius:a,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t);const{offset:l,spacing:c}=this.options;const h=(n+o)/2;const d=(a+r+c+l)/2;return{x:e+Math.cos(h)*d,y:s+Math.sin(h)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:s}=this;const n=(e.offset||0)/2;const o=(e.spacing||0)/2;const a=e.circular;this.pixelMargin=e.borderAlign==="inner"?.33:0;this.fullCircles=s>F?Math.floor(s/F):0;if(s===0||this.innerRadius<0||this.outerRadius<0){return}t.save();let r=0;if(n){r=n/2;const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*r,Math.sin(c)*r);if(this.circumference>=B){r=n}}t.fillStyle=e.backgroundColor;t.strokeStyle=e.borderColor;const l=pl(t,this,r,o,a);bl(t,this,r,o,l,a);t.restore()}}Ii.id="arc";Ii.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:true};Ii.defaultRoutes={backgroundColor:"backgroundColor"};function Bn(i,t,e=t){i.lineCap=P(e.borderCapStyle,t.borderCapStyle);i.setLineDash(P(e.borderDash,t.borderDash));i.lineDashOffset=P(e.borderDashOffset,t.borderDashOffset);i.lineJoin=P(e.borderJoinStyle,t.borderJoinStyle);i.lineWidth=P(e.borderWidth,t.borderWidth);i.strokeStyle=P(e.borderColor,t.borderColor)}function _l(i,t,e){i.lineTo(e.x,e.y)}function xl(i){if(i.stepped){return Wo}if(i.tension||i.cubicInterpolationMode==="monotone"){return No}return _l}function Wn(i,t,e={}){const s=i.length;const{start:n=0,end:o=s-1}=e;const{start:a,end:r}=t;const l=Math.max(n,a);const c=Math.min(o,r);const h=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:t.loop,ilen:c<l&&!h?s+c-l:c-l}}function yl(i,t,e,s){const{points:n,options:o}=t;const{count:a,start:r,loop:l,ilen:c}=Wn(n,e,s);const h=xl(o);let{move:d=true,reverse:u}=s||{};let f,g,p;for(f=0;f<=c;++f){g=n[(r+(u?c-f:f))%a];if(g.skip){continue}else if(d){i.moveTo(g.x,g.y);d=false}else{h(i,p,g,u,o.stepped)}p=g}if(l){g=n[(r+(u?c:0))%a];h(i,p,g,u,o.stepped)}return!!l}function vl(i,t,e,s){const n=t.points;const{count:o,start:a,ilen:r}=Wn(n,e,s);const{move:l=true,reverse:c}=s||{};let h=0;let d=0;let u,f,g,p,m,b;const _=v=>(a+(c?r-v:v))%o;const y=()=>{if(p!==m){i.lineTo(h,m);i.lineTo(h,p);i.lineTo(h,b)}};if(l){f=n[_(0)];i.moveTo(f.x,f.y)}for(u=0;u<=r;++u){f=n[_(u)];if(f.skip){continue}const v=f.x;const x=f.y;const k=v|0;if(k===g){if(x<p){p=x}else if(x>m){m=x}h=(d*h+v)/++d}else{y();i.lineTo(v,x);g=k;d=0;p=m=x}b=x}y()}function gi(i){const t=i.options;const e=t.borderDash&&t.borderDash.length;const s=!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e;return s?vl:yl}function Ml(i){if(i.stepped){return ba}if(i.tension||i.cubicInterpolationMode==="monotone"){return _a}return St}function kl(i,t,e,s){let n=t._path;if(!n){n=t._path=new Path2D;if(t.path(n,e,s)){n.closePath()}}Bn(i,t.options);i.stroke(n)}function wl(i,t,e,s){const{segments:n,options:o}=t;const a=gi(t);for(const r of n){Bn(i,o,r.style);i.beginPath();if(a(i,t,r,{start:e,end:e+s-1})){i.closePath()}i.stroke()}}const Sl=typeof Path2D==="function";function Cl(i,t,e,s){if(Sl&&!t.options.segment){kl(i,t,e,s)}else{wl(i,t,e,s)}}class he extends ot{constructor(t){super();this.animated=true;this.options=void 0;this._chart=void 0;this._loop=void 0;this._fullLoop=void 0;this._path=void 0;this._points=void 0;this._segments=void 0;this._decimated=false;this._pointsUpdated=false;this._datasetIndex=void 0;if(t){Object.assign(this,t)}}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;ca(this._points,s,t,n,e);this._pointsUpdated=true}}set points(t){this._points=t;delete this._segments;delete this._path;this._pointsUpdated=false}get points(){return this._points}get segments(){return this._segments||(this._segments=Pa(this,this.options.segment))}first(){const t=this.segments;const e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments;const e=this.points;const s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options;const n=t[e];const o=this.points;const a=wa(this,{property:e,start:n,end:n});if(!a.length){return}const r=[];const l=Ml(s);let c,h;for(c=0,h=a.length;c<h;++c){const{start:d,end:u}=a[c];const f=o[d];const g=o[u];if(f===g){r.push(f);continue}const p=Math.abs((n-f[e])/(g[e]-f[e]));const m=l(f,g,p,s.stepped);m[e]=t[e];r.push(m)}return r.length===1?r[0]:r}pathSegment(t,e,s){const n=gi(this);return n(t,this,e,s)}path(t,e,s){const n=this.segments;const o=gi(this);let a=this._loop;e=e||0;s=s||this.points.length-e;for(const r of n){a&=o(t,this,r,{start:e,end:e+s-1})}return!!a}draw(t,e,s,n){const o=this.options||{};const a=this.points||[];if(a.length&&o.borderWidth){t.save();Cl(t,this,s,n);t.restore()}if(this.animated){this._pointsUpdated=false;this._path=void 0}}}he.id="line";he.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:true,cubicInterpolationMode:"default",fill:false,spanGaps:false,stepped:false,tension:0};he.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};he.descriptors={_scriptable:true,_indexable:i=>i!=="borderDash"&&i!=="fill"};function Ts(i,t,e,s){const n=i.options;const{[e]:o}=i.getProps([e],s);return Math.abs(t-o)<n.radius+n.hitRadius}class Ne extends ot{constructor(t){super();this.options=void 0;this.parsed=void 0;this.skip=void 0;this.stop=void 0;if(t){Object.assign(this,t)}}inRange(t,e,s){const n=this.options;const{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(e-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return Ts(this,t,"x",e)}inYRange(t,e){return Ts(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;if(this.skip||s.radius<.1||!ie(this,e,this.size(s)/2)){return}t.strokeStyle=s.borderColor;t.lineWidth=s.borderWidth;t.fillStyle=s.backgroundColor;ci(t,s,this.x,this.y)}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ne.id="point";Ne.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Ne.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Nn(i,t){const{x:e,y:s,base:n,width:o,height:a}=i.getProps(["x","y","base","width","height"],t);let r,l,c,h,d;if(i.horizontal){d=a/2;r=Math.min(e,n);l=Math.max(e,n);c=s-d;h=s+d}else{d=o/2;r=e-d;l=e+d;c=Math.min(s,n);h=Math.max(s,n)}return{left:r,top:c,right:l,bottom:h}}function mt(i,t,e,s){return i?0:U(t,e,s)}function Pl(i,t,e){const s=i.options.borderWidth;const n=i.borderSkipped;const o=dn(s);return{t:mt(n.top,o.top,0,e),r:mt(n.right,o.right,0,t),b:mt(n.bottom,o.bottom,0,e),l:mt(n.left,o.left,0,t)}}function Dl(i,t,e){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]);const n=i.options.borderRadius;const o=Pt(n);const a=Math.min(t,e);const r=i.borderSkipped;const l=s||A(n);return{topLeft:mt(!l||r.top||r.left,o.topLeft,0,a),topRight:mt(!l||r.top||r.right,o.topRight,0,a),bottomLeft:mt(!l||r.bottom||r.left,o.bottomLeft,0,a),bottomRight:mt(!l||r.bottom||r.right,o.bottomRight,0,a)}}function Ol(i){const t=Nn(i);const e=t.right-t.left;const s=t.bottom-t.top;const n=Pl(i,e/2,s/2);const o=Dl(i,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:o},inner:{x:t.left+n.l,y:t.top+n.t,w:e-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function ni(i,t,e,s){const n=t===null;const o=e===null;const a=n&&o;const r=i&&!a&&Nn(i,s);return r&&(n||gt(t,r.left,r.right))&&(o||gt(e,r.top,r.bottom))}function Al(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function Ll(i,t){i.rect(t.x,t.y,t.w,t.h)}function oi(i,t,e={}){const s=i.x!==e.x?-t:0;const n=i.y!==e.y?-t:0;const o=(i.x+i.w!==e.x+e.w?t:0)-s;const a=(i.y+i.h!==e.y+e.h?t:0)-n;return{x:i.x+s,y:i.y+n,w:i.w+o,h:i.h+a,radius:i.radius}}class zi extends ot{constructor(t){super();this.options=void 0;this.horizontal=void 0;this.base=void 0;this.width=void 0;this.height=void 0;this.inflateAmount=void 0;if(t){Object.assign(this,t)}}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:n}}=this;const{inner:o,outer:a}=Ol(this);const r=Al(a.radius)?se:Ll;t.save();if(a.w!==o.w||a.h!==o.h){t.beginPath();r(t,oi(a,e,o));t.clip();r(t,oi(o,-e,a));t.fillStyle=s;t.fill("evenodd")}t.beginPath();r(t,oi(o,e));t.fillStyle=n;t.fill();t.restore()}inRange(t,e,s){return ni(this,t,e,s)}inXRange(t,e){return ni(this,t,null,e)}inYRange(t,e){return ni(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+n)/2:e,y:o?s:(s+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}zi.id="bar";zi.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};zi.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const Rs=(i,t)=>{let{boxHeight:e=t,boxWidth:s=t}=i;if(i.usePointStyle){e=Math.min(e,t);s=i.pointStyleWidth||Math.min(s,t)}return{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}};const Tl=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Es extends ot{constructor(t){super();this._added=false;this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=false;this.chart=t.chart;this.options=t.options;this.ctx=t.ctx;this.legendItems=void 0;this.columnSizes=void 0;this.lineWidths=void 0;this.maxHeight=void 0;this.maxWidth=void 0;this.top=void 0;this.bottom=void 0;this.left=void 0;this.right=void 0;this.height=void 0;this.width=void 0;this._margins=void 0;this.position=void 0;this.weight=void 0;this.fullSize=void 0}update(t,e,s){this.maxWidth=t;this.maxHeight=e;this._margins=s;this.setDimensions();this.buildLabels();this.fit()}setDimensions(){if(this.isHorizontal()){this.width=this.maxWidth;this.left=this._margins.left;this.right=this.width}else{this.height=this.maxHeight;this.top=this._margins.top;this.bottom=this.height}}buildLabels(){const t=this.options.labels||{};let e=I(t.generateLabels,[this.chart],this)||[];if(t.filter){e=e.filter(s=>t.filter(s,this.chart.data))}if(t.sort){e=e.sort((s,n)=>t.sort(s,n,this.chart.data))}if(this.options.reverse){e.reverse()}this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels;const n=j(s.font);const o=n.size;const a=this._computeTitleHeight();const{boxWidth:r,itemHeight:l}=Rs(s,o);let c,h;e.font=n.string;if(this.isHorizontal()){c=this.maxWidth;h=this._fitRows(a,o,r,l)+10}else{h=this.maxHeight;c=this._fitCols(a,o,r,l)+10}this.width=Math.min(c,t.maxWidth||this.maxWidth);this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,n){const{ctx:o,maxWidth:a,options:{labels:{padding:r}}}=this;const l=this.legendHitBoxes=[];const c=this.lineWidths=[0];const h=n+r;let d=t;o.textAlign="left";o.textBaseline="middle";let u=-1;let f=-h;this.legendItems.forEach((g,p)=>{const m=s+e/2+o.measureText(g.text).width;if(p===0||c[c.length-1]+m+2*r>a){d+=h;c[c.length-(p>0?0:1)]=0;f+=h;u++}l[p]={left:0,top:f,row:u,width:m,height:n};c[c.length-1]+=m+r});return d}_fitCols(t,e,s,n){const{ctx:o,maxHeight:a,options:{labels:{padding:r}}}=this;const l=this.legendHitBoxes=[];const c=this.columnSizes=[];const h=a-t;let d=r;let u=0;let f=0;let g=0;let p=0;this.legendItems.forEach((m,b)=>{const _=s+e/2+o.measureText(m.text).width;if(b>0&&f+n+2*r>h){d+=u+r;c.push({width:u,height:f});g+=u+r;p++;u=f=0}l[b]={left:g,top:f,col:p,width:_,height:n};u=Math.max(u,_);f+=n+r});d+=u;c.push({width:u,height:f});return d}adjustHitBoxes(){if(!this.options.display){return}const t=this._computeTitleHeight();const{legendHitBoxes:e,options:{align:s,labels:{padding:n},rtl:o}}=this;const a=It(o,this.left,this.width);if(this.isHorizontal()){let r=0;let l=Y(s,this.left+n,this.right-this.lineWidths[r]);for(const c of e){if(r!==c.row){r=c.row;l=Y(s,this.left+n,this.right-this.lineWidths[r])}c.top+=this.top+t+n;c.left=a.leftForLtr(a.x(l),c.width);l+=c.width+n}}else{let r=0;let l=Y(s,this.top+t+n,this.bottom-this.columnSizes[r].height);for(const c of e){if(c.col!==r){r=c.col;l=Y(s,this.top+t+n,this.bottom-this.columnSizes[r].height)}c.top=l;c.left+=this.left+n;c.left=a.leftForLtr(a.x(c.left),c.width);l+=c.height+n}}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;wi(t,this);this._draw();Si(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:n}=this;const{align:o,labels:a}=t;const r=O.color;const l=It(t.rtl,this.left,this.width);const c=j(a.font);const{color:h,padding:d}=a;const u=c.size;const f=u/2;let g;this.drawTitle();n.textAlign=l.textAlign("left");n.textBaseline="middle";n.lineWidth=.5;n.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:b}=Rs(a,u);const _=function(M,S,w){if(isNaN(p)||p<=0||isNaN(m)||m<0){return}n.save();const L=P(w.lineWidth,1);n.fillStyle=P(w.fillStyle,r);n.lineCap=P(w.lineCap,"butt");n.lineDashOffset=P(w.lineDashOffset,0);n.lineJoin=P(w.lineJoin,"miter");n.lineWidth=L;n.strokeStyle=P(w.strokeStyle,r);n.setLineDash(P(w.lineDash,[]));if(a.usePointStyle){const T={radius:m*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:L};const D=l.xPlus(M,p/2);const V=S+f;hn(n,T,D,V,a.pointStyleWidth&&p)}else{const T=S+Math.max((u-m)/2,0);const D=l.leftForLtr(M,p);const V=Pt(w.borderRadius);n.beginPath();if(Object.values(V).some(K=>K!==0)){se(n,{x:D,y:T,w:p,h:m,radius:V})}else{n.rect(D,T,p,m)}n.fill();if(L!==0){n.stroke()}}n.restore()};const y=function(M,S,w){At(n,w.text,M,S+b/2,c,{strikethrough:w.hidden,textAlign:l.textAlign(w.textAlign)})};const v=this.isHorizontal();const x=this._computeTitleHeight();if(v){g={x:Y(o,this.left+d,this.right-s[0]),y:this.top+d+x,line:0}}else{g={x:this.left+d,y:Y(o,this.top+x+d,this.bottom-e[0].height),line:0}}xn(this.ctx,t.textDirection);const k=b+d;this.legendItems.forEach((M,S)=>{n.strokeStyle=M.fontColor||h;n.fillStyle=M.fontColor||h;const w=n.measureText(M.text).width;const L=l.textAlign(M.textAlign||(M.textAlign=a.textAlign));const T=p+f+w;let D=g.x;let V=g.y;l.setWidth(this.width);if(v){if(S>0&&D+T+d>this.right){V=g.y+=k;g.line++;D=g.x=Y(o,this.left+d,this.right-s[g.line])}}else if(S>0&&V+k>this.bottom){D=g.x=D+e[g.line].width+d;g.line++;V=g.y=Y(o,this.top+x+d,this.bottom-e[g.line].height)}const K=l.x(D);_(K,V,M);D=fo(L,D+p+f,v?D+T:this.right,t.rtl);y(l.x(D),V,M);if(v){g.x+=T+d}else{g.y+=k}});yn(this.ctx,t.textDirection)}drawTitle(){const t=this.options;const e=t.title;const s=j(e.font);const n=X(e.padding);if(!e.display){return}const o=It(t.rtl,this.left,this.width);const a=this.ctx;const r=e.position;const l=s.size/2;const c=n.top+l;let h;let d=this.left;let u=this.width;if(this.isHorizontal()){u=Math.max(...this.lineWidths);h=this.top+c;d=Y(t.align,d,this.right-u)}else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);h=c+Y(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=Y(r,d,d+u);a.textAlign=o.textAlign(yi(r));a.textBaseline="middle";a.strokeStyle=e.color;a.fillStyle=e.color;a.font=s.string;At(a,e.text,f,h,s)}_computeTitleHeight(){const t=this.options.title;const e=j(t.font);const s=X(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,n,o;if(gt(t,this.left,this.right)&&gt(e,this.top,this.bottom)){o=this.legendHitBoxes;for(s=0;s<o.length;++s){n=o[s];if(gt(t,n.left,n.left+n.width)&&gt(e,n.top,n.top+n.height)){return this.legendItems[s]}}}return null}handleEvent(t){const e=this.options;if(!Rl(t.type,e)){return}const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem;const o=Tl(n,s);if(n&&!o){I(e.onLeave,[t,n,this],this)}this._hoveredItem=s;if(s&&!o){I(e.onHover,[t,s,this],this)}}else if(s){I(e.onClick,[t,s,this],this)}}}function Rl(i,t){if((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)){return true}if(t.onClick&&(i==="click"||i==="mouseup")){return true}return false}var El={id:"legend",_element:Es,start(i,t,e){const s=i.legend=new Es({ctx:i.ctx,options:e,chart:i});tt.configure(i,s,e);tt.addBox(i,s)},stop(i){tt.removeBox(i,i.legend);delete i.legend},beforeUpdate(i,t,e){const s=i.legend;tt.configure(i,s,e);s.options=e},afterUpdate(i){const t=i.legend;t.buildLabels();t.adjustHitBoxes()},afterEvent(i,t){if(!t.replay){i.legend.handleEvent(t.event)}},defaults:{display:true,position:"top",align:"center",fullSize:true,reverse:false,weight:1e3,onClick(i,t,e){const s=t.datasetIndex;const n=e.chart;if(n.isDatasetVisible(s)){n.hide(s);t.hidden=true}else{n.show(s);t.hidden=false}},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets;const{labels:{usePointStyle:e,pointStyle:s,textAlign:n,color:o}}=i.legend.options;return i._getSortedDatasetMetas().map(a=>{const r=a.controller.getStyle(e?0:void 0);const l=X(r.borderWidth);return{text:t[a.index].label,fillStyle:r.backgroundColor,fontColor:o,hidden:!a.visible,lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:r.borderColor,pointStyle:s||r.pointStyle,rotation:r.rotation,textAlign:n||r.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:i=>i.chart.options.color,display:false,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Vn extends ot{constructor(t){super();this.chart=t.chart;this.options=t.options;this.ctx=t.ctx;this._padding=void 0;this.top=void 0;this.bottom=void 0;this.left=void 0;this.right=void 0;this.width=void 0;this.height=void 0;this.position=void 0;this.weight=void 0;this.fullSize=void 0}update(t,e){const s=this.options;this.left=0;this.top=0;if(!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t;this.height=this.bottom=e;const n=z(s.text)?s.text.length:1;this._padding=X(s.padding);const o=n*j(s.font).lineHeight+this._padding.height;if(this.isHorizontal()){this.height=o}else{this.width=o}}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:n,right:o,options:a}=this;const r=a.align;let l=0;let c,h,d;if(this.isHorizontal()){h=Y(r,s,o);d=e+t;c=o-s}else{if(a.position==="left"){h=s+t;d=Y(r,n,e);l=B*-.5}else{h=o-t;d=Y(r,e,n);l=B*.5}c=n-e}return{titleX:h,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx;const e=this.options;if(!e.display){return}const s=j(e.font);const n=s.lineHeight;const o=n/2+this._padding.top;const{titleX:a,titleY:r,maxWidth:l,rotation:c}=this._drawArgs(o);At(t,e.text,0,0,s,{color:e.color,maxWidth:l,rotation:c,textAlign:yi(e.align),textBaseline:"middle",translation:[a,r]})}}function Fl(i,t){const e=new Vn({ctx:i.ctx,options:t,chart:i});tt.configure(i,e,t);tt.addBox(i,e);i.titleBlock=e}var Il={id:"title",_element:Vn,start(i,t,e){Fl(i,e)},stop(i){const t=i.titleBlock;tt.removeBox(i,t);delete i.titleBlock},beforeUpdate(i,t,e){const s=i.titleBlock;tt.configure(i,s,e);s.options=e},defaults:{align:"center",display:false,font:{weight:"bold"},fullSize:true,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:true,_indexable:false}};const Qt={average(i){if(!i.length){return false}let t,e;let s=0;let n=0;let o=0;for(t=0,e=i.length;t<e;++t){const a=i[t].element;if(a&&a.hasValue()){const r=a.tooltipPosition();s+=r.x;n+=r.y;++o}}return{x:s/o,y:n/o}},nearest(i,t){if(!i.length){return false}let e=t.x;let s=t.y;let n=Number.POSITIVE_INFINITY;let o,a,r;for(o=0,a=i.length;o<a;++o){const l=i[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint();const h=ai(t,c);if(h<n){n=h;r=l}}}if(r){const l=r.tooltipPosition();e=l.x;s=l.y}return{x:e,y:s}}};function at(i,t){if(t){if(z(t)){Array.prototype.push.apply(i,t)}else{i.push(t)}}return i}function dt(i){if((typeof i==="string"||i instanceof String)&&i.indexOf("\n")>-1){return i.split("\n")}return i}function zl(i,t){const{element:e,datasetIndex:s,index:n}=t;const o=i.getDatasetMeta(s).controller;const{label:a,value:r}=o.getLabelAndValue(n);return{chart:i,label:a,parsed:o.getParsed(n),raw:i.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:e}}function Fs(i,t){const e=i.chart.ctx;const{body:s,footer:n,title:o}=i;const{boxWidth:a,boxHeight:r}=t;const l=j(t.bodyFont);const c=j(t.titleFont);const h=j(t.footerFont);const d=o.length;const u=n.length;const f=s.length;const g=X(t.padding);let p=g.height;let m=0;let b=s.reduce((v,x)=>v+x.before.length+x.lines.length+x.after.length,0);b+=i.beforeBody.length+i.afterBody.length;if(d){p+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom}if(b){const v=t.displayColors?Math.max(r,l.lineHeight):l.lineHeight;p+=f*v+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}if(u){p+=t.footerMarginTop+u*h.lineHeight+(u-1)*t.footerSpacing}let _=0;const y=function(v){m=Math.max(m,e.measureText(v).width+_)};e.save();e.font=c.string;E(i.title,y);e.font=l.string;E(i.beforeBody.concat(i.afterBody),y);_=t.displayColors?a+2+t.boxPadding:0;E(s,v=>{E(v.before,y);E(v.lines,y);E(v.after,y)});_=0;e.font=h.string;E(i.footer,y);e.restore();m+=g.width;return{width:m,height:p}}function Bl(i,t){const{y:e,height:s}=t;if(e<s/2){return"top"}else if(e>i.height-s/2){return"bottom"}return"center"}function Wl(i,t,e,s){const{x:n,width:o}=s;const a=e.caretSize+e.caretPadding;if(i==="left"&&n+o+a>t.width){return true}if(i==="right"&&n-o-a<0){return true}}function Nl(i,t,e,s){const{x:n,width:o}=e;const{width:a,chartArea:{left:r,right:l}}=i;let c="center";if(s==="center"){c=n<=(r+l)/2?"left":"right"}else if(n<=o/2){c="left"}else if(n>=a-o/2){c="right"}if(Wl(c,i,t,e)){c="center"}return c}function Is(i,t,e){const s=e.yAlign||t.yAlign||Bl(i,e);return{xAlign:e.xAlign||t.xAlign||Nl(i,t,e,s),yAlign:s}}function Vl(i,t){let{x:e,width:s}=i;if(t==="right"){e-=s}else if(t==="center"){e-=s/2}return e}function Hl(i,t,e){let{y:s,height:n}=i;if(t==="top"){s+=e}else if(t==="bottom"){s-=n+e}else{s-=n/2}return s}function zs(i,t,e,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=i;const{xAlign:r,yAlign:l}=e;const c=n+o;const{topLeft:h,topRight:d,bottomLeft:u,bottomRight:f}=Pt(a);let g=Vl(t,r);const p=Hl(t,l,c);if(l==="center"){if(r==="left"){g+=c}else if(r==="right"){g-=c}}else if(r==="left"){g-=Math.max(h,u)+n}else if(r==="right"){g+=Math.max(d,f)+n}return{x:U(g,0,s.width-t.width),y:U(p,0,s.height-t.height)}}function Me(i,t,e){const s=X(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function Bs(i){return at([],dt(i))}function jl(i,t,e){return yt(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Ws(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}class pi extends ot{constructor(t){super();this.opacity=0;this._active=[];this._eventPosition=void 0;this._size=void 0;this._cachedAnimations=void 0;this._tooltipItems=[];this.$animations=void 0;this.$context=void 0;this.chart=t.chart||t._chart;this._chart=this.chart;this.options=t.options;this.dataPoints=void 0;this.title=void 0;this.beforeBody=void 0;this.body=void 0;this.afterBody=void 0;this.footer=void 0;this.xAlign=void 0;this.yAlign=void 0;this.x=void 0;this.y=void 0;this.height=void 0;this.width=void 0;this.caretX=void 0;this.caretY=void 0;this.labelColors=void 0;this.labelPointStyles=void 0;this.labelTextColors=void 0}initialize(t){this.options=t;this._cachedAnimations=void 0;this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t){return t}const e=this.chart;const s=this.options.setContext(this.getContext());const n=s.enabled&&e.options.animation&&s.animations;const o=new Mn(this.chart,n);if(n._cacheable){this._cachedAnimations=Object.freeze(o)}return o}getContext(){return this.$context||(this.$context=jl(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e;const n=s.beforeTitle.apply(this,[t]);const o=s.title.apply(this,[t]);const a=s.afterTitle.apply(this,[t]);let r=[];r=at(r,dt(n));r=at(r,dt(o));r=at(r,dt(a));return r}getBeforeBody(t,e){return Bs(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:s}=e;const n=[];E(t,o=>{const a={before:[],lines:[],after:[]};const r=Ws(s,o);at(a.before,dt(r.beforeLabel.call(this,o)));at(a.lines,r.label.call(this,o));at(a.after,dt(r.afterLabel.call(this,o)));n.push(a)});return n}getAfterBody(t,e){return Bs(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:s}=e;const n=s.beforeFooter.apply(this,[t]);const o=s.footer.apply(this,[t]);const a=s.afterFooter.apply(this,[t]);let r=[];r=at(r,dt(n));r=at(r,dt(o));r=at(r,dt(a));return r}_createItems(t){const e=this._active;const s=this.chart.data;const n=[];const o=[];const a=[];let r=[];let l,c;for(l=0,c=e.length;l<c;++l){r.push(zl(this.chart,e[l]))}if(t.filter){r=r.filter((h,d,u)=>t.filter(h,d,u,s))}if(t.itemSort){r=r.sort((h,d)=>t.itemSort(h,d,s))}E(r,h=>{const d=Ws(t.callbacks,h);n.push(d.labelColor.call(this,h));o.push(d.labelPointStyle.call(this,h));a.push(d.labelTextColor.call(this,h))});this.labelColors=n;this.labelPointStyles=o;this.labelTextColors=a;this.dataPoints=r;return r}update(t,e){const s=this.options.setContext(this.getContext());const n=this._active;let o;let a=[];if(!n.length){if(this.opacity!==0){o={opacity:0}}}else{const r=Qt[s.position].call(this,n,this._eventPosition);a=this._createItems(s);this.title=this.getTitle(a,s);this.beforeBody=this.getBeforeBody(a,s);this.body=this.getBody(a,s);this.afterBody=this.getAfterBody(a,s);this.footer=this.getFooter(a,s);const l=this._size=Fs(this,s);const c=Object.assign({},r,l);const h=Is(this.chart,s,c);const d=zs(s,c,h,this.chart);this.xAlign=h.xAlign;this.yAlign=h.yAlign;o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:r.x,caretY:r.y}}this._tooltipItems=a;this.$context=void 0;if(o){this._resolveAnimations().update(this,o)}if(t&&s.external){s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}}drawCaret(t,e,s,n){const o=this.getCaretPosition(t,s,n);e.lineTo(o.x1,o.y1);e.lineTo(o.x2,o.y2);e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:n,yAlign:o}=this;const{caretSize:a,cornerRadius:r}=s;const{topLeft:l,topRight:c,bottomLeft:h,bottomRight:d}=Pt(r);const{x:u,y:f}=t;const{width:g,height:p}=e;let m,b,_,y,v,x;if(o==="center"){v=f+p/2;if(n==="left"){m=u;b=m-a;y=v+a;x=v-a}else{m=u+g;b=m+a;y=v-a;x=v+a}_=m}else{if(n==="left"){b=u+Math.max(l,h)+a}else if(n==="right"){b=u+g-Math.max(c,d)-a}else{b=this.caretX}if(o==="top"){y=f;v=y-a;m=b-a;_=b+a}else{y=f+p;v=y+a;m=b+a;_=b-a}x=y}return{x1:m,x2:b,x3:_,y1:y,y2:v,y3:x}}drawTitle(t,e,s){const n=this.title;const o=n.length;let a,r,l;if(o){const c=It(s.rtl,this.x,this.width);t.x=Me(this,s.titleAlign,s);e.textAlign=c.textAlign(s.titleAlign);e.textBaseline="middle";a=j(s.titleFont);r=s.titleSpacing;e.fillStyle=s.titleColor;e.font=a.string;for(l=0;l<o;++l){e.fillText(n[l],c.x(t.x),t.y+a.lineHeight/2);t.y+=a.lineHeight+r;if(l+1===o){t.y+=s.titleMarginBottom-r}}}}_drawColorBox(t,e,s,n,o){const a=this.labelColors[s];const r=this.labelPointStyles[s];const{boxHeight:l,boxWidth:c,boxPadding:h}=o;const d=j(o.bodyFont);const u=Me(this,"left",o);const f=n.x(u);const g=l<d.lineHeight?(d.lineHeight-l)/2:0;const p=e.y+g;if(o.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1};const b=n.leftForLtr(f,c)+c/2;const _=p+l/2;t.strokeStyle=o.multiKeyBackground;t.fillStyle=o.multiKeyBackground;ci(t,m,b,_);t.strokeStyle=a.borderColor;t.fillStyle=a.backgroundColor;ci(t,m,b,_)}else{t.lineWidth=A(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1;t.strokeStyle=a.borderColor;t.setLineDash(a.borderDash||[]);t.lineDashOffset=a.borderDashOffset||0;const m=n.leftForLtr(f,c-h);const b=n.leftForLtr(n.xPlus(f,1),c-h-2);const _=Pt(a.borderRadius);if(Object.values(_).some(y=>y!==0)){t.beginPath();t.fillStyle=o.multiKeyBackground;se(t,{x:m,y:p,w:c,h:l,radius:_});t.fill();t.stroke();t.fillStyle=a.backgroundColor;t.beginPath();se(t,{x:b,y:p+1,w:c-2,h:l-2,radius:_});t.fill()}else{t.fillStyle=o.multiKeyBackground;t.fillRect(m,p,c,l);t.strokeRect(m,p,c,l);t.fillStyle=a.backgroundColor;t.fillRect(b,p+1,c-2,l-2)}}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:n}=this;const{bodySpacing:o,bodyAlign:a,displayColors:r,boxHeight:l,boxWidth:c,boxPadding:h}=s;const d=j(s.bodyFont);let u=d.lineHeight;let f=0;const g=It(s.rtl,this.x,this.width);const p=function(S){e.fillText(S,g.x(t.x+f),t.y+u/2);t.y+=u+o};const m=g.textAlign(a);let b,_,y,v,x,k,M;e.textAlign=a;e.textBaseline="middle";e.font=d.string;t.x=Me(this,m,s);e.fillStyle=s.bodyColor;E(this.beforeBody,p);f=r&&m!=="right"?a==="center"?c/2+h:c+2+h:0;for(v=0,k=n.length;v<k;++v){b=n[v];_=this.labelTextColors[v];e.fillStyle=_;E(b.before,p);y=b.lines;if(r&&y.length){this._drawColorBox(e,t,v,g,s);u=Math.max(d.lineHeight,l)}for(x=0,M=y.length;x<M;++x){p(y[x]);u=d.lineHeight}E(b.after,p)}f=0;u=d.lineHeight;E(this.afterBody,p);t.y-=o}drawFooter(t,e,s){const n=this.footer;const o=n.length;let a,r;if(o){const l=It(s.rtl,this.x,this.width);t.x=Me(this,s.footerAlign,s);t.y+=s.footerMarginTop;e.textAlign=l.textAlign(s.footerAlign);e.textBaseline="middle";a=j(s.footerFont);e.fillStyle=s.footerColor;e.font=a.string;for(r=0;r<o;++r){e.fillText(n[r],l.x(t.x),t.y+a.lineHeight/2);t.y+=a.lineHeight+s.footerSpacing}}}drawBackground(t,e,s,n){const{xAlign:o,yAlign:a}=this;const{x:r,y:l}=t;const{width:c,height:h}=s;const{topLeft:d,topRight:u,bottomLeft:f,bottomRight:g}=Pt(n.cornerRadius);e.fillStyle=n.backgroundColor;e.strokeStyle=n.borderColor;e.lineWidth=n.borderWidth;e.beginPath();e.moveTo(r+d,l);if(a==="top"){this.drawCaret(t,e,s,n)}e.lineTo(r+c-u,l);e.quadraticCurveTo(r+c,l,r+c,l+u);if(a==="center"&&o==="right"){this.drawCaret(t,e,s,n)}e.lineTo(r+c,l+h-g);e.quadraticCurveTo(r+c,l+h,r+c-g,l+h);if(a==="bottom"){this.drawCaret(t,e,s,n)}e.lineTo(r+f,l+h);e.quadraticCurveTo(r,l+h,r,l+h-f);if(a==="center"&&o==="left"){this.drawCaret(t,e,s,n)}e.lineTo(r,l+d);e.quadraticCurveTo(r,l,r+d,l);e.closePath();e.fill();if(n.borderWidth>0){e.stroke()}}_updateAnimationTarget(t){const e=this.chart;const s=this.$animations;const n=s&&s.x;const o=s&&s.y;if(n||o){const a=Qt[t.position].call(this,this._active,this._eventPosition);if(!a){return}const r=this._size=Fs(this,t);const l=Object.assign({},a,this._size);const c=Is(e,t,l);const h=zs(t,l,c,e);if(n._to!==h.x||o._to!==h.y){this.xAlign=c.xAlign;this.yAlign=c.yAlign;this.width=r.width;this.height=r.height;this.caretX=a.x;this.caretY=a.y;this._resolveAnimations().update(this,h)}}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s){return}this._updateAnimationTarget(e);const n={width:this.width,height:this.height};const o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=X(e.padding);const r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;if(e.enabled&&r){t.save();t.globalAlpha=s;this.drawBackground(o,t,n,e);xn(t,e.textDirection);o.y+=a.top;this.drawTitle(o,t,e);this.drawBody(o,t,e);this.drawFooter(o,t,e);yn(t,e.textDirection);t.restore()}}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active;const n=t.map(({datasetIndex:r,index:l})=>{const c=this.chart.getDatasetMeta(r);if(!c){throw new Error("Cannot find a dataset at index "+r)}return{datasetIndex:r,element:c.data[l],index:l}});const o=!Pe(s,n);const a=this._positionChanged(n,e);if(o||a){this._active=n;this._eventPosition=e;this._ignoreReplayEvents=true;this.update(true)}}handleEvent(t,e,s=true){if(e&&this._ignoreReplayEvents){return false}this._ignoreReplayEvents=false;const n=this.options;const o=this._active||[];const a=this._getActiveElements(t,o,e,s);const r=this._positionChanged(a,t);const l=e||!Pe(a,o)||r;if(l){this._active=a;if(n.enabled||n.external){this._eventPosition={x:t.x,y:t.y};this.update(true,e)}}return l}_getActiveElements(t,e,s,n){const o=this.options;if(t.type==="mouseout"){return[]}if(!n){return e}const a=this.chart.getElementsAtEventForMode(t,o.mode,o,s);if(o.reverse){a.reverse()}return a}_positionChanged(t,e){const{caretX:s,caretY:n,options:o}=this;const a=Qt[o.position].call(this,t,e);return a!==false&&(s!==a.x||n!==a.y)}}pi.positioners=Qt;var $l={id:"tooltip",_element:pi,positioners:Qt,afterInit(i,t,e){if(e){i.tooltip=new pi({chart:i,options:e})}},beforeUpdate(i,t,e){if(i.tooltip){i.tooltip.initialize(e)}},reset(i,t,e){if(i.tooltip){i.tooltip.initialize(e)}},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",e)===false){return}t.draw(i.ctx);i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;if(i.tooltip.handleEvent(t.event,e,t.inChartArea)){t.changed=true}}},defaults:{enabled:true,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:true,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ct,title(i){if(i.length>0){const t=i[0];const e=t.chart.data.labels;const s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset"){return t.dataset.label||""}else if(t.label){return t.label}else if(s>0&&t.dataIndex<s){return e[t.dataIndex]}}return""},afterTitle:ct,beforeBody:ct,beforeLabel:ct,label(i){if(this&&this.options&&this.options.mode==="dataset"){return i.label+": "+i.formattedValue||i.formattedValue}let t=i.dataset.label||"";if(t){t+=": "}const e=i.formattedValue;if(!R(e)){t+=e}return t},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex);const e=t.controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex);const e=t.controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ct,afterBody:ct,beforeFooter:ct,footer:ct,afterFooter:ct}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:false,callbacks:{_scriptable:false,_indexable:false},animation:{_fallback:false},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Yl=(i,t,e,s)=>{if(typeof t==="string"){e=i.push(t)-1;s.unshift({index:e,label:t})}else if(isNaN(t)){e=null}return e};function Ul(i,t,e,s){const n=i.indexOf(t);if(n===-1){return Yl(i,t,e,s)}const o=i.lastIndexOf(t);return n!==o?e:n}const Xl=(i,t)=>i===null?null:U(Math.round(i),0,t);class Fe extends Lt{constructor(t){super(t);this._startValue=void 0;this._valueRange=0;this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:n,label:o}of e){if(s[n]===o){s.splice(n,1)}}this._addedLabels=[]}super.init(t)}parse(t,e){if(R(t)){return null}const s=this.getLabels();e=isFinite(e)&&s[e]===t?e:Ul(s,t,P(e,t),this._addedLabels);return Xl(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(true);if(this.options.bounds==="ticks"){if(!t){s=0}if(!e){n=this.getLabels().length-1}}this.min=s;this.max=n}buildTicks(){const t=this.min;const e=this.max;const s=this.options.offset;const n=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1);this._valueRange=Math.max(o.length-(s?0:1),1);this._startValue=this.min-(s?.5:0);for(let a=t;a<=e;a++){n.push({value:a})}return n}getLabelForValue(t){const e=this.getLabels();if(t>=0&&t<e.length){return e[t]}return t}configure(){super.configure();if(!this.isHorizontal()){this._reversePixels=!this._reversePixels}}getPixelForValue(t){if(typeof t!=="number"){t=this.parse(t)}return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;if(t<0||t>e.length-1){return null}return this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Fe.id="category";Fe.defaults={ticks:{callback:Fe.prototype.getLabelForValue}};function Kl(i,t){const e=[];const s=1e-14;const{bounds:n,step:o,min:a,max:r,precision:l,count:c,maxTicks:h,maxDigits:d,includeBounds:u}=i;const f=o||1;const g=h-1;const{min:p,max:m}=t;const b=!R(a);const _=!R(r);const y=!R(c);const v=(m-p)/(d+1);let x=Hi((m-p)/g/f)*f;let k,M,S,w;if(x<s&&!b&&!_){return[{value:p},{value:m}]}w=Math.ceil(m/x)-Math.floor(p/x);if(w>g){x=Hi(w*x/g/f)*f}if(!R(l)){k=Math.pow(10,l);x=Math.ceil(x*k)/k}if(n==="ticks"){M=Math.floor(p/x)*x;S=Math.ceil(m/x)*x}else{M=p;S=m}if(b&&_&&o&&oo((r-a)/o,x/1e3)){w=Math.round(Math.min((r-a)/x,h));x=(r-a)/w;M=a;S=r}else if(y){M=b?a:M;S=_?r:S;w=c-1;x=(S-M)/w}else{w=(S-M)/x;if(Gt(w,Math.round(w),x/1e3)){w=Math.round(w)}else{w=Math.ceil(w)}}const L=Math.max(ji(x),ji(M));k=Math.pow(10,R(l)?L:l);M=Math.round(M*k)/k;S=Math.round(S*k)/k;let T=0;if(b){if(u&&M!==a){e.push({value:a});if(M<a){T++}if(Gt(Math.round((M+T*x)*k)/k,a,Ns(a,v,i))){T++}}else if(M<a){T++}}for(;T<w;++T){e.push({value:Math.round((M+T*x)*k)/k})}if(_&&u&&S!==r){if(e.length&&Gt(e[e.length-1].value,r,Ns(r,v,i))){e[e.length-1].value=r}else{e.push({value:r})}}else if(!_||S===r){e.push({value:S})}return e}function Ns(i,t,{horizontal:e,minRotation:s}){const n=st(s);const o=(e?Math.sin(n):Math.cos(n))||.001;const a=.75*t*(""+i).length;return Math.min(t/o,a)}class Ie extends Lt{constructor(t){super(t);this.start=void 0;this.end=void 0;this._startValue=void 0;this._endValue=void 0;this._valueRange=0}parse(t,e){if(R(t)){return null}if((typeof t==="number"||t instanceof Number)&&!isFinite(+t)){return null}return+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options;const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:o}=this;const a=l=>n=e?n:l;const r=l=>o=s?o:l;if(t){const l=lt(n);const c=lt(o);if(l<0&&c<0){r(0)}else if(l>0&&c>0){a(0)}}if(n===o){let l=1;if(o>=Number.MAX_SAFE_INTEGER||n<=Number.MIN_SAFE_INTEGER){l=Math.abs(o*.05)}r(o+l);if(!t){a(n-l)}}this.min=n;this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t;let n;if(s){n=Math.ceil(this.max/s)-Math.floor(this.min/s)+1;if(n>1e3){console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${n} ticks. Limiting to 1000.`);n=1e3}}else{n=this.computeTickLimit();e=e||11}if(e){n=Math.min(e,n)}return n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options;const e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==false};const o=this._range||this;const a=Kl(n,o);if(t.bounds==="ticks"){Gs(a,this,"value")}if(t.reverse){a.reverse();this.start=this.max;this.end=this.min}else{this.start=this.min;this.end=this.max}return a}configure(){const t=this.ticks;let e=this.min;let s=this.max;super.configure();if(this.options.offset&&t.length){const n=(s-e)/Math.max(t.length-1,1)/2;e-=n;s+=n}this._startValue=e;this._endValue=s;this._valueRange=s-e}getLabelForValue(t){return re(t,this.chart.options.locale,this.options.ticks.format)}}class Bi extends Ie{determineDataLimits(){const{min:t,max:e}=this.getMinMax(true);this.min=$(t)?t:0;this.max=$(e)?e:1;this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal();const e=t?this.width:this.height;const s=st(this.options.ticks.minRotation);const n=(t?Math.sin(s):Math.cos(s))||.001;const o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Bi.id="linear";Bi.defaults={ticks:{callback:We.formatters.numeric}};function Vs(i){const t=i/Math.pow(10,Math.floor(Q(i)));return t===1}function ql(i,t){const e=Math.floor(Q(t.max));const s=Math.ceil(t.max/Math.pow(10,e));const n=[];let o=J(i.min,Math.pow(10,Math.floor(Q(t.min))));let a=Math.floor(Q(o));let r=Math.floor(o/Math.pow(10,a));let l=a<0?Math.pow(10,Math.abs(a)):1;do{n.push({value:o,major:Vs(o)});++r;if(r===10){r=1;++a;l=a>=0?1:l}o=Math.round(r*Math.pow(10,a)*l)/l}while(a<e||a===e&&r<s);const c=J(i.max,o);n.push({value:c,major:Vs(o)});return n}class Hn extends Lt{constructor(t){super(t);this.start=void 0;this.end=void 0;this._startValue=void 0;this._valueRange=0}parse(t,e){const s=Ie.prototype.parse.apply(this,[t,e]);if(s===0){this._zero=true;return void 0}return $(s)&&s>0?s:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(true);this.min=$(t)?Math.max(0,t):null;this.max=$(e)?Math.max(0,e):null;if(this.options.beginAtZero){this._zero=true}this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let s=this.min;let n=this.max;const o=l=>s=t?s:l;const a=l=>n=e?n:l;const r=(l,c)=>Math.pow(10,Math.floor(Q(l))+c);if(s===n){if(s<=0){o(1);a(10)}else{o(r(s,-1));a(r(n,1))}}if(s<=0){o(r(n,-1))}if(n<=0){a(r(s,1))}if(this._zero&&this.min!==this._suggestedMin&&s===r(this.min,0)){o(r(s,-1))}this.min=s;this.max=n}buildTicks(){const t=this.options;const e={min:this._userMin,max:this._userMax};const s=ql(e,this);if(t.bounds==="ticks"){Gs(s,this,"value")}if(t.reverse){s.reverse();this.start=this.max;this.end=this.min}else{this.start=this.min;this.end=this.max}return s}getLabelForValue(t){return t===void 0?"0":re(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure();this._startValue=Q(t);this._valueRange=Q(this.max)-Q(t)}getPixelForValue(t){if(t===void 0||t===0){t=this.min}if(t===null||isNaN(t)){return NaN}return this.getPixelForDecimal(t===this.min?0:(Q(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}Hn.id="logarithmic";Hn.defaults={ticks:{callback:We.formatters.logarithmic,major:{enabled:true}}};function mi(i){const t=i.ticks;if(t.display&&i.display){const e=X(t.backdropPadding);return P(t.font&&t.font.size,O.font.size)+e.height}return 0}function Gl(i,t,e){e=z(e)?e:[e];return{w:Bo(i,t.string,e),h:e.length*t.lineHeight}}function Hs(i,t,e,s,n){if(i===s||i===n){return{start:t-e/2,end:t+e/2}}else if(i<s||i>n){return{start:t-e,end:t}}return{start:t,end:t+e}}function Zl(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom};const e=Object.assign({},t);const s=[];const n=[];const o=i._pointLabels.length;const a=i.options.pointLabels;const r=a.centerPointLabels?B/o:0;for(let l=0;l<o;l++){const c=a.setContext(i.getPointLabelContext(l));n[l]=c.padding;const h=i.getPointPosition(l,i.drawingArea+n[l],r);const d=j(c.font);const u=Gl(i.ctx,d,i._pointLabels[l]);s[l]=u;const f=it(i.getIndexAngle(l)+r);const g=Math.round(_i(f));const p=Hs(g,h.x,u.w,0,180);const m=Hs(g,h.y,u.h,90,270);Jl(e,t,f,p,m)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b);i._pointLabelItems=Ql(i,s,n)}function Jl(i,t,e,s,n){const o=Math.abs(Math.sin(e));const a=Math.abs(Math.cos(e));let r=0;let l=0;if(s.start<t.l){r=(t.l-s.start)/o;i.l=Math.min(i.l,t.l-r)}else if(s.end>t.r){r=(s.end-t.r)/o;i.r=Math.max(i.r,t.r+r)}if(n.start<t.t){l=(t.t-n.start)/a;i.t=Math.min(i.t,t.t-l)}else if(n.end>t.b){l=(n.end-t.b)/a;i.b=Math.max(i.b,t.b+l)}}function Ql(i,t,e){const s=[];const n=i._pointLabels.length;const o=i.options;const a=mi(o)/2;const r=i.drawingArea;const l=o.pointLabels.centerPointLabels?B/n:0;for(let c=0;c<n;c++){const h=i.getPointPosition(c,r+a+e[c],l);const d=Math.round(_i(it(h.angle+W)));const u=t[c];const f=ic(h.y,u.h,d);const g=tc(d);const p=ec(h.x,u.w,g);s.push({x:h.x,y:f,textAlign:g,left:p,top:f,right:p+u.w,bottom:f+u.h})}return s}function tc(i){if(i===0||i===180){return"center"}else if(i<180){return"left"}return"right"}function ec(i,t,e){if(e==="right"){i-=t}else if(e==="center"){i-=t/2}return i}function ic(i,t,e){if(e===90||e===270){i-=t/2}else if(e>270||e<90){i-=t}return i}function sc(i,t){const{ctx:e,options:{pointLabels:s}}=i;for(let n=t-1;n>=0;n--){const o=s.setContext(i.getPointLabelContext(n));const a=j(o.font);const{x:r,y:l,textAlign:c,left:h,top:d,right:u,bottom:f}=i._pointLabelItems[n];const{backdropColor:g}=o;if(!R(g)){const p=Pt(o.borderRadius);const m=X(o.backdropPadding);e.fillStyle=g;const b=h-m.left;const _=d-m.top;const y=u-h+m.width;const v=f-d+m.height;if(Object.values(p).some(x=>x!==0)){e.beginPath();se(e,{x:b,y:_,w:y,h:v,radius:p});e.fill()}else{e.fillRect(b,_,y,v)}}At(e,i._pointLabels[n],r,l+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function jn(i,t,e,s){const{ctx:n}=i;if(e){n.arc(i.xCenter,i.yCenter,t,0,F)}else{let o=i.getPointPosition(0,t);n.moveTo(o.x,o.y);for(let a=1;a<s;a++){o=i.getPointPosition(a,t);n.lineTo(o.x,o.y)}}}function nc(i,t,e,s){const n=i.ctx;const o=t.circular;const{color:a,lineWidth:r}=t;if(!o&&!s||!a||!r||e<0){return}n.save();n.strokeStyle=a;n.lineWidth=r;n.setLineDash(t.borderDash);n.lineDashOffset=t.borderDashOffset;n.beginPath();jn(i,e,o,s);n.closePath();n.stroke();n.restore()}function oc(i,t,e){return yt(i,{label:e,index:t,type:"pointLabel"})}class Ve extends Ie{constructor(t){super(t);this.xCenter=void 0;this.yCenter=void 0;this.drawingArea=void 0;this._pointLabels=[];this._pointLabelItems=[]}setDimensions(){const t=this._padding=X(mi(this.options)/2);const e=this.width=this.maxWidth-t.width;const s=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left);this.yCenter=Math.floor(this.top+s/2+t.top);this.drawingArea=Math.floor(Math.min(e,s)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(false);this.min=$(t)&&!isNaN(t)?t:0;this.max=$(e)&&!isNaN(e)?e:0;this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mi(this.options))}generateTickLabels(t){Ie.prototype.generateTickLabels.call(this,t);this._pointLabels=this.getLabels().map((e,s)=>{const n=I(this.options.pointLabels.callback,[e,s],this);return n||n===0?n:""}).filter((e,s)=>this.chart.getDataVisibility(s))}fit(){const t=this.options;if(t.display&&t.pointLabels.display){Zl(this)}else{this.setCenterPoint(0,0,0,0)}}setCenterPoint(t,e,s,n){this.xCenter+=Math.floor((t-e)/2);this.yCenter+=Math.floor((s-n)/2);this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,s,n))}getIndexAngle(t){const e=F/(this._pointLabels.length||1);const s=this.options.startAngle||0;return it(t*e+st(s))}getDistanceFromCenterForValue(t){if(R(t)){return NaN}const e=this.drawingArea/(this.max-this.min);if(this.options.reverse){return(this.max-t)*e}return(t-this.min)*e}getValueForDistanceFromCenter(t){if(R(t)){return NaN}const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const s=e[t];return oc(this.getContext(),t,s)}}getPointPosition(t,e,s=0){const n=this.getIndexAngle(t)-W+s;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:s,right:n,bottom:o}=this._pointLabelItems[t];return{left:e,top:s,right:n,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const s=this.ctx;s.save();s.beginPath();jn(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length);s.closePath();s.fillStyle=t;s.fill();s.restore()}}drawGrid(){const t=this.ctx;const e=this.options;const{angleLines:s,grid:n}=e;const o=this._pointLabels.length;let a,r,l;if(e.pointLabels.display){sc(this,o)}if(n.display){this.ticks.forEach((c,h)=>{if(h!==0){r=this.getDistanceFromCenterForValue(c.value);const d=n.setContext(this.getContext(h-1));nc(this,d,r,o)}})}if(s.display){t.save();for(a=o-1;a>=0;a--){const c=s.setContext(this.getPointLabelContext(a));const{color:h,lineWidth:d}=c;if(!d||!h){continue}t.lineWidth=d;t.strokeStyle=h;t.setLineDash(c.borderDash);t.lineDashOffset=c.borderDashOffset;r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max);l=this.getPointPosition(a,r);t.beginPath();t.moveTo(this.xCenter,this.yCenter);t.lineTo(l.x,l.y);t.stroke()}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx;const e=this.options;const s=e.ticks;if(!s.display){return}const n=this.getIndexAngle(0);let o,a;t.save();t.translate(this.xCenter,this.yCenter);t.rotate(n);t.textAlign="center";t.textBaseline="middle";this.ticks.forEach((r,l)=>{if(l===0&&!e.reverse){return}const c=s.setContext(this.getContext(l));const h=j(c.font);o=this.getDistanceFromCenterForValue(this.ticks[l].value);if(c.showLabelBackdrop){t.font=h.string;a=t.measureText(r.label).width;t.fillStyle=c.backdropColor;const d=X(c.backdropPadding);t.fillRect(-a/2-d.left,-o-h.size/2-d.top,a+d.width,h.size+d.height)}At(t,r.label,0,-o,h,{color:c.color})});t.restore()}drawTitle(){}}Ve.id="radialLinear";Ve.defaults={display:true,animate:true,position:"chartArea",angleLines:{display:true,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:false},startAngle:0,ticks:{showLabelBackdrop:true,callback:We.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:true,font:{size:10},callback(i){return i},padding:5,centerPointLabels:false}};Ve.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Ve.descriptors={angleLines:{_fallback:"grid"}};const He={millisecond:{common:true,size:1,steps:1e3},second:{common:true,size:1e3,steps:60},minute:{common:true,size:6e4,steps:60},hour:{common:true,size:36e5,steps:24},day:{common:true,size:864e5,steps:30},week:{common:false,size:6048e5,steps:4},month:{common:true,size:2628e6,steps:12},quarter:{common:false,size:7884e6,steps:4},year:{common:true,size:3154e7}};const G=Object.keys(He);function ac(i,t){return i-t}function js(i,t){if(R(t)){return null}const e=i._adapter;const{parser:s,round:n,isoWeekday:o}=i._parseOpts;let a=t;if(typeof s==="function"){a=s(a)}if(!$(a)){a=typeof s==="string"?e.parse(a,s):e.parse(a)}if(a===null){return null}if(n){a=n==="week"&&(zt(o)||o===true)?e.startOf(a,"isoWeek",o):e.startOf(a,n)}return+a}function $s(i,t,e,s){const n=G.length;for(let o=G.indexOf(i);o<n-1;++o){const a=He[G[o]];const r=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(r*a.size))<=s){return G[o]}}return G[n-1]}function rc(i,t,e,s,n){for(let o=G.length-1;o>=G.indexOf(e);o--){const a=G[o];if(He[a].common&&i._adapter.diff(n,s,a)>=t-1){return a}}return G[e?G.indexOf(e):0]}function lc(i){for(let t=G.indexOf(i)+1,e=G.length;t<e;++t){if(He[G[t]].common){return G[t]}}}function Ys(i,t,e){if(!e){i[t]=true}else if(e.length){const{lo:s,hi:n}=xi(e,t);const o=e[s]>=t?e[s]:e[n];i[o]=true}}function cc(i,t,e,s){const n=i._adapter;const o=+n.startOf(t[0].value,s);const a=t[t.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s)){l=e[r];if(l>=0){t[l].major=true}}return t}function Us(i,t,e){const s=[];const n={};const o=t.length;let a,r;for(a=0;a<o;++a){r=t[a];n[r]=a;s.push({value:r,major:false})}return o===0||!e?s:cc(i,s,n,e)}class je extends Lt{constructor(t){super(t);this._cache={data:[],labels:[],all:[]};this._unit="day";this._majorUnit=void 0;this._offsets={};this._normalized=false;this._parseOpts=void 0}init(t,e){const s=t.time||(t.time={});const n=this._adapter=new Mr._date(t.adapters.date);n.init(e);qt(s.displayFormats,n.formats());this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday};super.init(t);this._normalized=e.normalized}parse(t,e){if(t===void 0){return null}return js(this,t)}beforeLayout(){super.beforeLayout();this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options;const e=this._adapter;const s=t.time.unit||"day";let{min:n,max:o,minDefined:a,maxDefined:r}=this.getUserBounds();function l(c){if(!a&&!isNaN(c.min)){n=Math.min(n,c.min)}if(!r&&!isNaN(c.max)){o=Math.max(o,c.max)}}if(!a||!r){l(this._getLabelBounds());if(t.bounds!=="ticks"||t.ticks.source!=="labels"){l(this.getMinMax(false))}}n=$(n)&&!isNaN(n)?n:+e.startOf(Date.now(),s);o=$(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1;this.min=Math.min(n,o-1);this.max=Math.max(n+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY;let s=Number.NEGATIVE_INFINITY;if(t.length){e=t[0];s=t[t.length-1]}return{min:e,max:s}}buildTicks(){const t=this.options;const e=t.time;const s=t.ticks;const n=s.source==="labels"?this.getLabelTimestamps():this._generate();if(t.bounds==="ticks"&&n.length){this.min=this._userMin||n[0];this.max=this._userMax||n[n.length-1]}const o=this.min;const a=this.max;const r=co(n,o,a);this._unit=e.unit||(s.autoSkip?$s(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):rc(this,r.length,e.minUnit,this.min,this.max));this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:lc(this._unit);this.initOffsets(n);if(t.reverse){r.reverse()}return Us(this,r,this._majorUnit)}afterAutoSkip(){if(this.options.offsetAfterAutoskip){this.initOffsets(this.ticks.map(t=>+t.value))}}initOffsets(t){let e=0;let s=0;let n,o;if(this.options.offset&&t.length){n=this.getDecimalForValue(t[0]);if(t.length===1){e=1-n}else{e=(this.getDecimalForValue(t[1])-n)/2}o=this.getDecimalForValue(t[t.length-1]);if(t.length===1){s=o}else{s=(o-this.getDecimalForValue(t[t.length-2]))/2}}const a=t.length<3?.5:.25;e=U(e,0,a);s=U(s,0,a);this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter;const e=this.min;const s=this.max;const n=this.options;const o=n.time;const a=o.unit||$s(o.minUnit,e,s,this._getLabelCapacity(e));const r=P(o.stepSize,1);const l=a==="week"?o.isoWeekday:false;const c=zt(l)||l===true;const h={};let d=e;let u,f;if(c){d=+t.startOf(d,"isoWeek",l)}d=+t.startOf(d,c?"day":a);if(t.diff(s,e,a)>1e5*r){throw new Error(e+" and "+s+" are too far apart with stepSize of "+r+" "+a)}const g=n.ticks.source==="data"&&this.getDataTimestamps();for(u=d,f=0;u<s;u=+t.add(u,r,a),f++){Ys(h,u,g)}if(u===s||n.bounds==="ticks"||f===1){Ys(h,u,g)}return Object.keys(h).sort((p,m)=>p-m).map(p=>+p)}getLabelForValue(t){const e=this._adapter;const s=this.options.time;if(s.tooltipFormat){return e.format(t,s.tooltipFormat)}return e.format(t,s.displayFormats.datetime)}_tickFormatFunction(t,e,s,n){const o=this.options;const a=o.time.displayFormats;const r=this._unit;const l=this._majorUnit;const c=r&&a[r];const h=l&&a[l];const d=s[e];const u=l&&h&&d&&d.major;const f=this._adapter.format(t,n||(u?h:c));const g=o.ticks.callback;return g?I(g,[f,e,s],this):f}generateTickLabels(t){let e,s,n;for(e=0,s=t.length;e<s;++e){n=t[e];n.label=this._tickFormatFunction(n.value,e,t)}}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets;const s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets;const s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks;const s=this.ctx.measureText(t).width;const n=st(this.isHorizontal()?e.maxRotation:e.minRotation);const o=Math.cos(n);const a=Math.sin(n);const r=this._resolveTickFontOptions(0).size;return{w:s*o+r*a,h:s*a+r*o}}_getLabelCapacity(t){const e=this.options.time;const s=e.displayFormats;const n=s[e.unit]||s.millisecond;const o=this._tickFormatFunction(t,0,Us(this,[t],this._majorUnit),n);const a=this._getLabelSize(o);const r=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return r>0?r:1}getDataTimestamps(){let t=this._cache.data||[];let e,s;if(t.length){return t}const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length){return this._cache.data=n[0].controller.getAllParsedValues(this)}for(e=0,s=n.length;e<s;++e){t=t.concat(n[e].controller.getAllParsedValues(this))}return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length){return t}const n=this.getLabels();for(e=0,s=n.length;e<s;++e){t.push(js(this,n[e]))}return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Qs(t.sort(ac))}}je.id="time";je.defaults={bounds:"data",adapters:{},time:{parser:false,unit:false,round:false,isoWeekday:false,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:false}}};function ke(i,t,e){let s=0;let n=i.length-1;let o,a,r,l;if(e){if(t>=i[s].pos&&t<=i[n].pos){({lo:s,hi:n}=Ct(i,"pos",t))}({pos:o,time:r}=i[s]);({pos:a,time:l}=i[n])}else{if(t>=i[s].time&&t<=i[n].time){({lo:s,hi:n}=Ct(i,"time",t))}({time:o,pos:r}=i[s]);({time:a,pos:l}=i[n])}const c=a-o;return c?r+(l-r)*(t-o)/c:r}class $n extends je{constructor(t){super(t);this._table=[];this._minPos=void 0;this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable();const e=this._table=this.buildLookupTable(t);this._minPos=ke(e,this.min);this._tableRange=ke(e,this.max)-this._minPos;super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this;const n=[];const o=[];let a,r,l,c,h;for(a=0,r=t.length;a<r;++a){c=t[a];if(c>=e&&c<=s){n.push(c)}}if(n.length<2){return[{time:e,pos:0},{time:s,pos:1}]}for(a=0,r=n.length;a<r;++a){h=n[a+1];l=n[a-1];c=n[a];if(Math.round((h+l)/2)!==c){o.push({time:c,pos:a/(r-1)})}}return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length){return t}const e=this.getDataTimestamps();const s=this.getLabelTimestamps();if(e.length&&s.length){t=this.normalize(e.concat(s))}else{t=e.length?e:s}t=this._cache.all=t;return t}getDecimalForValue(t){return(ke(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets;const s=this.getDecimalForPixel(t)/e.factor-e.end;return ke(this._table,s*this._tableRange+this._minPos,true)}}$n.id="timeseries";$n.defaults=je.defaults;var q;(function(i){i["ChartRendered"]="chart:rendered";i["ChartUpdated"]="chart:updated";i["ChartDestroyed"]="chart:destroyed";i["LabelsUpdated"]="labels:updated"})(q||(q={}));function we(i,t,e,s){i(t,e);if(s!==void 0){s.emit(q.ChartRendered)}}function hc(i,t){i.update();if(t!==void 0){t.emit(q.ChartUpdated)}}function Se(i,t){i.destroy();if(t!==void 0){t.emit(q.ChartDestroyed)}}function dc(i,t){const e={labels:typeof i.labels==="undefined"?[]:[...i.labels],datasets:[]};Yn(e,{...i},t);return e}function Yn(i,t,e){const s=[];i.datasets=t.datasets.map(n=>{const o=i.datasets.find(a=>a[e]===n[e]);if(!o||!n.data||s.includes(o)){return{...n}}s.push(o);Object.assign(o,n);return o})}function uc(i,t,e){i.data.labels=t;if(e!==void 0){e.emit(q.LabelsUpdated)}}function fc(i,t){i.options={...t}}function gc(i,t){const e=i.datasets.map(n=>{return n.label});const s=t.datasets.map(n=>{return n.label});return t.datasets.length===i.datasets.length&&e.every((n,o)=>n===s[o])}const pc="Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components";const mc="annotation";function bc(i,t,e){let s={};return{props:{chartData:{type:Object,required:true},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:i},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},data(){return{_chart:null,_id:Math.random().toString(36).substring(2)}},computed:{hasAnnotationPlugin(){var n,o;const a=(n=this.chartOptions)===null||n===void 0?void 0:(o=n.plugins)===null||o===void 0?void 0:o[mc];return typeof a!=="undefined"}},created(){oe.register(e)},mounted(){s[this.$data._id]=null;if("datasets"in this.chartData&&this.chartData.datasets.length>0){we(this.renderChart,this.chartData,this.chartOptions);this.$emit(q.ChartRendered)}},watch:{chartData:{handler:function(n,o){this.chartDataHandler(n,o)},deep:true},chartOptions:{handler:function(n){this.chartOptionsHandler(n)},deep:true}},methods:{renderChart(n,o){const a=this.getCurrentChart();if(a!==null){Se(a);this.$emit(q.ChartDestroyed)}if(!this.$refs.canvas){throw new Error(pc)}else{const r=dc(n,this.datasetIdKey);const l=this.$refs.canvas.getContext("2d");if(l!==null){this.setCurrentChart(new oe(l,{type:t,data:r,options:o,plugins:this.plugins}))}}},chartDataHandler(n,o){const a={...n};const r={...o};const l=this.getCurrentChart();if(Object.keys(r).length>0){const c=gc(a,r);if(c&&l!==null){Yn(l.data,a,this.datasetIdKey);if(a.labels!==void 0){uc(l,a.labels);this.$emit(q.LabelsUpdated)}this.updateChart();this.$emit(q.ChartUpdated)}else{if(l!==null){Se(l);this.$emit(q.ChartDestroyed)}we(this.renderChart,this.chartData,this.chartOptions);this.$emit(q.ChartRendered)}}else{if(l!==null){Se(l);this.$emit(q.ChartDestroyed)}we(this.renderChart,this.chartData,this.chartOptions);this.$emit(q.ChartRendered)}},chartOptionsHandler(n){const o=this.getCurrentChart();if(o!==null){fc(o,n);this.updateChart()}else{we(this.renderChart,this.chartData,this.chartOptions)}},updateChart(){const n=this.getCurrentChart();hc(n)},getCurrentChart(){return this.hasAnnotationPlugin?s[this.$data._id]:this.$data._chart},setCurrentChart(n){this.hasAnnotationPlugin?s[this.$data._id]=n:this.$data._chart=n}},beforeDestroy(){const n=this.getCurrentChart();if(n!==null){Se(n);this.$emit(q.ChartDestroyed)}},render:function(n){return n("div",{style:this.styles,class:this.cssClasses},[n("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])}}}const _c=bc("line-chart","line",Be);oe.register(Il,$l,El,he,Bi,Fe,Ne);const xc={name:"FormStats",components:{ProTag:Kn,LineChart:_c},props:{form:{type:Object,required:true}},data(){return{isLoading:true,chartData:{labels:[],datasets:[{label:"Form Views",backgroundColor:"rgba(59, 130, 246, 1)",borderColor:"rgba(59, 130, 246, 1)",data:[]},{label:"Form Submissions",backgroundColor:"rgba(16, 185, 129, 1)",borderColor:"rgba(16, 185, 129, 1)",data:[]}]},chartOptions:{scales:{y:{beginAtZero:true,ticks:{precision:0}}},responsive:true,maintainAspectRatio:false}}},mounted(){this.getChartData()},methods:{getChartData(){if(!this.form||!this.form.is_pro){return null}this.isLoading=true;Un.get("/api/open/workspaces/"+this.form.workspace_id+"/form-stats/"+this.form.id).then(i=>{const t=i.data;if(t&&t.views!==void 0){this.chartData.labels=Object.keys(t.views);this.chartData.datasets[0].data=t.views;this.chartData.datasets[1].data=t.submissions;this.isLoading=false}})}}};var yc=function i(){var t=this,e=t._self._c;return e("div",{staticClass:"border border-nt-blue-light bg-blue-50 dark:bg-notion-dark-light rounded-md p-4 mb-5 w-full mx-auto mt-4 select-all"},[!t.form.is_pro?e("div",{staticClass:"relative"},[e("div",{staticClass:"absolute inset-0 z-10"},[e("div",{staticClass:"p-5 max-w-md mx-auto mt-5"},[e("p",{staticClass:"text-center"},[t._v(" You need a "),e("pro-tag",{staticClass:"mx-1"}),t._v(" subscription to access your form analytics. ")],1),e("p",{staticClass:"mt-5 text-center"},[e("v-button",{attrs:{"to":{name:"pricing"}}},[t._v(" Subscribe ")])],1)])]),e("img",{staticClass:"mx-auto filter blur-md z-0",attrs:{"src":t.asset("img/pages/forms/blurred_graph.png"),"alt":"Sample Graph"}})]):t.isLoading?e("loader",{staticClass:"h-6 w-6 text-nt-blue mx-auto"}):e("LineChart",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData}})],1)};var vc=[];var Mc=Xs(xc,yc,vc,false,null,null,null,null);const kc=Mc.exports;const wc={components:{FormStats:kc},props:{form:{type:Object,required:true}},mixins:[Xn],data:()=>({}),mounted(){},computed:{metaTitle(){return this.form?"Form Analytics - "+this.form.title:"Form Analytics"}},methods:{}};var Sc=function i(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"font-semibold mt-4 text-xl"},[t._v(" Form Analytics (last 30 days) ")]),e("form-stats",{attrs:{"form":t.form}})],1)};var Cc=[];var Pc=Xs(wc,Sc,Cc,false,null,null,null,null);const Lc=Pc.exports;export{Lc as default};
