import{n as m,i as c}from"./index-e0b9de87.js";import"./_commonjsHelpers-53f7dec1.js";const d={input:"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 dark:bg-notion-dark-light dark:text-gray-300 dark:placeholder-gray-500 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-1 focus:ring-opacity-100 focus:border-transparent focus:ring-2 ring-blue-500",navigator:"flex",navigatorViewButton:"flex items-center",navigatorViewButtonIcon:"flex-shrink-0 h-5 w-5",navigatorViewButtonBackIcon:"flex-shrink-0 h-5 w-5",navigatorLabel:"flex items-center py-1",navigatorPrevButtonIcon:"h-6 w-6 inline-flex",navigatorNextButtonIcon:"h-6 w-6 inline-flex",inputWrapper:"relative",viewGroup:"inline-flex flex-wrap",view:"w-64",calendarDaysWrapper:"grid grid-cols-7",calendarHeaderWrapper:"grid grid-cols-7",monthWrapper:"grid grid-cols-4",yearWrapper:"grid grid-cols-4",clearButton:"flex flex-shrink-0 items-center justify-center absolute right-0 top-0 m-2 h-6 w-6",clearButtonIcon:"fill-current h-3 w-3"};const u={name:"DateInput",mixins:[c],props:{withTime:{type:Boolean,default:false},dateRange:{type:Boolean,default:false},disablePastDates:{type:Boolean,default:false},disableFutureDates:{type:Boolean,default:false}},data:()=>({fixedClasses:d,fromDate:null,toDate:null}),computed:{inputClasses(){const a="border border-gray-300 dark:bg-notion-dark-light dark:border-gray-600 dark:placeholder-gray-500 dark:text-gray-300 flex-1 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-opacity-100 placeholder-gray-400 px-4 py-2 rounded-lg shadow-sm text-base text-black text-gray-700";return this.dateRange?a+" w-50":a+" w-full"},useTime(){return this.withTime&&!this.dateRange},setMinDate(){if(this.disablePastDates){return new Date().toISOString().split("T")[0]}return false},setMaxDate(){if(this.disableFutureDates){return new Date().toISOString().split("T")[0]}return false}},watch:{color:{handler(){this.setInputColor()},immediate:true},fromDate:{handler(a){if(this.dateRange){if(!Array.isArray(this.compVal)){this.compVal=[]}this.compVal[0]=this.dateToUTC(a)}else{this.compVal=this.dateToUTC(a)}},immediate:false},toDate:{handler(a){if(this.dateRange){if(!Array.isArray(this.compVal)){this.compVal=[null]}this.compVal[1]=this.dateToUTC(a)}else{this.compVal=null}},immediate:false}},mounted(){if(this.compVal){if(Array.isArray(this.compVal)){this.fromDate=this.compVal[0]??null;this.toDate=this.compVal[1]??null}else{this.fromDate=this.dateToLocal(this.compVal)}}d.input=this.theme.default.input;this.setInputColor()},methods:{onEnterPress(a){a.preventDefault();return false},setInputColor(){if(this.$refs.datepicker){const a=this.$refs.datepicker.$el.getElementsByTagName("input")[0];a.style.setProperty("--tw-ring-color",this.color)}},dateToUTC(a){if(!a){return null}if(!this.useTime){return a}return new Date(a).toISOString()},dateToLocal(a){if(!a){return null}const e=new Date(a);let t=e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0");if(this.useTime){t+="T"+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")}return t}}};var p=function a(){var e=this,t=e._self._c;return t("div",{class:e.wrapperClass},[e.label?t("label",{class:[e.theme.default.label,{"uppercase text-xs":e.uppercaseLabels,"text-sm":!e.uppercaseLabels}],attrs:{"for":e.id?e.id:e.name}},[e._v(" "+e._s(e.label)+" "),e.required?t("span",{staticClass:"text-red-500 required-dot"},[e._v("*")]):e._e()]):e._e(),!e.dateRange?t("div",{staticClass:"flex"},[(e.useTime?"datetime-local":"date")==="checkbox"?t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],class:e.inputClasses,style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"data-date-format":"YYYY-MM-DD","min":e.setMinDate,"max":e.setMaxDate,"type":"checkbox"},domProps:{"checked":Array.isArray(e.fromDate)?e._i(e.fromDate,null)>-1:e.fromDate},on:{"change":function(r){var i=e.fromDate,n=r.target,l=n.checked?true:false;if(Array.isArray(i)){var o=null,s=e._i(i,o);if(n.checked){s<0&&(e.fromDate=i.concat([o]))}else{s>-1&&(e.fromDate=i.slice(0,s).concat(i.slice(s+1)))}}else{e.fromDate=l}}}}):(e.useTime?"datetime-local":"date")==="radio"?t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],class:e.inputClasses,style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"data-date-format":"YYYY-MM-DD","min":e.setMinDate,"max":e.setMaxDate,"type":"radio"},domProps:{"checked":e._q(e.fromDate,null)},on:{"change":function(r){e.fromDate=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],class:e.inputClasses,style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"data-date-format":"YYYY-MM-DD","min":e.setMinDate,"max":e.setMaxDate,"type":e.useTime?"datetime-local":"date"},domProps:{"value":e.fromDate},on:{"input":function(r){if(r.target.composing)return;e.fromDate=r.target.value}}})]):t("div",{class:e.inputClasses},[t("div",{staticClass:"flex -mx-2"},[t("p",{staticClass:"text-gray-900 px-4"},[e._v("From")]),(e.useTime?"datetime-local":"date")==="checkbox"?t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],staticClass:"flex-grow border-transparent focus:outline-none",style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"data-date-format":"YYYY-MM-DD","min":e.setMinDate,"max":e.setMaxDate,"type":"checkbox"},domProps:{"checked":Array.isArray(e.fromDate)?e._i(e.fromDate,null)>-1:e.fromDate},on:{"change":function(r){var i=e.fromDate,n=r.target,l=n.checked?true:false;if(Array.isArray(i)){var o=null,s=e._i(i,o);if(n.checked){s<0&&(e.fromDate=i.concat([o]))}else{s>-1&&(e.fromDate=i.slice(0,s).concat(i.slice(s+1)))}}else{e.fromDate=l}}}}):(e.useTime?"datetime-local":"date")==="radio"?t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],staticClass:"flex-grow border-transparent focus:outline-none",style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"data-date-format":"YYYY-MM-DD","min":e.setMinDate,"max":e.setMaxDate,"type":"radio"},domProps:{"checked":e._q(e.fromDate,null)},on:{"change":function(r){e.fromDate=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromDate,expression:"fromDate"}],staticClass:"flex-grow border-transparent focus:outline-none",style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"data-date-format":"YYYY-MM-DD","min":e.setMinDate,"max":e.setMaxDate,"type":e.useTime?"datetime-local":"date"},domProps:{"value":e.fromDate},on:{"input":function(r){if(r.target.composing)return;e.fromDate=r.target.value}}}),t("p",{staticClass:"text-gray-900 px-4"},[e._v("To")]),(e.useTime?"datetime-local":"date")==="checkbox"&&e.dateRange?t("input",{directives:[{name:"model",rawName:"v-model",value:e.toDate,expression:"toDate"}],staticClass:"flex-grow border-transparent focus:outline-none",style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"min":e.setMinDate,"max":e.setMaxDate,"type":"checkbox"},domProps:{"checked":Array.isArray(e.toDate)?e._i(e.toDate,null)>-1:e.toDate},on:{"change":function(r){var i=e.toDate,n=r.target,l=n.checked?true:false;if(Array.isArray(i)){var o=null,s=e._i(i,o);if(n.checked){s<0&&(e.toDate=i.concat([o]))}else{s>-1&&(e.toDate=i.slice(0,s).concat(i.slice(s+1)))}}else{e.toDate=l}}}}):(e.useTime?"datetime-local":"date")==="radio"&&e.dateRange?t("input",{directives:[{name:"model",rawName:"v-model",value:e.toDate,expression:"toDate"}],staticClass:"flex-grow border-transparent focus:outline-none",style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"min":e.setMinDate,"max":e.setMaxDate,"type":"radio"},domProps:{"checked":e._q(e.toDate,null)},on:{"change":function(r){e.toDate=null}}}):e.dateRange?t("input",{directives:[{name:"model",rawName:"v-model",value:e.toDate,expression:"toDate"}],staticClass:"flex-grow border-transparent focus:outline-none",style:e.inputStyle,attrs:{"id":e.id?e.id:e.name,"disabled":e.disabled,"name":e.name,"min":e.setMinDate,"max":e.setMaxDate,"type":e.useTime?"datetime-local":"date"},domProps:{"value":e.toDate},on:{"input":function(r){if(r.target.composing)return;e.toDate=r.target.value}}}):e._e()])]),e.help?t("small",{class:e.theme.default.help},[e._t("help",function(){return[e._v(e._s(e.help))]})],2):e._e(),e.hasValidation?t("has-error",{attrs:{"form":e.form,"field":e.name}}):e._e()],1)};var f=[];var D=m(u,p,f,false,null,null,null,null);const x=D.exports;export{x as default};
